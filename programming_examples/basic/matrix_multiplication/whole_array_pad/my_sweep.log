SHELL=/bin/bash
JUPYTERHUB_SERVICE_URL=http://0.0.0.0:8888/user/ucsd-mlir-ajay-ramesh-ranganathan/
HOSTNAME=27abf39e880d
LANGUAGE=en_US:en
JUPYTERHUB_API_TOKEN=ad846a95990d4d6d8257e53ad1c6c4d3
JUPYTERHUB_BASE_URL=/
JUPYTERHUB_PUBLIC_URL=
XILINX_XRT=/opt/xilinx/xrt
n_aie_cols=4
PWD=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad
JUPYTER_SERVER_URL=http://27abf39e880d:8888/user/ucsd-mlir-ajay-ramesh-ranganathan/
JUPYTERHUB_SERVER_NAME=
LINES=35
n=64
m=64
k=64
XRT_HACK_UNSECURE_LOADING_XCLBIN=1
HOME=/home/mliraie
LANG=en_US.UTF-8
PEANO_INSTALL_DIR=/home/mliraie/mlir-aie/my_install/llvm-aie
LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=00:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.avif=01;35:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:*~=00;90:*#=00;90:*.bak=00;90:*.crdownload=00;90:*.dpkg-dist=00;90:*.dpkg-new=00;90:*.dpkg-old=00;90:*.dpkg-tmp=00;90:*.old=00;90:*.orig=00;90:*.part=00;90:*.rej=00;90:*.rpmnew=00;90:*.rpmorig=00;90:*.rpmsave=00;90:*.swp=00;90:*.tmp=00;90:*.ucf-dist=00;90:*.ucf-new=00;90:*.ucf-old=00;90:
JPY_API_TOKEN=ad846a95990d4d6d8257e53ad1c6c4d3
COLUMNS=133
VIRTUAL_ENV=/home/mliraie/mlir-aie/ironenv
JUPYTERHUB_SERVICE_PREFIX=/user/ucsd-mlir-ajay-ramesh-ranganathan/
XILINXD_LICENSE_FILE=/opt/Xilinx.lic
JUPYTERHUB_OAUTH_CALLBACK_URL=/user/ucsd-mlir-ajay-ramesh-ranganathan/oauth_callback
JUPYTERHUB_ROOT_DIR=/notebooks
JUPYTERHUB_OAUTH_CLIENT_ALLOWED_SCOPES=[]
JUPYTER_IMAGE_SPEC=mlir-aie:latest
LIC_MAC=58:47:ca:71:b3:c0
LESSCLOSE=/usr/bin/lesspipe %s %s
JUPYTER_SERVER_ROOT=/notebooks
PYTHONPATH=/home/mliraie/mlir-aie/my_install/mlir_aie/python:/opt/xilinx/xrt/python
TERM=xterm-256color
LESSOPEN=| /usr/bin/lesspipe %s
JUPYTERHUB_OAUTH_ACCESS_SCOPES=["access:servers!server=ucsd-mlir-ajay-ramesh-ranganathan/", "access:servers!user=ucsd-mlir-ajay-ramesh-ranganathan"]
JUPYTERHUB_COOKIE_HOST_PREFIX_ENABLED=0
SHLVL=2
PYXTERM_DIMENSIONS=80x25
JUPYTERHUB_API_URL=http://192.168.252.2:8081/hub/api
JUPYTERHUB_CLIENT_ID=jupyterhub-user-ucsd-mlir-ajay-ramesh-ranganathan
JUPYTERHUB_OAUTH_SCOPES=["access:servers!server=ucsd-mlir-ajay-ramesh-ranganathan/", "access:servers!user=ucsd-mlir-ajay-ramesh-ranganathan"]
JUPYTERHUB_PUBLIC_HUB_URL=
VIRTUAL_ENV_PROMPT=(ironenv) 
JUPYTERHUB_HOST=
JUPYTERHUB_DEBUG=1
LD_LIBRARY_PATH=/home/mliraie/mlir-aie/my_install/llvm-aie/lib:/home/mliraie/mlir-aie/my_install/mlir_aie/lib:/home/mliraie/mlir-aie/my_install/mlir/lib:/opt/xilinx/xrt/lib
dtype_out=i16
DEBUGINFOD_URLS=https://debuginfod.ubuntu.com 
LC_ALL=en_US.UTF-8
PATH=/home/mliraie/mlir-aie/my_install/llvm-aie/bin:/home/mliraie/mlir-aie/my_install/mlir_aie/bin:/home/mliraie/mlir-aie/my_install/mlir/bin:/home/mliraie/mlir-aie/ironenv/bin:/opt/vitis_aie_essentials/bin/:/opt/xilinx/xrt/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
dtype_in=i16
JUPYTERHUB_USER=ucsd-mlir-ajay-ramesh-ranganathan
JUPYTERHUB_ACTIVITY_URL=http://192.168.252.2:8081/hub/api/users/ucsd-mlir-ajay-ramesh-ranganathan/activity
_=/usr/bin/env
##===- Makefile -----------------------------------------------------------===##
# 
# This file licensed under the Apache License v2.0 with LLVM Exceptions.
# See https://llvm.org/LICENSE.txt for license information.
# SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception
#
# Copyright (C) 2024, Advanced Micro Devices, Inc.
# 
##===----------------------------------------------------------------------===##
srcdir := $(shell dirname $(realpath $(firstword $(MAKEFILE_LIST))))
subdir=whole_array_pad
targetname=matrixMultiplicationPadded

M?=610
K?=600
N?=768
m?=16
k?=32
n?=48
n_aie_cols?=4
b_col_maj?=0

kernels=mm_${m}x${k}x${n}
aieargs+=-m $m -k $k -n $n --n-aie-cols ${n_aie_cols} --b-col-maj ${b_col_maj}
runargs+=--b_col_maj ${b_col_maj}
target_suffix=${M}x${K}x${N}_${m}x${k}x${n}_${n_aie_cols}c

include ${srcdir}/../makefile-common-padding

build/mm_b_row_maj_${m}x${k}x${n}.o: ${kernels_dir}/mm.cc
	mkdir -p ${@D}
	cd ${@D} && ${PEANO_INSTALL_DIR}/bin/clang++ ${PEANOWRAP2_FLAGS} -DBIT_WIDTH=8 -D${dtype_in}_${dtype_out}_ONLY -DDIM_M=${m} -DDIM_K=${k} -DDIM_N=${n} -c $< -o ${@F}

build/mm_b_col_maj_${m}x${k}x${n}.o: ${kernels_dir}/mm_b_col_maj.cc
	mkdir -p ${@D}
	cd ${@D} && ${PEANO_INSTALL_DIR}/bin/clang++ ${PEANOWRAP2_FLAGS} -DBIT_WIDTH=8 -DDIM_M=${m} -DDIM_K=${k} -DDIM_N=${n} -c $< -o ${@F}

ifneq (${b_col_maj}, 1)
build/mm_${m}x${k}x${n}.o: build/mm_b_row_maj_${m}x${k}x${n}.o 
	mkdir -p ${@D}
	ar rvs $@ $^
else
build/mm_${m}x${k}x${n}.o: build/mm_b_col_maj_${m}x${k}x${n}.o
	mkdir -p ${@D}
	ar rvs $@ $^
endifrm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 256 -N 256 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x256x256_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x256x256_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x256x256_64x64x64_4c.txt ../build/aie_256x256x256_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x256_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x256_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x256_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.3s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x256x256_64x64x64_4c.xclbin -i build/insts_256x256x256_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 256 -N 256 --b_col_maj 0
Final M=256
Final K=256
Final N=384
Matrix has been padded
[    0,     0] -3712.00 =!= 6144.00
[    0,     1] -9589.00 =!= -11750.00
[    0,     2] -32046.00 =!= 21034.00
[    0,     3] -7168.00 =!= -11809.00
[    0,     4] 12976.00 =!= 20792.00
[    0,     5] -27902.00 =!= -11893.00
[    0,     6] 18942.00 =!= -7040.00
[    0,     7] -23029.00 =!= -16112.00
[    0,     8] -19872.00 =!= -19472.00
[    0,     9] -8384.00 =!= -16286.00
[    0,    10] 19258.00 =!= 25422.00
[    0,    11] 23826.00 =!= 14412.00
[    0,    12] -21152.00 =!= 25556.00
[    0,    13] 3796.00 =!= 9334.00
[    0,    14] 23024.00 =!= -31326.00
[    0,    15] 24013.00 =!= 1626.00
[    0,    16] -20704.00 =!= 32608.00
[    0,    17] -31035.00 =!= 11693.00
[    0,    18] -30442.00 =!= -2142.00
[    0,    19] 26163.00 =!= -29393.00
[    0,    20] 23664.00 =!= 4532.00
[    0,    21] 8512.00 =!= -26268.00
[    0,    22] 17880.00 =!= 8456.00
[    0,    23] -25624.00 =!= 14258.00
[    0,    24] -11824.00 =!= 5472.00
[    0,    25] -28596.00 =!= 17409.00
[    0,    26] -12182.00 =!= 7118.00
[    0,    27] 21672.00 =!= 5097.00
[    0,    28] -10088.00 =!= -24876.00
[    0,    29] -5080.00 =!= -8179.00
[    0,    30] -32670.00 =!= 25712.00
[    0,    31] 17864.00 =!= -30004.00
...and 65504 further errors.
Maximum relative error: 100%

Reference:
    6144    -11750     21034    -11809     20792   ...     8594    -23624    -26675     -4592      7108  
    6144        26     -7126    -24609     -3784   ...    32146     18360    -12595     10768     11460  
    6144     11802     30250     28127    -28360   ...    -9838     -5192      1485     26128     15812  
    6144     23578      2090     15327     12600   ...    13714    -28744     15565    -24048     20164  
    6144    -30182    -26070      2527    -11976   ...   -28270     13240     29645     -8688     24516  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
    6144     -5094     30762    -13345     12600   ...    21906     28600    -31539    -15856    -14652  
    6144      6682      2602    -26145    -11976   ...   -20078      5048    -17459      -496    -10300  
    6144     18458    -25558     26591     28984   ...     3474    -18504     -3379     14864     -5948  
    6144     30234     11818     13791      4408   ...    27026     23480     10701     30224     -1596  
    6144    -23526    -16342       991    -20168   ...   -14958       -72     24781    -19952      2756  

Output:
   -3712     -9589    -32046     -7168     12976   ...   -19947     27828     31756    -15234     28377  
   -3712     20363    -13614    -10752     23216   ...   -32747     -2892    -25076     22654      3545  
   -3712    -15221      4818    -14336    -32080   ...    19989     31924    -16372     -4994    -21287  
   -3712     14731     23250    -17920    -21840   ...     7189      1204     -7668    -32642     19417  
   -3712    -20853    -23854    -21504    -11600   ...    -5611    -29516      1036      5246     -5415  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 3797.00us.
Avg NPU gflops: 8.84

Min NPU matmul time: 3797.00us.
Max NPU gflops: 8.84

Max NPU matmul time: 3797.00us.
Min NPU gflops: 8.84

Error count: 65536


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 256 -N 512 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x256x512_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x256x512_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x256x512_64x64x64_4c.txt ../build/aie_256x256x512_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x512_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x512_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x512_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x256x512_64x64x64_4c.xclbin -i build/insts_256x256x512_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 256 -N 512 --b_col_maj 0
Final M=256
Final K=256
Final N=576
Matrix has been padded
[    0,     0] 11008.00 =!= 26624.00
[    0,     1] -6533.00 =!= 31272.00
[    0,     2] 25226.00 =!= -27614.00
[    0,     3] -3218.00 =!= -538.00
[    0,     4] 2676.00 =!= -32384.00
[    0,     5] -31091.00 =!= -16816.00
[    0,     6] -32442.00 =!= 22716.00
[    0,     7] 8430.00 =!= -22377.00
[    0,     8] -9144.00 =!= -15528.00
[    0,     9] 9749.00 =!= -19339.00
[    0,    10] 12758.00 =!= 21458.00
[    0,    11] -19255.00 =!= -8524.00
[    0,    12] -4384.00 =!= -2380.00
[    0,    13] -24476.00 =!= 13274.00
[    0,    14] -28162.00 =!= -9978.00
[    0,    15] 14305.00 =!= -31284.00
[    0,    16] 10848.00 =!= -16976.00
[    0,    17] -25315.00 =!= 27419.00
[    0,    18] 24532.00 =!= -14044.00
[    0,    19] -10832.00 =!= 7946.00
[    0,    20] -26396.00 =!= 11700.00
[    0,    21] -6406.00 =!= -31526.00
[    0,    22] 17054.00 =!= 8018.00
[    0,    23] 20813.00 =!= -871.00
[    0,    24] 4792.00 =!= 3368.00
[    0,    25] 15983.00 =!= -31312.00
[    0,    26] 10716.00 =!= 10258.00
[    0,    27] 8372.00 =!= -26510.00
[    0,    28] 9332.00 =!= 26872.00
[    0,    29] 2018.00 =!= -23048.00
[    0,    30] -22466.00 =!= 15356.00
[    0,    31] -16594.00 =!= 28728.00
...and 131037 further errors.
Maximum relative error: 100%

Reference:
   26624     31272    -27614      -538    -32384   ...   -27300     26048    -29978       758    -29811  
   26624      1832     20514     -8218      8576   ...     -164    -20032    -30490      5366     28557  
   26624    -27608      3106    -15898    -16000   ...    26972      -576    -31002      9974     21389  
   26624      8488    -14302    -23578     24960   ...   -11428     18880    -31514     14582     14221  
   26624    -20952    -31710    -31258       384   ...    15708    -27200    -32026     19190      7053  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   26624    -18136     -6110    -27674     24960   ...   -31908     -5696    -27418    -22282      6029  
   26624     17960    -23518     30182       384   ...    -4772     13760    -27930    -17674     -1139  
   26624    -11480     24610     22502    -24192   ...    22364    -32320    -28442    -13066     -8307  
   26624     24616      7202     14822     16768   ...   -16036    -12864    -28954     -8458    -15475  
   26624     -4824    -10206      7142     -7808   ...    11100      6592    -29466     -3850    -22643  

Output:
   11008     -6533     25226     -3218      2676   ...    31768      6412     21160    -22044     31389  
   -5376     20603     10378     17262     19060   ...    16408      -756    -29272    -18460    -15459  
  -21760    -17797     -4470    -27794    -30092   ...     1048     -7924    -14168    -14876      3229  
   27392      9339    -19318     -7314    -13708   ...   -14312    -15092       936    -11292     21917  
   11008    -29061     31370     13166      2676   ...   -29672    -22260     16040     -7708    -24931  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 3176.00us.
Avg NPU gflops: 21.13

Min NPU matmul time: 3176.00us.
Max NPU gflops: 21.13

Max NPU matmul time: 3176.00us.
Min NPU gflops: 21.13

Error count: 131069


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 256 -N 768 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x256x768_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x256x768_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x256x768_64x64x64_4c.txt ../build/aie_256x256x768_64x64x64_4c.mlir
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation:                                            0% -:--:-- 0:00:00  0/17 4 Workers
Traceback (most recent call last):
  File "/usr/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/base_events.py", line 687, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/home/mliraie/mlir-aie/my_install/mlir_aie/python/aie/compiler/aiecc/main.py", line 1149, in run_flow
    await asyncio.gather(
  File "/home/mliraie/mlir-aie/my_install/mlir_aie/python/aie/compiler/aiecc/main.py", line 706, in process_host_cgen
    await self.do_call(
  File "/home/mliraie/mlir-aie/my_install/mlir_aie/python/aie/compiler/aiecc/main.py", line 414, in do_call
    await proc.wait()
  File "/usr/lib/python3.12/asyncio/subprocess.py", line 137, in wait
    return await self._transport._wait()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/base_subprocess.py", line 230, in _wait
    return await waiter
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/mliraie/mlir-aie/my_install/mlir_aie/bin/aiecc.py", line 12, in <module>
    main()
  File "/home/mliraie/mlir-aie/my_install/mlir_aie/python/aie/compiler/aiecc/main.py", line 1280, in main
    run(module_str)
  File "/home/mliraie/mlir-aie/my_install/mlir_aie/python/aie/compiler/aiecc/main.py", line 1254, in run
    asyncio.run(runner.run_flow())
  File "/usr/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt
make: *** [/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../makefile-common-padding:107: build/final_256x256x768_64x64x64_4c.xclbin] Interrupt
SHELL=/bin/bash
JUPYTERHUB_SERVICE_URL=http://0.0.0.0:8888/user/ucsd-mlir-ajay-ramesh-ranganathan/
HOSTNAME=27abf39e880d
LANGUAGE=en_US:en
JUPYTERHUB_API_TOKEN=ad846a95990d4d6d8257e53ad1c6c4d3
JUPYTERHUB_BASE_URL=/
JUPYTERHUB_PUBLIC_URL=
XILINX_XRT=/opt/xilinx/xrt
n_aie_cols=4
PWD=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad
JUPYTER_SERVER_URL=http://27abf39e880d:8888/user/ucsd-mlir-ajay-ramesh-ranganathan/
JUPYTERHUB_SERVER_NAME=
LINES=35
n=64
m=64
k=64
XRT_HACK_UNSECURE_LOADING_XCLBIN=1
HOME=/home/mliraie
LANG=en_US.UTF-8
PEANO_INSTALL_DIR=/home/mliraie/mlir-aie/my_install/llvm-aie
LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=00:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.avif=01;35:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:*~=00;90:*#=00;90:*.bak=00;90:*.crdownload=00;90:*.dpkg-dist=00;90:*.dpkg-new=00;90:*.dpkg-old=00;90:*.dpkg-tmp=00;90:*.old=00;90:*.orig=00;90:*.part=00;90:*.rej=00;90:*.rpmnew=00;90:*.rpmorig=00;90:*.rpmsave=00;90:*.swp=00;90:*.tmp=00;90:*.ucf-dist=00;90:*.ucf-new=00;90:*.ucf-old=00;90:
JPY_API_TOKEN=ad846a95990d4d6d8257e53ad1c6c4d3
COLUMNS=133
VIRTUAL_ENV=/home/mliraie/mlir-aie/ironenv
JUPYTERHUB_SERVICE_PREFIX=/user/ucsd-mlir-ajay-ramesh-ranganathan/
XILINXD_LICENSE_FILE=/opt/Xilinx.lic
JUPYTERHUB_OAUTH_CALLBACK_URL=/user/ucsd-mlir-ajay-ramesh-ranganathan/oauth_callback
JUPYTERHUB_ROOT_DIR=/notebooks
JUPYTERHUB_OAUTH_CLIENT_ALLOWED_SCOPES=[]
JUPYTER_IMAGE_SPEC=mlir-aie:latest
LIC_MAC=58:47:ca:71:b3:c0
LESSCLOSE=/usr/bin/lesspipe %s %s
JUPYTER_SERVER_ROOT=/notebooks
PYTHONPATH=/home/mliraie/mlir-aie/my_install/mlir_aie/python:/opt/xilinx/xrt/python
TERM=xterm-256color
LESSOPEN=| /usr/bin/lesspipe %s
JUPYTERHUB_OAUTH_ACCESS_SCOPES=["access:servers!server=ucsd-mlir-ajay-ramesh-ranganathan/", "access:servers!user=ucsd-mlir-ajay-ramesh-ranganathan"]
JUPYTERHUB_COOKIE_HOST_PREFIX_ENABLED=0
SHLVL=2
PYXTERM_DIMENSIONS=80x25
JUPYTERHUB_API_URL=http://192.168.252.2:8081/hub/api
JUPYTERHUB_CLIENT_ID=jupyterhub-user-ucsd-mlir-ajay-ramesh-ranganathan
JUPYTERHUB_OAUTH_SCOPES=["access:servers!server=ucsd-mlir-ajay-ramesh-ranganathan/", "access:servers!user=ucsd-mlir-ajay-ramesh-ranganathan"]
JUPYTERHUB_PUBLIC_HUB_URL=
VIRTUAL_ENV_PROMPT=(ironenv) 
JUPYTERHUB_HOST=
JUPYTERHUB_DEBUG=1
LD_LIBRARY_PATH=/home/mliraie/mlir-aie/my_install/llvm-aie/lib:/home/mliraie/mlir-aie/my_install/mlir_aie/lib:/home/mliraie/mlir-aie/my_install/mlir/lib:/opt/xilinx/xrt/lib
dtype_out=i16
DEBUGINFOD_URLS=https://debuginfod.ubuntu.com 
LC_ALL=en_US.UTF-8
PATH=/home/mliraie/mlir-aie/my_install/llvm-aie/bin:/home/mliraie/mlir-aie/my_install/mlir_aie/bin:/home/mliraie/mlir-aie/my_install/mlir/bin:/home/mliraie/mlir-aie/ironenv/bin:/opt/vitis_aie_essentials/bin/:/opt/xilinx/xrt/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
dtype_in=i16
JUPYTERHUB_USER=ucsd-mlir-ajay-ramesh-ranganathan
JUPYTERHUB_ACTIVITY_URL=http://192.168.252.2:8081/hub/api/users/ucsd-mlir-ajay-ramesh-ranganathan/activity
_=/usr/bin/env
##===- Makefile -----------------------------------------------------------===##
# 
# This file licensed under the Apache License v2.0 with LLVM Exceptions.
# See https://llvm.org/LICENSE.txt for license information.
# SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception
#
# Copyright (C) 2024, Advanced Micro Devices, Inc.
# 
##===----------------------------------------------------------------------===##
srcdir := $(shell dirname $(realpath $(firstword $(MAKEFILE_LIST))))
subdir=whole_array_pad
targetname=matrixMultiplicationPadded

M?=610
K?=600
N?=768
m?=16
k?=32
n?=48
n_aie_cols?=4
b_col_maj?=0

kernels=mm_${m}x${k}x${n}
aieargs+=-m $m -k $k -n $n --n-aie-cols ${n_aie_cols} --b-col-maj ${b_col_maj}
runargs+=--b_col_maj ${b_col_maj}
target_suffix=${M}x${K}x${N}_${m}x${k}x${n}_${n_aie_cols}c

include ${srcdir}/../makefile-common-padding

build/mm_b_row_maj_${m}x${k}x${n}.o: ${kernels_dir}/mm.cc
	mkdir -p ${@D}
	cd ${@D} && ${PEANO_INSTALL_DIR}/bin/clang++ ${PEANOWRAP2_FLAGS} -DBIT_WIDTH=8 -D${dtype_in}_${dtype_out}_ONLY -DDIM_M=${m} -DDIM_K=${k} -DDIM_N=${n} -c $< -o ${@F}

build/mm_b_col_maj_${m}x${k}x${n}.o: ${kernels_dir}/mm_b_col_maj.cc
	mkdir -p ${@D}
	cd ${@D} && ${PEANO_INSTALL_DIR}/bin/clang++ ${PEANOWRAP2_FLAGS} -DBIT_WIDTH=8 -DDIM_M=${m} -DDIM_K=${k} -DDIM_N=${n} -c $< -o ${@F}

ifneq (${b_col_maj}, 1)
build/mm_${m}x${k}x${n}.o: build/mm_b_row_maj_${m}x${k}x${n}.o 
	mkdir -p ${@D}
	ar rvs $@ $^
else
build/mm_${m}x${k}x${n}.o: build/mm_b_col_maj_${m}x${k}x${n}.o
	mkdir -p ${@D}
	ar rvs $@ $^
endifrm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 256 -N 256 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x256x256_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x256x256_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x256x256_64x64x64_4c.txt ../build/aie_256x256x256_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x256_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x256_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x256_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x256x256_64x64x64_4c.xclbin -i build/insts_256x256x256_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 256 -N 256 --b_col_maj 0
Final M=256
Final K=256
Final N=384
Matrix has been padded
[    0,     0] -3712.00 =!= 6144.00
[    0,     1] -9589.00 =!= -11750.00
[    0,     2] -32046.00 =!= 21034.00
[    0,     3] -7168.00 =!= -11809.00
[    0,     4] 12976.00 =!= 20792.00
[    0,     5] -27902.00 =!= -11893.00
[    0,     6] 18942.00 =!= -7040.00
[    0,     7] -23029.00 =!= -16112.00
[    0,     8] -19872.00 =!= -19472.00
[    0,     9] -8384.00 =!= -16286.00
[    0,    10] 19258.00 =!= 25422.00
[    0,    11] 23826.00 =!= 14412.00
[    0,    12] -21152.00 =!= 25556.00
[    0,    13] 3796.00 =!= 9334.00
[    0,    14] 23024.00 =!= -31326.00
[    0,    15] 24013.00 =!= 1626.00
[    0,    16] -20704.00 =!= 32608.00
[    0,    17] -31035.00 =!= 11693.00
[    0,    18] -30442.00 =!= -2142.00
[    0,    19] 26163.00 =!= -29393.00
[    0,    20] 23664.00 =!= 4532.00
[    0,    21] 8512.00 =!= -26268.00
[    0,    22] 17880.00 =!= 8456.00
[    0,    23] -25624.00 =!= 14258.00
[    0,    24] -11824.00 =!= 5472.00
[    0,    25] -28596.00 =!= 17409.00
[    0,    26] -12182.00 =!= 7118.00
[    0,    27] 21672.00 =!= 5097.00
[    0,    28] -10088.00 =!= -24876.00
[    0,    29] -5080.00 =!= -8179.00
[    0,    30] -32670.00 =!= 25712.00
[    0,    31] 17864.00 =!= -30004.00
...and 65504 further errors.
Maximum relative error: 100%

Reference:
    6144    -11750     21034    -11809     20792   ...     8594    -23624    -26675     -4592      7108  
    6144        26     -7126    -24609     -3784   ...    32146     18360    -12595     10768     11460  
    6144     11802     30250     28127    -28360   ...    -9838     -5192      1485     26128     15812  
    6144     23578      2090     15327     12600   ...    13714    -28744     15565    -24048     20164  
    6144    -30182    -26070      2527    -11976   ...   -28270     13240     29645     -8688     24516  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
    6144     -5094     30762    -13345     12600   ...    21906     28600    -31539    -15856    -14652  
    6144      6682      2602    -26145    -11976   ...   -20078      5048    -17459      -496    -10300  
    6144     18458    -25558     26591     28984   ...     3474    -18504     -3379     14864     -5948  
    6144     30234     11818     13791      4408   ...    27026     23480     10701     30224     -1596  
    6144    -23526    -16342       991    -20168   ...   -14958       -72     24781    -19952      2756  

Output:
   -3712     -9589    -32046     -7168     12976   ...   -19947     27828     31756    -15234     28377  
   -3712     20363    -13614    -10752     23216   ...   -32747     -2892    -25076     22654      3545  
   -3712    -15221      4818    -14336    -32080   ...    19989     31924    -16372     -4994    -21287  
   -3712     14731     23250    -17920    -21840   ...     7189      1204     -7668    -32642     19417  
   -3712    -20853    -23854    -21504    -11600   ...    -5611    -29516      1036      5246     -5415  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2107.00us.
Avg NPU gflops: 15.93

Min NPU matmul time: 2107.00us.
Max NPU gflops: 15.93

Max NPU matmul time: 2107.00us.
Min NPU gflops: 15.93

Error count: 65536


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 256 -N 512 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x256x512_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x256x512_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x256x512_64x64x64_4c.txt ../build/aie_256x256x512_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x512_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x512_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x512_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x256x512_64x64x64_4c.xclbin -i build/insts_256x256x512_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 256 -N 512 --b_col_maj 0
Final M=256
Final K=256
Final N=576
Matrix has been padded
[    0,     0] 11008.00 =!= 26624.00
[    0,     1] -6533.00 =!= 31272.00
[    0,     2] 25226.00 =!= -27614.00
[    0,     3] -3218.00 =!= -538.00
[    0,     4] 2676.00 =!= -32384.00
[    0,     5] -31091.00 =!= -16816.00
[    0,     6] -32442.00 =!= 22716.00
[    0,     7] 8430.00 =!= -22377.00
[    0,     8] -9144.00 =!= -15528.00
[    0,     9] 9749.00 =!= -19339.00
[    0,    10] 12758.00 =!= 21458.00
[    0,    11] -19255.00 =!= -8524.00
[    0,    12] -4384.00 =!= -2380.00
[    0,    13] -24476.00 =!= 13274.00
[    0,    14] -28162.00 =!= -9978.00
[    0,    15] 14305.00 =!= -31284.00
[    0,    16] 10848.00 =!= -16976.00
[    0,    17] -25315.00 =!= 27419.00
[    0,    18] 24532.00 =!= -14044.00
[    0,    19] -10832.00 =!= 7946.00
[    0,    20] -26396.00 =!= 11700.00
[    0,    21] -6406.00 =!= -31526.00
[    0,    22] 17054.00 =!= 8018.00
[    0,    23] 20813.00 =!= -871.00
[    0,    24] 4792.00 =!= 3368.00
[    0,    25] 15983.00 =!= -31312.00
[    0,    26] 10716.00 =!= 10258.00
[    0,    27] 8372.00 =!= -26510.00
[    0,    28] 9332.00 =!= 26872.00
[    0,    29] 2018.00 =!= -23048.00
[    0,    30] -22466.00 =!= 15356.00
[    0,    31] -16594.00 =!= 28728.00
...and 131037 further errors.
Maximum relative error: 100%

Reference:
   26624     31272    -27614      -538    -32384   ...   -27300     26048    -29978       758    -29811  
   26624      1832     20514     -8218      8576   ...     -164    -20032    -30490      5366     28557  
   26624    -27608      3106    -15898    -16000   ...    26972      -576    -31002      9974     21389  
   26624      8488    -14302    -23578     24960   ...   -11428     18880    -31514     14582     14221  
   26624    -20952    -31710    -31258       384   ...    15708    -27200    -32026     19190      7053  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   26624    -18136     -6110    -27674     24960   ...   -31908     -5696    -27418    -22282      6029  
   26624     17960    -23518     30182       384   ...    -4772     13760    -27930    -17674     -1139  
   26624    -11480     24610     22502    -24192   ...    22364    -32320    -28442    -13066     -8307  
   26624     24616      7202     14822     16768   ...   -16036    -12864    -28954     -8458    -15475  
   26624     -4824    -10206      7142     -7808   ...    11100      6592    -29466     -3850    -22643  

Output:
   11008     -6533     25226     -3218      2676   ...    31768      6412     21160    -22044     31389  
   -5376     20603     10378     17262     19060   ...    16408      -756    -29272    -18460    -15459  
  -21760    -17797     -4470    -27794    -30092   ...     1048     -7924    -14168    -14876      3229  
   27392      9339    -19318     -7314    -13708   ...   -14312    -15092       936    -11292     21917  
   11008    -29061     31370     13166      2676   ...   -29672    -22260     16040     -7708    -24931  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2088.00us.
Avg NPU gflops: 32.14

Min NPU matmul time: 2088.00us.
Max NPU gflops: 32.14

Max NPU matmul time: 2088.00us.
Min NPU gflops: 32.14

Error count: 131069


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 256 -N 768 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x256x768_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x256x768_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x256x768_64x64x64_4c.txt ../build/aie_256x256x768_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x768_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x768_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x768_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x256x768_64x64x64_4c.xclbin -i build/insts_256x256x768_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 256 -N 768 --b_col_maj 0
Final M=256
Final K=256
Final N=768
Matrix has been padded

Avg NPU matmul time: 2137us.
Avg NPU gflops: 47.105

Min NPU matmul time: 2137us.
Max NPU gflops: 47.105

Max NPU matmul time: 2137us.
Min NPU gflops: 47.105

PASS!

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 256 -N 1024 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x256x1024_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x256x1024_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x256x1024_64x64x64_4c.txt ../build/aie_256x256x1024_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x1024_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x1024_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x1024_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x256x1024_64x64x64_4c.xclbin -i build/insts_256x256x1024_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 256 -N 1024 --b_col_maj 0
Final M=256
Final K=256
Final N=1152
Matrix has been padded
[    0,     0] 25088.00 =!= 31744.00
[    0,     1] 27587.00 =!= 25966.00
[    0,     2] 9450.00 =!= 26016.00
[    0,     3] 22358.00 =!= 5819.00
[    0,     4] -25880.00 =!= -22620.00
[    0,     5] 21549.00 =!= -16306.00
[    0,     6] -11414.00 =!= 14888.00
[    0,     7] 6360.00 =!= -28104.00
[    0,     8] -7320.00 =!= -26648.00
[    0,     9] -21189.00 =!= -10253.00
[    0,    10] 1308.00 =!= -4458.00
[    0,    11] 23109.00 =!= 5392.00
[    0,    12] 6624.00 =!= -14664.00
[    0,    13] -30578.00 =!= -1585.00
[    0,    14] 3490.00 =!= -874.00
[    0,    15] -21426.00 =!= 2151.00
[    0,    16] -2496.00 =!= -5600.00
[    0,    17] 9617.00 =!= 9091.00
[    0,    18] -19770.00 =!= 28372.00
[    0,    19] 28185.00 =!= 12247.00
[    0,    20] -29104.00 =!= -152.00
[    0,    21] 10582.00 =!= 3407.00
[    0,    22] -4600.00 =!= 14420.00
[    0,    23] -2092.00 =!= 4030.00
[    0,    24] 23424.00 =!= -17248.00
[    0,    25] 24152.00 =!= 31785.00
[    0,    26] -30730.00 =!= -12050.00
[    0,    27] -5736.00 =!= -23991.00
[    0,    28] 19080.00 =!= 16368.00
[    0,    29] 3433.00 =!= -21710.00
[    0,    30] -8104.00 =!= 2868.00
[    0,    31] -24700.00 =!= -4226.00
...and 262108 further errors.
Maximum relative error: 200%

Reference:
   31744     25966     26016      5819    -22620   ...   -15501     12352    -32368     -2260    -25599  
   31744      8558       -96    -25157     16292   ...   -20365    -24512     23952     18732     22529  
   31744     -8850    -26208      9403    -10332   ...   -25229      4160     14736    -25812      5121  
   31744    -26258     13216    -21573     28580   ...   -30093    -32704      5520     -4820    -12287  
   31744     21870    -12896     12987      1956   ...    30579     -4032     -3696     16172    -29695  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   31744    -18066     25504     29627    -20572   ...     8819        64     13712     23852     -4095  
   31744     30062      -608     -1349     18340   ...     3955     28736      4496    -20692    -21503  
   31744     12654    -26720    -32325     -8284   ...     -909     -8128     -4720       300     26625  
   31744     -4754     12704      2235     30628   ...    -5773     20544    -13936     21292      9217  
   31744    -22162    -13408    -28741      4004   ...   -10637    -16320    -23152    -23252     -8191  

Output:
   25088     27587      9450     22358    -25880   ...    27150     18624    -22570     25860     23605  
   -7680     10947    -10006     23382     23272   ...   -29426    -29504     27862    -31996     -9675  
   25088     -5693    -29462     24406      6888   ...   -20466    -12096     12758    -24316     22581  
   -7680    -22333     16618     25430     -9496   ...   -11506      5312     -2346    -16636    -10699  
   25088     26563     -2838     26454    -25880   ...    -2546     22720    -17450     -8956     21557  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2140.00us.
Avg NPU gflops: 62.72

Min NPU matmul time: 2140.00us.
Max NPU gflops: 62.72

Max NPU matmul time: 2140.00us.
Min NPU gflops: 62.72

Error count: 262140


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 256 -N 1280 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x256x1280_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x256x1280_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x256x1280_64x64x64_4c.txt ../build/aie_256x256x1280_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x1280_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x1280_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x1280_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x256x1280_64x64x64_4c.xclbin -i build/insts_256x256x1280_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 256 -N 1280 --b_col_maj 0
Final M=256
Final K=256
Final N=1344
Matrix has been padded
[    0,     0] 4992.00 =!= 12544.00
[    0,     1] 951.00 =!= 22602.00
[    0,     2] 25534.00 =!= 23312.00
[    0,     3] -1612.00 =!= 12112.00
[    0,     4] -13224.00 =!= 26732.00
[    0,     5] -14644.00 =!= -27646.00
[    0,     6] 13168.00 =!= -2612.00
[    0,     7] -28665.00 =!= -18526.00
[    0,     8] 32176.00 =!= 15624.00
[    0,     9] -22649.00 =!= -26553.00
[    0,    10] 30778.00 =!= -9818.00
[    0,    11] 30504.00 =!= 21062.00
[    0,    12] 28716.00 =!= 13932.00
[    0,    13] -6349.00 =!= -28010.00
[    0,    14] 7234.00 =!= 18680.00
[    0,    15] -7606.00 =!= 31800.00
[    0,    16] 10704.00 =!= 23968.00
[    0,    17] -858.00 =!= -23502.00
[    0,    18] 30992.00 =!= 31096.00
[    0,    19] -8711.00 =!= -22960.00
[    0,    20] -9128.00 =!= 3160.00
[    0,    21] -1603.00 =!= -1382.00
[    0,    22] 3124.00 =!= 27450.00
[    0,    23] -11055.00 =!= 1380.00
[    0,    24] -21656.00 =!= 16000.00
[    0,    25] 3510.00 =!= 19672.00
[    0,    26] 18508.00 =!= 114.00
[    0,    27] -6766.00 =!= -10504.00
[    0,    28] -19376.00 =!= -19072.00
[    0,    29] 20141.00 =!= 20618.00
[    0,    30] -8154.00 =!= 30064.00
[    0,    31] 9589.00 =!= 31721.00
...and 327639 further errors.
Maximum relative error: 200%

Reference:
   12544     22602     23312     12112     26732   ...   -31281      7288     30820    -20060     18386  
   12544      6474     10000    -18096      2156   ...   -23345     18552    -20892     26532      9682  
   12544     -9654     -3312     17232    -22420   ...   -15409     29816     -7068      7588       978  
   12544    -25782    -16624    -12976     18540   ...    -7473    -24456      6756    -11356     -7726  
   12544     23626    -29936     22352     -6036   ...      463    -13192     20580    -30300    -16430  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   12544    -27830     24336     32080     18540   ...    -5425     16504     27236      9124     -3630  
   12544     21578     11024      1872     -6036   ...     2511     27768    -24476     -9820    -12334  
   12544      5450     -2288    -28336    -30612   ...    10447    -26504    -10652    -28764    -21038  
   12544    -10678    -15600      6992     10348   ...    18383    -15240      3172     17828    -29742  
   12544    -26806    -28912    -23216    -14228   ...    26319     -3976     16996     -1116     27090  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 256 -N 1536 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x256x1536_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x256x1536_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x256x1536_64x64x64_4c.txt ../build/aie_256x256x1536_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x1536_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x1536_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x1536_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x256x1536_64x64x64_4c.xclbin -i build/insts_256x256x1536_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 256 -N 1536 --b_col_maj 0
Final M=256
Final K=256
Final N=1536
Matrix has been padded

Avg NPU matmul time: 2200us.
Avg NPU gflops: 91.5121

Min NPU matmul time: 2200us.
Max NPU gflops: 91.5121

Max NPU matmul time: 2200us.
Min NPU gflops: 91.5121

PASS!

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 256 -N 1792 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x256x1792_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x256x1792_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x256x1792_64x64x64_4c.txt ../build/aie_256x256x1792_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x1792_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x1792_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x1792_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x256x1792_64x64x64_4c.xclbin -i build/insts_256x256x1792_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 256 -N 1792 --b_col_maj 0
Final M=256
Final K=256
Final N=1920
Matrix has been padded
[    0,     0] 2816.00 =!= 9728.00
[    0,     1] -28549.00 =!= -25104.00
[    0,     2] -31114.00 =!= -5268.00
[    0,     3] -8673.00 =!= -165.00
[    0,     4] -6232.00 =!= -22708.00
[    0,     5] -31449.00 =!= -16799.00
[    0,     6] -7682.00 =!= -23492.00
[    0,     7] -27843.00 =!= 15997.00
[    0,     8] 28752.00 =!= -25472.00
[    0,     9] -25406.00 =!= -23036.00
[    0,    10] -13618.00 =!= 1352.00
[    0,    11] -28131.00 =!= 32510.00
[    0,    12] 32612.00 =!= 23656.00
[    0,    13] 20678.00 =!= -9354.00
[    0,    14] -6950.00 =!= 7832.00
[    0,    15] -31270.00 =!= 17431.00
[    0,    16] -10992.00 =!= -28080.00
[    0,    17] 19503.00 =!= 4129.00
[    0,    18] 25422.00 =!= -21454.00
[    0,    19] 9646.00 =!= -18417.00
[    0,    20] -18792.00 =!= -28636.00
[    0,    21] 22041.00 =!= 6230.00
[    0,    22] 7304.00 =!= -31814.00
[    0,    23] 2862.00 =!= 15139.00
[    0,    24] 25760.00 =!= -13216.00
[    0,    25] -25418.00 =!= -1966.00
[    0,    26] -23412.00 =!= -28050.00
[    0,    27] 21757.00 =!= -868.00
[    0,    28] -30680.00 =!= -580.00
[    0,    29] -29808.00 =!= -30121.00
[    0,    30] -24108.00 =!= -28508.00
[    0,    31] 31740.00 =!= -3972.00
...and 458696 further errors.
Maximum relative error: 200%

Reference:
    9728    -25104     -5268      -165    -22708   ...    -4512    -26356    -29126      4058      -809  
    9728     12784      4460     27739     17228   ...   -30880     26892     11578      4570     24279  
    9728    -14864     14188     -9893     -8372   ...     8288     14604    -13254      5082    -16169  
    9728     23024     23916     18011     31564   ...   -18080      2316     27450      5594      8919  
    9728     -4624    -31892    -19621      5964   ...    21088     -9972      2618      6106    -31529  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
    9728    -17936     11628     -8613    -25780   ...    -3744    -30452     29498      1498      4823  
    9728     19952     21356     19291     14156   ...   -30112     22796      4666      2010     29911  
    9728     -7696     31084    -18341    -11444   ...     9056     10508    -20166      2522    -10537  
    9728     30192    -24724      9563     28492   ...   -17312     -1780     20538      3034     14551  
    9728      2544    -14996    -28069      2892   ...    21856    -14068     -4294      3546    -25897  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 256 -N 2048 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x256x2048_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x256x2048_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x256x2048_64x64x64_4c.txt ../build/aie_256x256x2048_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x2048_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x2048_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x2048_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x256x2048_64x64x64_4c.xclbin -i build/insts_256x256x2048_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 256 -N 2048 --b_col_maj 0
Final M=256
Final K=256
Final N=2112
Matrix has been padded
[    0,     0] 9920.00 =!= 18432.00
[    0,     1] 29024.00 =!= -1826.00
[    0,     2] -31426.00 =!= 25766.00
[    0,     3] -9830.00 =!= 14739.00
[    0,     4] 5772.00 =!= 9776.00
[    0,     5] -1122.00 =!= 903.00
[    0,     6] -20094.00 =!= -18920.00
[    0,     7] 7003.00 =!= 14882.00
[    0,     8] -26912.00 =!= -31904.00
[    0,     9] -3515.00 =!= 7121.00
[    0,    10] 7012.00 =!= 4034.00
[    0,    11] -18481.00 =!= -10119.00
[    0,    12] -20664.00 =!= -15552.00
[    0,    13] 1612.00 =!= -13917.00
[    0,    14] -8896.00 =!= 4402.00
[    0,    15] -21159.00 =!= -3779.00
[    0,    16] 10736.00 =!= -17776.00
[    0,    17] -27518.00 =!= -29864.00
[    0,    18] 1524.00 =!= -22666.00
[    0,    19] 31570.00 =!= -16048.00
[    0,    20] 9904.00 =!= 22472.00
[    0,    21] -20558.00 =!= -11730.00
[    0,    22] 7744.00 =!= -14630.00
[    0,    23] 29242.00 =!= 25212.00
[    0,    24] -21416.00 =!= -13944.00
[    0,    25] -3581.00 =!= 20980.00
[    0,    26] 15796.00 =!= 23796.00
[    0,    27] 13197.00 =!= -1409.00
[    0,    28] 12056.00 =!= 29984.00
[    0,    29] -12997.00 =!= -1111.00
[    0,    30] 16892.00 =!= 26250.00
[    0,    31] 14624.00 =!= -7138.00
...and 524242 further errors.
Maximum relative error: 200%

Reference:
   18432     -1826     25766     14739      9776   ...    -3311     24576     -9386    -30316    -24850  
   18432     30686    -29530     29843     -1488   ...   -14575     15360     14166      8596     30190  
   18432     -2338    -19290    -20589    -12752   ...   -25839      6144    -27818    -18028     19694  
   18432     30174     -9050     -5485    -24016   ...    28433     -3072     -4266     20884      9198  
   18432     -2850      1190      9619     30256   ...    17169    -12288     19286     -5740     -1298  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   18432     32222    -25434      4755       560   ...   -12527      5120      3926    -28268     27630  
   18432      -802    -15194     19859    -10704   ...   -23791     -4096     27478     10644     17134  
   18432     31710     -4954    -30573    -21968   ...    30481    -13312    -14506    -15980      6638  
   18432     -1314      5286    -15469     32304   ...    19217    -22528      9046     22932     -3858  
   18432     31198     15526      -365     21040   ...     7953    -31744     32598     -3692    -14354  

Output:
    9920     29024    -31426     -9830      5772   ...   -20707      2184      1842     32506    -16092  
  -22848    -10656    -18626    -14694     -1396   ...    31261      5256    -21710    -11014      4900  
    9920     15200     -5826    -19558     -8564   ...    17693      8328     20274     11002     25892  
  -22848    -24480      6974    -24422    -15732   ...     4125     11400     -3278    -32518    -18652  
    9920      1376     19774    -29286    -22900   ...    -9443     14472    -26830    -10502      2340  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2261.00us.
Avg NPU gflops: 118.72

Min NPU matmul time: 2261.00us.
Max NPU gflops: 118.72

Max NPU matmul time: 2261.00us.
Min NPU gflops: 118.72

Error count: 524274


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 256 -N 2304 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x256x2304_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x256x2304_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x256x2304_64x64x64_4c.txt ../build/aie_256x256x2304_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x2304_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x2304_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x2304_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x256x2304_64x64x64_4c.xclbin -i build/insts_256x256x2304_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 256 -N 2304 --b_col_maj 0
Final M=256
Final K=256
Final N=2304
Matrix has been padded

Avg NPU matmul time: 2810us.
Avg NPU gflops: 107.47

Min NPU matmul time: 2810us.
Max NPU gflops: 107.47

Max NPU matmul time: 2810us.
Min NPU gflops: 107.47

PASS!

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 256 -N 2560 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x256x2560_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x256x2560_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x256x2560_64x64x64_4c.txt ../build/aie_256x256x2560_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x2560_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x2560_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x2560_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x256x2560_64x64x64_4c.xclbin -i build/insts_256x256x2560_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 256 -N 2560 --b_col_maj 0
Final M=256
Final K=256
Final N=2688
Matrix has been padded
[    0,     0] 1408.00 =!= 2560.00
[    0,     1] -23385.00 =!= -26604.00
[    0,     2] -6070.00 =!= -16924.00
[    0,     3] -16425.00 =!= 16268.00
[    0,     4] 29000.00 =!= -31904.00
[    0,     5] 19321.00 =!= 11047.00
[    0,     6] -24042.00 =!= 10346.00
[    0,     7] 28094.00 =!= -15126.00
[    0,     8] 18304.00 =!= -256.00
[    0,     9] 392.00 =!= -25008.00
[    0,    10] 9480.00 =!= -24282.00
[    0,    11] -31345.00 =!= 9320.00
[    0,    12] 20520.00 =!= 18932.00
[    0,    13] 31013.00 =!= 29007.00
[    0,    14] -17414.00 =!= -6008.00
[    0,    15] -18579.00 =!= 15477.00
[    0,    16] -31424.00 =!= -29968.00
[    0,    17] -13625.00 =!= -1933.00
[    0,    18] -8628.00 =!= -22882.00
[    0,    19] -20958.00 =!= 25270.00
[    0,    20] 28292.00 =!= 7388.00
[    0,    21] -22802.00 =!= 642.00
[    0,    22] 872.00 =!= 21482.00
[    0,    23] 29808.00 =!= 32383.00
[    0,    24] -22440.00 =!= -19320.00
[    0,    25] -9063.00 =!= 27802.00
[    0,    26] 15858.00 =!= -564.00
[    0,    27] 29781.00 =!= -6419.00
[    0,    28] 6552.00 =!= 26472.00
[    0,    29] 26797.00 =!= 5539.00
[    0,    30] -15308.00 =!= -25342.00
[    0,    31] -12485.00 =!= -16451.00
...and 655317 further errors.
Maximum relative error: 200%

Reference:
    2560    -26604    -16924     16268    -31904   ...   -27786    -13800     28516     20646     22390  
    2560     -9964      5092      3212     31584   ...    23158    -13800      5732     -2906      -650  
    2560      6676     27108     -9844     29536   ...     8566    -13800    -17052    -26458    -23690  
    2560     23316    -16412    -22900     27488   ...    -6026    -13800     25700     15526     18806  
    2560    -25580      5604     29580     25440   ...   -20618    -13800      2916     -8026     -4234  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
    2560     21268      4068     16012    -21664   ...   -20362    -13800     11364      7334      6518  
    2560    -27628     26084      2956    -23712   ...    30582    -13800    -11420    -16218    -16522  
    2560    -10988    -17436    -10100    -25760   ...    15990    -13800     31332     25766     25974  
    2560      5652      4580    -23156    -27808   ...     1398    -13800      8548      2214      2934  
    2560     22292     26596     29324    -29856   ...   -13194    -13800    -14236    -21338    -20106  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 256 -N 2816 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x256x2816_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x256x2816_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x256x2816_64x64x64_4c.txt ../build/aie_256x256x2816_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x2816_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x2816_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x2816_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x256x2816_64x64x64_4c.xclbin -i build/insts_256x256x2816_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 256 -N 2816 --b_col_maj 0
Final M=256
Final K=256
Final N=2880
Matrix has been padded
[    0,     0] 11264.00 =!= 12288.00
[    0,     1] 7239.00 =!= 28254.00
[    0,     2] 2244.00 =!= -25592.00
[    0,     3] 10077.00 =!= -14277.00
[    0,     4] 26464.00 =!= 9088.00
[    0,     5] 16906.00 =!= 8358.00
[    0,     6] -32000.00 =!= 13474.00
[    0,     7] 26723.00 =!= 6163.00
[    0,     8] -5088.00 =!= -10840.00
[    0,     9] -17251.00 =!= -29462.00
[    0,    10] 17122.00 =!= 21752.00
[    0,    11] -19021.00 =!= -4996.00
[    0,    12] 30264.00 =!= 8120.00
[    0,    13] -18079.00 =!= -5830.00
[    0,    14] 14742.00 =!= 22144.00
[    0,    15] 20774.00 =!= 29362.00
[    0,    16] 432.00 =!= 7408.00
[    0,    17] -31742.00 =!= -30873.00
[    0,    18] 5792.00 =!= -5598.00
[    0,    19] -776.00 =!= 22477.00
[    0,    20] 5080.00 =!= -26208.00
[    0,    21] -17580.00 =!= -8536.00
[    0,    22] 17508.00 =!= 12632.00
[    0,    23] 13585.00 =!= -21961.00
[    0,    24] 2208.00 =!= 11744.00
[    0,    25] -8638.00 =!= 15800.00
[    0,    26] 1242.00 =!= 19736.00
[    0,    27] -24622.00 =!= 31257.00
[    0,    28] -27236.00 =!= 14420.00
[    0,    29] -22060.00 =!= 2828.00
[    0,    30] 3632.00 =!= -14948.00
[    0,    31] 26681.00 =!= -2025.00
...and 720847 further errors.
Maximum relative error: 200%

Reference:
   12288     28254    -25592    -14277      9088   ...    17953      4960     -1968     25164    -15257  
   12288    -27810     18952    -19141     -6272   ...    25889    -22688      8272     23628     20583  
   12288    -18338     -2040    -24005    -21632   ...   -31711     15200     18512     22092     -9113  
   12288     -8866    -23032    -28869     28544   ...   -23775    -12448     28752     20556     26727  
   12288       606     21512     31803     13184   ...   -15839     25440    -26544     19020     -2969  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   12288    -19106     13832     10043     20352   ...   -21727     12128     12368    -32692      2151  
   12288     -9634     -7160      5179      4992   ...   -13791    -15520     22608     31308    -27545  
   12288      -162    -28152       315    -10368   ...    -5855     22368    -32688     29772      8295  
   12288      9310     16392     -4549    -25728   ...     2081     -5280    -22448     28236    -21401  
   12288     18782     -4600     -9413     24448   ...    10017     32608    -12208     26700     14439  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 256 -N 3072 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x256x3072_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x256x3072_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x256x3072_64x64x64_4c.txt ../build/aie_256x256x3072_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x3072_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x3072_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x3072_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x256x3072_64x64x64_4c.xclbin -i build/insts_256x256x3072_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 256 -N 3072 --b_col_maj 0
Final M=256
Final K=256
Final N=3072
Matrix has been padded

Avg NPU matmul time: 2324us.
Avg NPU gflops: 173.259

Min NPU matmul time: 2324us.
Max NPU gflops: 173.259

Max NPU matmul time: 2324us.
Min NPU gflops: 173.259

PASS!

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 256 -N 3328 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x256x3328_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x256x3328_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x256x3328_64x64x64_4c.txt ../build/aie_256x256x3328_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x3328_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x3328_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x3328_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x256x3328_64x64x64_4c.xclbin -i build/insts_256x256x3328_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 256 -N 3328 --b_col_maj 0
Final M=256
Final K=256
Final N=3456
Matrix has been padded
[    0,     0] 1152.00 =!= 22016.00
[    0,     1] 15584.00 =!= -19633.00
[    0,     2] -20542.00 =!= -3186.00
[    0,     3] -12225.00 =!= -15302.00
[    0,     4] -22492.00 =!= 20816.00
[    0,     5] -17990.00 =!= -918.00
[    0,     6] -25752.00 =!= 32180.00
[    0,     7] 21479.00 =!= 14255.00
[    0,     8] -16136.00 =!= 3864.00
[    0,     9] -4400.00 =!= 24755.00
[    0,    10] 22332.00 =!= 5766.00
[    0,    11] 22612.00 =!= -31295.00
[    0,    12] -3136.00 =!= 588.00
[    0,    13] 23651.00 =!= -7630.00
[    0,    14] -9050.00 =!= 8944.00
[    0,    15] 5747.00 =!= 6150.00
[    0,    16] 20160.00 =!= -12816.00
[    0,    17] -2817.00 =!= -23273.00
[    0,    18] 29948.00 =!= -32054.00
[    0,    19] -332.00 =!= -32263.00
[    0,    20] -23844.00 =!= 7736.00
[    0,    21] 16537.00 =!= 23873.00
[    0,    22] 8586.00 =!= -20418.00
[    0,    23] 16552.00 =!= -17770.00
[    0,    24] 30104.00 =!= -27488.00
[    0,    25] 13334.00 =!= 15293.00
[    0,    26] 25272.00 =!= 22382.00
[    0,    27] 4766.00 =!= -17749.00
[    0,    28] 14572.00 =!= 27256.00
[    0,    29] -4661.00 =!= 27530.00
[    0,    30] -9122.00 =!= -29882.00
[    0,    31] -19594.00 =!= 12039.00
...and 851901 further errors.
Maximum relative error: 200%

Reference:
   22016    -19633     -3186    -15302     20816   ...     1868    -26532     -4633    -22322      8729  
   22016      9807     11662    -28870    -29360   ...     6732    -10148    -26137     13006     12057  
   22016    -26289     26510     23098    -14000   ...    11596      6236     17895    -17202     15385  
   22016      3151    -24178      9530      1360   ...    16460     22620     -3609     18126     18713  
   22016     32591     -9330     -4038     16720   ...    21324    -26532    -25113    -12082     22041  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   22016     29775    -11890    -12998      9552   ...   -22452     22620    -28185     -2354     -7911  
   22016     -6321      2958    -26566     24912   ...   -17588    -26532     15847    -32562     -4583  
   22016     23119     17806     25402    -25264   ...   -12724    -10148     -5657      2766     -1255  
   22016    -12977     32654     11834     -9904   ...    -7860      6236    -27161    -27442      2073  
   22016     16463    -18034     -1734      5456   ...    -2996     22620     16871      7886      5401  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 256 -N 3584 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x256x3584_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x256x3584_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x256x3584_64x64x64_4c.txt ../build/aie_256x256x3584_64x64x64_4c.mlir
Traceback (most recent call last):
  File "/home/mliraie/mlir-aie/my_install/mlir_aie/bin/aiecc.py", line 9, in <module>
    from aie.compiler.aiecc.main import main
  File "/home/mliraie/mlir-aie/my_install/mlir_aie/python/aie/compiler/aiecc/main.py", line 27, in <module>
    from aie.extras.util import find_ops
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 991, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1124, in get_code
  File "<frozen importlib._bootstrap_external>", line 753, in _compile_bytecode
KeyboardInterrupt
make: *** [/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../makefile-common-padding:107: build/final_256x256x3584_64x64x64_4c.xclbin] Interrupt
SHELL=/bin/bash
JUPYTERHUB_SERVICE_URL=http://0.0.0.0:8888/user/ucsd-mlir-ajay-ramesh-ranganathan/
HOSTNAME=27abf39e880d
LANGUAGE=en_US:en
JUPYTERHUB_API_TOKEN=ad846a95990d4d6d8257e53ad1c6c4d3
JUPYTERHUB_BASE_URL=/
JUPYTERHUB_PUBLIC_URL=
XILINX_XRT=/opt/xilinx/xrt
n_aie_cols=4
PWD=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad
JUPYTER_SERVER_URL=http://27abf39e880d:8888/user/ucsd-mlir-ajay-ramesh-ranganathan/
JUPYTERHUB_SERVER_NAME=
LINES=35
n=64
m=64
k=64
XRT_HACK_UNSECURE_LOADING_XCLBIN=1
HOME=/home/mliraie
LANG=en_US.UTF-8
PEANO_INSTALL_DIR=/home/mliraie/mlir-aie/my_install/llvm-aie
LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=00:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.avif=01;35:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:*~=00;90:*#=00;90:*.bak=00;90:*.crdownload=00;90:*.dpkg-dist=00;90:*.dpkg-new=00;90:*.dpkg-old=00;90:*.dpkg-tmp=00;90:*.old=00;90:*.orig=00;90:*.part=00;90:*.rej=00;90:*.rpmnew=00;90:*.rpmorig=00;90:*.rpmsave=00;90:*.swp=00;90:*.tmp=00;90:*.ucf-dist=00;90:*.ucf-new=00;90:*.ucf-old=00;90:
JPY_API_TOKEN=ad846a95990d4d6d8257e53ad1c6c4d3
COLUMNS=133
VIRTUAL_ENV=/home/mliraie/mlir-aie/ironenv
JUPYTERHUB_SERVICE_PREFIX=/user/ucsd-mlir-ajay-ramesh-ranganathan/
XILINXD_LICENSE_FILE=/opt/Xilinx.lic
JUPYTERHUB_OAUTH_CALLBACK_URL=/user/ucsd-mlir-ajay-ramesh-ranganathan/oauth_callback
JUPYTERHUB_ROOT_DIR=/notebooks
JUPYTERHUB_OAUTH_CLIENT_ALLOWED_SCOPES=[]
JUPYTER_IMAGE_SPEC=mlir-aie:latest
LIC_MAC=58:47:ca:71:b3:c0
LESSCLOSE=/usr/bin/lesspipe %s %s
JUPYTER_SERVER_ROOT=/notebooks
PYTHONPATH=/home/mliraie/mlir-aie/my_install/mlir_aie/python:/opt/xilinx/xrt/python
TERM=xterm-256color
LESSOPEN=| /usr/bin/lesspipe %s
JUPYTERHUB_OAUTH_ACCESS_SCOPES=["access:servers!server=ucsd-mlir-ajay-ramesh-ranganathan/", "access:servers!user=ucsd-mlir-ajay-ramesh-ranganathan"]
JUPYTERHUB_COOKIE_HOST_PREFIX_ENABLED=0
SHLVL=2
PYXTERM_DIMENSIONS=80x25
JUPYTERHUB_API_URL=http://192.168.252.2:8081/hub/api
JUPYTERHUB_CLIENT_ID=jupyterhub-user-ucsd-mlir-ajay-ramesh-ranganathan
JUPYTERHUB_OAUTH_SCOPES=["access:servers!server=ucsd-mlir-ajay-ramesh-ranganathan/", "access:servers!user=ucsd-mlir-ajay-ramesh-ranganathan"]
JUPYTERHUB_PUBLIC_HUB_URL=
VIRTUAL_ENV_PROMPT=(ironenv) 
JUPYTERHUB_HOST=
JUPYTERHUB_DEBUG=1
LD_LIBRARY_PATH=/home/mliraie/mlir-aie/my_install/llvm-aie/lib:/home/mliraie/mlir-aie/my_install/mlir_aie/lib:/home/mliraie/mlir-aie/my_install/mlir/lib:/opt/xilinx/xrt/lib
dtype_out=i16
DEBUGINFOD_URLS=https://debuginfod.ubuntu.com 
LC_ALL=en_US.UTF-8
PATH=/home/mliraie/mlir-aie/my_install/llvm-aie/bin:/home/mliraie/mlir-aie/my_install/mlir_aie/bin:/home/mliraie/mlir-aie/my_install/mlir/bin:/home/mliraie/mlir-aie/ironenv/bin:/opt/vitis_aie_essentials/bin/:/opt/xilinx/xrt/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
dtype_in=i16
JUPYTERHUB_USER=ucsd-mlir-ajay-ramesh-ranganathan
JUPYTERHUB_ACTIVITY_URL=http://192.168.252.2:8081/hub/api/users/ucsd-mlir-ajay-ramesh-ranganathan/activity
OLDPWD=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication
_=/usr/bin/env
##===- Makefile -----------------------------------------------------------===##
# 
# This file licensed under the Apache License v2.0 with LLVM Exceptions.
# See https://llvm.org/LICENSE.txt for license information.
# SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception
#
# Copyright (C) 2024, Advanced Micro Devices, Inc.
# 
##===----------------------------------------------------------------------===##
srcdir := $(shell dirname $(realpath $(firstword $(MAKEFILE_LIST))))
subdir=whole_array_pad
targetname=matrixMultiplicationPadded

M?=640
K?=896
N?=768
m?=16
k?=32
n?=48
n_aie_cols?=4
b_col_maj?=0

kernels=mm_${m}x${k}x${n}
aieargs+=-m $m -k $k -n $n --n-aie-cols ${n_aie_cols} --b-col-maj ${b_col_maj}
runargs+=--b_col_maj ${b_col_maj}
target_suffix=${M}x${K}x${N}_${m}x${k}x${n}_${n_aie_cols}c

include ${srcdir}/../makefile-common-padding

build/mm_b_row_maj_${m}x${k}x${n}.o: ${kernels_dir}/mm.cc
	mkdir -p ${@D}
	cd ${@D} && ${PEANO_INSTALL_DIR}/bin/clang++ ${PEANOWRAP2_FLAGS} -DBIT_WIDTH=8 -D${dtype_in}_${dtype_out}_ONLY -DDIM_M=${m} -DDIM_K=${k} -DDIM_N=${n} -c $< -o ${@F}

build/mm_b_col_maj_${m}x${k}x${n}.o: ${kernels_dir}/mm_b_col_maj.cc
	mkdir -p ${@D}
	cd ${@D} && ${PEANO_INSTALL_DIR}/bin/clang++ ${PEANOWRAP2_FLAGS} -DBIT_WIDTH=8 -DDIM_M=${m} -DDIM_K=${k} -DDIM_N=${n} -c $< -o ${@F}

ifneq (${b_col_maj}, 1)
build/mm_${m}x${k}x${n}.o: build/mm_b_row_maj_${m}x${k}x${n}.o 
	mkdir -p ${@D}
	ar rvs $@ $^
else
build/mm_${m}x${k}x${n}.o: build/mm_b_col_maj_${m}x${k}x${n}.o
	mkdir -p ${@D}
	ar rvs $@ $^
endifrm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 256 -N 256 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x256x256_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x256x256_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x256x256_64x64x64_4c.txt ../build/aie_256x256x256_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x256_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x256_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x256_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x256x256_64x64x64_4c.xclbin -i build/insts_256x256x256_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 256 -N 256 --b_col_maj 0
Final M=256
Final K=256
Final N=384
Matrix has been padded
[    0,     0] -3712.00 =!= 6144.00
[    0,     1] -9589.00 =!= -11750.00
[    0,     2] -32046.00 =!= 21034.00
[    0,     3] -7168.00 =!= -11809.00
[    0,     4] 12976.00 =!= 20792.00
[    0,     5] -27902.00 =!= -11893.00
[    0,     6] 18942.00 =!= -7040.00
[    0,     7] -23029.00 =!= -16112.00
[    0,     8] -19872.00 =!= -19472.00
[    0,     9] -8384.00 =!= -16286.00
[    0,    10] 19258.00 =!= 25422.00
[    0,    11] 23826.00 =!= 14412.00
[    0,    12] -21152.00 =!= 25556.00
[    0,    13] 3796.00 =!= 9334.00
[    0,    14] 23024.00 =!= -31326.00
[    0,    15] 24013.00 =!= 1626.00
[    0,    16] -20704.00 =!= 32608.00
[    0,    17] -31035.00 =!= 11693.00
[    0,    18] -30442.00 =!= -2142.00
[    0,    19] 26163.00 =!= -29393.00
[    0,    20] 23664.00 =!= 4532.00
[    0,    21] 8512.00 =!= -26268.00
[    0,    22] 17880.00 =!= 8456.00
[    0,    23] -25624.00 =!= 14258.00
[    0,    24] -11824.00 =!= 5472.00
[    0,    25] -28596.00 =!= 17409.00
[    0,    26] -12182.00 =!= 7118.00
[    0,    27] 21672.00 =!= 5097.00
[    0,    28] -10088.00 =!= -24876.00
[    0,    29] -5080.00 =!= -8179.00
[    0,    30] -32670.00 =!= 25712.00
[    0,    31] 17864.00 =!= -30004.00
...and 65504 further errors.
Maximum relative error: 100%

Reference:
    6144    -11750     21034    -11809     20792   ...     8594    -23624    -26675     -4592      7108  
    6144        26     -7126    -24609     -3784   ...    32146     18360    -12595     10768     11460  
    6144     11802     30250     28127    -28360   ...    -9838     -5192      1485     26128     15812  
    6144     23578      2090     15327     12600   ...    13714    -28744     15565    -24048     20164  
    6144    -30182    -26070      2527    -11976   ...   -28270     13240     29645     -8688     24516  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
    6144     -5094     30762    -13345     12600   ...    21906     28600    -31539    -15856    -14652  
    6144      6682      2602    -26145    -11976   ...   -20078      5048    -17459      -496    -10300  
    6144     18458    -25558     26591     28984   ...     3474    -18504     -3379     14864     -5948  
    6144     30234     11818     13791      4408   ...    27026     23480     10701     30224     -1596  
    6144    -23526    -16342       991    -20168   ...   -14958       -72     24781    -19952      2756  

Output:
   -3712     -9589    -32046     -7168     12976   ...   -19947     27828     31756    -15234     28377  
   -3712     20363    -13614    -10752     23216   ...   -32747     -2892    -25076     22654      3545  
   -3712    -15221      4818    -14336    -32080   ...    19989     31924    -16372     -4994    -21287  
   -3712     14731     23250    -17920    -21840   ...     7189      1204     -7668    -32642     19417  
   -3712    -20853    -23854    -21504    -11600   ...    -5611    -29516      1036      5246     -5415  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2088.00us.
Avg NPU gflops: 16.07

Min NPU matmul time: 2088.00us.
Max NPU gflops: 16.07

Max NPU matmul time: 2088.00us.
Min NPU gflops: 16.07

Error count: 65536


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 256 -N 512 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x256x512_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x256x512_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x256x512_64x64x64_4c.txt ../build/aie_256x256x512_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x512_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x512_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x512_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
gmake[3]: *** [CMakeFiles/matrixMultiplicationPadded.dir/build.make:79: CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o] Interrupt
gmake[2]: *** [CMakeFiles/Makefile2:87: CMakeFiles/matrixMultiplicationPadded.dir/all] Interrupt
make: *** [/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../makefile-common-padding:125: matrixMultiplicationPadded.exe] Interrupt
gmake[1]: *** [Makefile:91: all] Interrupt
SHELL=/bin/bash
JUPYTERHUB_SERVICE_URL=http://0.0.0.0:8888/user/ucsd-mlir-ajay-ramesh-ranganathan/
HOSTNAME=27abf39e880d
LANGUAGE=en_US:en
JUPYTERHUB_API_TOKEN=ad846a95990d4d6d8257e53ad1c6c4d3
JUPYTERHUB_BASE_URL=/
JUPYTERHUB_PUBLIC_URL=
XILINX_XRT=/opt/xilinx/xrt
n_aie_cols=4
PWD=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad
JUPYTER_SERVER_URL=http://27abf39e880d:8888/user/ucsd-mlir-ajay-ramesh-ranganathan/
JUPYTERHUB_SERVER_NAME=
LINES=35
n=64
m=64
k=64
XRT_HACK_UNSECURE_LOADING_XCLBIN=1
HOME=/home/mliraie
LANG=en_US.UTF-8
PEANO_INSTALL_DIR=/home/mliraie/mlir-aie/my_install/llvm-aie
LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=00:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.avif=01;35:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:*~=00;90:*#=00;90:*.bak=00;90:*.crdownload=00;90:*.dpkg-dist=00;90:*.dpkg-new=00;90:*.dpkg-old=00;90:*.dpkg-tmp=00;90:*.old=00;90:*.orig=00;90:*.part=00;90:*.rej=00;90:*.rpmnew=00;90:*.rpmorig=00;90:*.rpmsave=00;90:*.swp=00;90:*.tmp=00;90:*.ucf-dist=00;90:*.ucf-new=00;90:*.ucf-old=00;90:
JPY_API_TOKEN=ad846a95990d4d6d8257e53ad1c6c4d3
COLUMNS=133
VIRTUAL_ENV=/home/mliraie/mlir-aie/ironenv
JUPYTERHUB_SERVICE_PREFIX=/user/ucsd-mlir-ajay-ramesh-ranganathan/
XILINXD_LICENSE_FILE=/opt/Xilinx.lic
JUPYTERHUB_OAUTH_CALLBACK_URL=/user/ucsd-mlir-ajay-ramesh-ranganathan/oauth_callback
JUPYTERHUB_ROOT_DIR=/notebooks
JUPYTERHUB_OAUTH_CLIENT_ALLOWED_SCOPES=[]
JUPYTER_IMAGE_SPEC=mlir-aie:latest
LIC_MAC=58:47:ca:71:b3:c0
LESSCLOSE=/usr/bin/lesspipe %s %s
JUPYTER_SERVER_ROOT=/notebooks
PYTHONPATH=/home/mliraie/mlir-aie/my_install/mlir_aie/python:/opt/xilinx/xrt/python
TERM=xterm-256color
LESSOPEN=| /usr/bin/lesspipe %s
JUPYTERHUB_OAUTH_ACCESS_SCOPES=["access:servers!server=ucsd-mlir-ajay-ramesh-ranganathan/", "access:servers!user=ucsd-mlir-ajay-ramesh-ranganathan"]
JUPYTERHUB_COOKIE_HOST_PREFIX_ENABLED=0
SHLVL=2
PYXTERM_DIMENSIONS=80x25
JUPYTERHUB_API_URL=http://192.168.252.2:8081/hub/api
JUPYTERHUB_CLIENT_ID=jupyterhub-user-ucsd-mlir-ajay-ramesh-ranganathan
JUPYTERHUB_OAUTH_SCOPES=["access:servers!server=ucsd-mlir-ajay-ramesh-ranganathan/", "access:servers!user=ucsd-mlir-ajay-ramesh-ranganathan"]
JUPYTERHUB_PUBLIC_HUB_URL=
VIRTUAL_ENV_PROMPT=(ironenv) 
JUPYTERHUB_HOST=
JUPYTERHUB_DEBUG=1
LD_LIBRARY_PATH=/home/mliraie/mlir-aie/my_install/llvm-aie/lib:/home/mliraie/mlir-aie/my_install/mlir_aie/lib:/home/mliraie/mlir-aie/my_install/mlir/lib:/opt/xilinx/xrt/lib
dtype_out=i16
DEBUGINFOD_URLS=https://debuginfod.ubuntu.com 
LC_ALL=en_US.UTF-8
PATH=/home/mliraie/mlir-aie/my_install/llvm-aie/bin:/home/mliraie/mlir-aie/my_install/mlir_aie/bin:/home/mliraie/mlir-aie/my_install/mlir/bin:/home/mliraie/mlir-aie/ironenv/bin:/opt/vitis_aie_essentials/bin/:/opt/xilinx/xrt/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
dtype_in=i16
JUPYTERHUB_USER=ucsd-mlir-ajay-ramesh-ranganathan
JUPYTERHUB_ACTIVITY_URL=http://192.168.252.2:8081/hub/api/users/ucsd-mlir-ajay-ramesh-ranganathan/activity
OLDPWD=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication
_=/usr/bin/env
##===- Makefile -----------------------------------------------------------===##
# 
# This file licensed under the Apache License v2.0 with LLVM Exceptions.
# See https://llvm.org/LICENSE.txt for license information.
# SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception
#
# Copyright (C) 2024, Advanced Micro Devices, Inc.
# 
##===----------------------------------------------------------------------===##
srcdir := $(shell dirname $(realpath $(firstword $(MAKEFILE_LIST))))
subdir=whole_array_pad
targetname=matrixMultiplicationPadded

M?=256
K?=256
N?=256
m?=16
k?=32
n?=48
n_aie_cols?=2
b_col_maj?=0

kernels=mm_${m}x${k}x${n}
aieargs+=-m $m -k $k -n $n --n-aie-cols ${n_aie_cols} --b-col-maj ${b_col_maj}
runargs+=--b_col_maj ${b_col_maj}
target_suffix=${M}x${K}x${N}_${m}x${k}x${n}_${n_aie_cols}c

include ${srcdir}/../makefile-common-padding

build/mm_b_row_maj_${m}x${k}x${n}.o: ${kernels_dir}/mm.cc
	mkdir -p ${@D}
	cd ${@D} && ${PEANO_INSTALL_DIR}/bin/clang++ ${PEANOWRAP2_FLAGS} -DBIT_WIDTH=8 -D${dtype_in}_${dtype_out}_ONLY -DDIM_M=${m} -DDIM_K=${k} -DDIM_N=${n} -c $< -o ${@F}

build/mm_b_col_maj_${m}x${k}x${n}.o: ${kernels_dir}/mm_b_col_maj.cc
	mkdir -p ${@D}
	cd ${@D} && ${PEANO_INSTALL_DIR}/bin/clang++ ${PEANOWRAP2_FLAGS} -DBIT_WIDTH=8 -DDIM_M=${m} -DDIM_K=${k} -DDIM_N=${n} -c $< -o ${@F}

ifneq (${b_col_maj}, 1)
build/mm_${m}x${k}x${n}.o: build/mm_b_row_maj_${m}x${k}x${n}.o 
	mkdir -p ${@D}
	ar rvs $@ $^
else
build/mm_${m}x${k}x${n}.o: build/mm_b_col_maj_${m}x${k}x${n}.o
	mkdir -p ${@D}
	ar rvs $@ $^
endifrm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 256 -N 256 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x256x256_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x256x256_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x256x256_64x64x64_4c.txt ../build/aie_256x256x256_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x256_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x256_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x256_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x256x256_64x64x64_4c.xclbin -i build/insts_256x256x256_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 256 -N 256 --b_col_maj 0
Final M=256
Final K=256
Final N=384
Matrix has been padded
[    0,     0] -3712.00 =!= 6144.00
[    0,     1] -9589.00 =!= -11750.00
[    0,     2] -32046.00 =!= 21034.00
[    0,     3] -7168.00 =!= -11809.00
[    0,     4] 12976.00 =!= 20792.00
[    0,     5] -27902.00 =!= -11893.00
[    0,     6] 18942.00 =!= -7040.00
[    0,     7] -23029.00 =!= -16112.00
[    0,     8] -19872.00 =!= -19472.00
[    0,     9] -8384.00 =!= -16286.00
[    0,    10] 19258.00 =!= 25422.00
[    0,    11] 23826.00 =!= 14412.00
[    0,    12] -21152.00 =!= 25556.00
[    0,    13] 3796.00 =!= 9334.00
[    0,    14] 23024.00 =!= -31326.00
[    0,    15] 24013.00 =!= 1626.00
[    0,    16] -20704.00 =!= 32608.00
[    0,    17] -31035.00 =!= 11693.00
[    0,    18] -30442.00 =!= -2142.00
[    0,    19] 26163.00 =!= -29393.00
[    0,    20] 23664.00 =!= 4532.00
[    0,    21] 8512.00 =!= -26268.00
[    0,    22] 17880.00 =!= 8456.00
[    0,    23] -25624.00 =!= 14258.00
[    0,    24] -11824.00 =!= 5472.00
[    0,    25] -28596.00 =!= 17409.00
[    0,    26] -12182.00 =!= 7118.00
[    0,    27] 21672.00 =!= 5097.00
[    0,    28] -10088.00 =!= -24876.00
[    0,    29] -5080.00 =!= -8179.00
[    0,    30] -32670.00 =!= 25712.00
[    0,    31] 17864.00 =!= -30004.00
...and 65504 further errors.
Maximum relative error: 100%

Reference:
    6144    -11750     21034    -11809     20792   ...     8594    -23624    -26675     -4592      7108  
    6144        26     -7126    -24609     -3784   ...    32146     18360    -12595     10768     11460  
    6144     11802     30250     28127    -28360   ...    -9838     -5192      1485     26128     15812  
    6144     23578      2090     15327     12600   ...    13714    -28744     15565    -24048     20164  
    6144    -30182    -26070      2527    -11976   ...   -28270     13240     29645     -8688     24516  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
    6144     -5094     30762    -13345     12600   ...    21906     28600    -31539    -15856    -14652  
    6144      6682      2602    -26145    -11976   ...   -20078      5048    -17459      -496    -10300  
    6144     18458    -25558     26591     28984   ...     3474    -18504     -3379     14864     -5948  
    6144     30234     11818     13791      4408   ...    27026     23480     10701     30224     -1596  
    6144    -23526    -16342       991    -20168   ...   -14958       -72     24781    -19952      2756  

Output:
   -3712     -9589    -32046     -7168     12976   ...   -19947     27828     31756    -15234     28377  
   -3712     20363    -13614    -10752     23216   ...   -32747     -2892    -25076     22654      3545  
   -3712    -15221      4818    -14336    -32080   ...    19989     31924    -16372     -4994    -21287  
   -3712     14731     23250    -17920    -21840   ...     7189      1204     -7668    -32642     19417  
   -3712    -20853    -23854    -21504    -11600   ...    -5611    -29516      1036      5246     -5415  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2076.00us.
Avg NPU gflops: 16.16

Min NPU matmul time: 2076.00us.
Max NPU gflops: 16.16

Max NPU matmul time: 2076.00us.
Min NPU gflops: 16.16

Error count: 65536


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 256 -N 512 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x256x512_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x256x512_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x256x512_64x64x64_4c.txt ../build/aie_256x256x512_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x512_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x512_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x512_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x256x512_64x64x64_4c.xclbin -i build/insts_256x256x512_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 256 -N 512 --b_col_maj 0
Final M=256
Final K=256
Final N=576
Matrix has been padded
[    0,     0] 11008.00 =!= 26624.00
[    0,     1] -6533.00 =!= 31272.00
[    0,     2] 25226.00 =!= -27614.00
[    0,     3] -3218.00 =!= -538.00
[    0,     4] 2676.00 =!= -32384.00
[    0,     5] -31091.00 =!= -16816.00
[    0,     6] -32442.00 =!= 22716.00
[    0,     7] 8430.00 =!= -22377.00
[    0,     8] -9144.00 =!= -15528.00
[    0,     9] 9749.00 =!= -19339.00
[    0,    10] 12758.00 =!= 21458.00
[    0,    11] -19255.00 =!= -8524.00
[    0,    12] -4384.00 =!= -2380.00
[    0,    13] -24476.00 =!= 13274.00
[    0,    14] -28162.00 =!= -9978.00
[    0,    15] 14305.00 =!= -31284.00
[    0,    16] 10848.00 =!= -16976.00
[    0,    17] -25315.00 =!= 27419.00
[    0,    18] 24532.00 =!= -14044.00
[    0,    19] -10832.00 =!= 7946.00
[    0,    20] -26396.00 =!= 11700.00
[    0,    21] -6406.00 =!= -31526.00
[    0,    22] 17054.00 =!= 8018.00
[    0,    23] 20813.00 =!= -871.00
[    0,    24] 4792.00 =!= 3368.00
[    0,    25] 15983.00 =!= -31312.00
[    0,    26] 10716.00 =!= 10258.00
[    0,    27] 8372.00 =!= -26510.00
[    0,    28] 9332.00 =!= 26872.00
[    0,    29] 2018.00 =!= -23048.00
[    0,    30] -22466.00 =!= 15356.00
[    0,    31] -16594.00 =!= 28728.00
...and 131037 further errors.
Maximum relative error: 100%

Reference:
   26624     31272    -27614      -538    -32384   ...   -27300     26048    -29978       758    -29811  
   26624      1832     20514     -8218      8576   ...     -164    -20032    -30490      5366     28557  
   26624    -27608      3106    -15898    -16000   ...    26972      -576    -31002      9974     21389  
   26624      8488    -14302    -23578     24960   ...   -11428     18880    -31514     14582     14221  
   26624    -20952    -31710    -31258       384   ...    15708    -27200    -32026     19190      7053  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   26624    -18136     -6110    -27674     24960   ...   -31908     -5696    -27418    -22282      6029  
   26624     17960    -23518     30182       384   ...    -4772     13760    -27930    -17674     -1139  
   26624    -11480     24610     22502    -24192   ...    22364    -32320    -28442    -13066     -8307  
   26624     24616      7202     14822     16768   ...   -16036    -12864    -28954     -8458    -15475  
   26624     -4824    -10206      7142     -7808   ...    11100      6592    -29466     -3850    -22643  

Output:
   11008     -6533     25226     -3218      2676   ...    31768      6412     21160    -22044     31389  
   -5376     20603     10378     17262     19060   ...    16408      -756    -29272    -18460    -15459  
  -21760    -17797     -4470    -27794    -30092   ...     1048     -7924    -14168    -14876      3229  
   27392      9339    -19318     -7314    -13708   ...   -14312    -15092       936    -11292     21917  
   11008    -29061     31370     13166      2676   ...   -29672    -22260     16040     -7708    -24931  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 3231.00us.
Avg NPU gflops: 20.77

Min NPU matmul time: 3231.00us.
Max NPU gflops: 20.77

Max NPU matmul time: 3231.00us.
Min NPU gflops: 20.77

Error count: 131069


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 256 -N 768 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x256x768_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x256x768_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x256x768_64x64x64_4c.txt ../build/aie_256x256x768_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x768_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x768_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x768_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x256x768_64x64x64_4c.xclbin -i build/insts_256x256x768_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 256 -N 768 --b_col_maj 0
Final M=256
Final K=256
Final N=768
Matrix has been padded

Avg NPU matmul time: 2207us.
Avg NPU gflops: 45.6109

Min NPU matmul time: 2207us.
Max NPU gflops: 45.6109

Max NPU matmul time: 2207us.
Min NPU gflops: 45.6109

PASS!

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 256 -N 1024 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x256x1024_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x256x1024_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x256x1024_64x64x64_4c.txt ../build/aie_256x256x1024_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x1024_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x1024_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x1024_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x256x1024_64x64x64_4c.xclbin -i build/insts_256x256x1024_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 256 -N 1024 --b_col_maj 0
Final M=256
Final K=256
Final N=1152
Matrix has been padded
[    0,     0] 25088.00 =!= 31744.00
[    0,     1] 27587.00 =!= 25966.00
[    0,     2] 9450.00 =!= 26016.00
[    0,     3] 22358.00 =!= 5819.00
[    0,     4] -25880.00 =!= -22620.00
[    0,     5] 21549.00 =!= -16306.00
[    0,     6] -11414.00 =!= 14888.00
[    0,     7] 6360.00 =!= -28104.00
[    0,     8] -7320.00 =!= -26648.00
[    0,     9] -21189.00 =!= -10253.00
[    0,    10] 1308.00 =!= -4458.00
[    0,    11] 23109.00 =!= 5392.00
[    0,    12] 6624.00 =!= -14664.00
[    0,    13] -30578.00 =!= -1585.00
[    0,    14] 3490.00 =!= -874.00
[    0,    15] -21426.00 =!= 2151.00
[    0,    16] -2496.00 =!= -5600.00
[    0,    17] 9617.00 =!= 9091.00
[    0,    18] -19770.00 =!= 28372.00
[    0,    19] 28185.00 =!= 12247.00
[    0,    20] -29104.00 =!= -152.00
[    0,    21] 10582.00 =!= 3407.00
[    0,    22] -4600.00 =!= 14420.00
[    0,    23] -2092.00 =!= 4030.00
[    0,    24] 23424.00 =!= -17248.00
[    0,    25] 24152.00 =!= 31785.00
[    0,    26] -30730.00 =!= -12050.00
[    0,    27] -5736.00 =!= -23991.00
[    0,    28] 19080.00 =!= 16368.00
[    0,    29] 3433.00 =!= -21710.00
[    0,    30] -8104.00 =!= 2868.00
[    0,    31] -24700.00 =!= -4226.00
...and 262108 further errors.
Maximum relative error: 200%

Reference:
   31744     25966     26016      5819    -22620   ...   -15501     12352    -32368     -2260    -25599  
   31744      8558       -96    -25157     16292   ...   -20365    -24512     23952     18732     22529  
   31744     -8850    -26208      9403    -10332   ...   -25229      4160     14736    -25812      5121  
   31744    -26258     13216    -21573     28580   ...   -30093    -32704      5520     -4820    -12287  
   31744     21870    -12896     12987      1956   ...    30579     -4032     -3696     16172    -29695  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   31744    -18066     25504     29627    -20572   ...     8819        64     13712     23852     -4095  
   31744     30062      -608     -1349     18340   ...     3955     28736      4496    -20692    -21503  
   31744     12654    -26720    -32325     -8284   ...     -909     -8128     -4720       300     26625  
   31744     -4754     12704      2235     30628   ...    -5773     20544    -13936     21292      9217  
   31744    -22162    -13408    -28741      4004   ...   -10637    -16320    -23152    -23252     -8191  

Output:
   25088     27587      9450     22358    -25880   ...    27150     18624    -22570     25860     23605  
   -7680     10947    -10006     23382     23272   ...   -29426    -29504     27862    -31996     -9675  
   25088     -5693    -29462     24406      6888   ...   -20466    -12096     12758    -24316     22581  
   -7680    -22333     16618     25430     -9496   ...   -11506      5312     -2346    -16636    -10699  
   25088     26563     -2838     26454    -25880   ...    -2546     22720    -17450     -8956     21557  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2109.00us.
Avg NPU gflops: 63.64

Min NPU matmul time: 2109.00us.
Max NPU gflops: 63.64

Max NPU matmul time: 2109.00us.
Min NPU gflops: 63.64

Error count: 262140


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 256 -N 1280 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x256x1280_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x256x1280_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x256x1280_64x64x64_4c.txt ../build/aie_256x256x1280_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x1280_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x1280_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x1280_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x256x1280_64x64x64_4c.xclbin -i build/insts_256x256x1280_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 256 -N 1280 --b_col_maj 0
Final M=256
Final K=256
Final N=1344
Matrix has been padded
[    0,     0] 4992.00 =!= 12544.00
[    0,     1] 951.00 =!= 22602.00
[    0,     2] 25534.00 =!= 23312.00
[    0,     3] -1612.00 =!= 12112.00
[    0,     4] -13224.00 =!= 26732.00
[    0,     5] -14644.00 =!= -27646.00
[    0,     6] 13168.00 =!= -2612.00
[    0,     7] -28665.00 =!= -18526.00
[    0,     8] 32176.00 =!= 15624.00
[    0,     9] -22649.00 =!= -26553.00
[    0,    10] 30778.00 =!= -9818.00
[    0,    11] 30504.00 =!= 21062.00
[    0,    12] 28716.00 =!= 13932.00
[    0,    13] -6349.00 =!= -28010.00
[    0,    14] 7234.00 =!= 18680.00
[    0,    15] -7606.00 =!= 31800.00
[    0,    16] 10704.00 =!= 23968.00
[    0,    17] -858.00 =!= -23502.00
[    0,    18] 30992.00 =!= 31096.00
[    0,    19] -8711.00 =!= -22960.00
[    0,    20] -9128.00 =!= 3160.00
[    0,    21] -1603.00 =!= -1382.00
[    0,    22] 3124.00 =!= 27450.00
[    0,    23] -11055.00 =!= 1380.00
[    0,    24] -21656.00 =!= 16000.00
[    0,    25] 3510.00 =!= 19672.00
[    0,    26] 18508.00 =!= 114.00
[    0,    27] -6766.00 =!= -10504.00
[    0,    28] -19376.00 =!= -19072.00
[    0,    29] 20141.00 =!= 20618.00
[    0,    30] -8154.00 =!= 30064.00
[    0,    31] 9589.00 =!= 31721.00
...and 327639 further errors.
Maximum relative error: 200%

Reference:
   12544     22602     23312     12112     26732   ...   -31281      7288     30820    -20060     18386  
   12544      6474     10000    -18096      2156   ...   -23345     18552    -20892     26532      9682  
   12544     -9654     -3312     17232    -22420   ...   -15409     29816     -7068      7588       978  
   12544    -25782    -16624    -12976     18540   ...    -7473    -24456      6756    -11356     -7726  
   12544     23626    -29936     22352     -6036   ...      463    -13192     20580    -30300    -16430  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   12544    -27830     24336     32080     18540   ...    -5425     16504     27236      9124     -3630  
   12544     21578     11024      1872     -6036   ...     2511     27768    -24476     -9820    -12334  
   12544      5450     -2288    -28336    -30612   ...    10447    -26504    -10652    -28764    -21038  
   12544    -10678    -15600      6992     10348   ...    18383    -15240      3172     17828    -29742  
   12544    -26806    -28912    -23216    -14228   ...    26319     -3976     16996     -1116     27090  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 256 -N 1536 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x256x1536_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x256x1536_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x256x1536_64x64x64_4c.txt ../build/aie_256x256x1536_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x1536_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x1536_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x1536_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x256x1536_64x64x64_4c.xclbin -i build/insts_256x256x1536_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 256 -N 1536 --b_col_maj 0
Final M=256
Final K=256
Final N=1536
Matrix has been padded

Avg NPU matmul time: 2183us.
Avg NPU gflops: 92.2247

Min NPU matmul time: 2183us.
Max NPU gflops: 92.2247

Max NPU matmul time: 2183us.
Min NPU gflops: 92.2247

PASS!

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 256 -N 1792 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x256x1792_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x256x1792_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x256x1792_64x64x64_4c.txt ../build/aie_256x256x1792_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x1792_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x1792_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x1792_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x256x1792_64x64x64_4c.xclbin -i build/insts_256x256x1792_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 256 -N 1792 --b_col_maj 0
Final M=256
Final K=256
Final N=1920
Matrix has been padded
[    0,     0] 2816.00 =!= 9728.00
[    0,     1] -28549.00 =!= -25104.00
[    0,     2] -31114.00 =!= -5268.00
[    0,     3] -8673.00 =!= -165.00
[    0,     4] -6232.00 =!= -22708.00
[    0,     5] -31449.00 =!= -16799.00
[    0,     6] -7682.00 =!= -23492.00
[    0,     7] -27843.00 =!= 15997.00
[    0,     8] 28752.00 =!= -25472.00
[    0,     9] -25406.00 =!= -23036.00
[    0,    10] -13618.00 =!= 1352.00
[    0,    11] -28131.00 =!= 32510.00
[    0,    12] 32612.00 =!= 23656.00
[    0,    13] 20678.00 =!= -9354.00
[    0,    14] -6950.00 =!= 7832.00
[    0,    15] -31270.00 =!= 17431.00
[    0,    16] -10992.00 =!= -28080.00
[    0,    17] 19503.00 =!= 4129.00
[    0,    18] 25422.00 =!= -21454.00
[    0,    19] 9646.00 =!= -18417.00
[    0,    20] -18792.00 =!= -28636.00
[    0,    21] 22041.00 =!= 6230.00
[    0,    22] 7304.00 =!= -31814.00
[    0,    23] 2862.00 =!= 15139.00
[    0,    24] 25760.00 =!= -13216.00
[    0,    25] -25418.00 =!= -1966.00
[    0,    26] -23412.00 =!= -28050.00
[    0,    27] 21757.00 =!= -868.00
[    0,    28] -30680.00 =!= -580.00
[    0,    29] -29808.00 =!= -30121.00
[    0,    30] -24108.00 =!= -28508.00
[    0,    31] 31740.00 =!= -3972.00
...and 458696 further errors.
Maximum relative error: 200%

Reference:
    9728    -25104     -5268      -165    -22708   ...    -4512    -26356    -29126      4058      -809  
    9728     12784      4460     27739     17228   ...   -30880     26892     11578      4570     24279  
    9728    -14864     14188     -9893     -8372   ...     8288     14604    -13254      5082    -16169  
    9728     23024     23916     18011     31564   ...   -18080      2316     27450      5594      8919  
    9728     -4624    -31892    -19621      5964   ...    21088     -9972      2618      6106    -31529  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
    9728    -17936     11628     -8613    -25780   ...    -3744    -30452     29498      1498      4823  
    9728     19952     21356     19291     14156   ...   -30112     22796      4666      2010     29911  
    9728     -7696     31084    -18341    -11444   ...     9056     10508    -20166      2522    -10537  
    9728     30192    -24724      9563     28492   ...   -17312     -1780     20538      3034     14551  
    9728      2544    -14996    -28069      2892   ...    21856    -14068     -4294      3546    -25897  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 256 -N 2048 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x256x2048_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x256x2048_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x256x2048_64x64x64_4c.txt ../build/aie_256x256x2048_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x2048_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x2048_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x2048_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x256x2048_64x64x64_4c.xclbin -i build/insts_256x256x2048_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 256 -N 2048 --b_col_maj 0
Final M=256
Final K=256
Final N=2112
Matrix has been padded
[    0,     0] 9920.00 =!= 18432.00
[    0,     1] 29024.00 =!= -1826.00
[    0,     2] -31426.00 =!= 25766.00
[    0,     3] -9830.00 =!= 14739.00
[    0,     4] 5772.00 =!= 9776.00
[    0,     5] -1122.00 =!= 903.00
[    0,     6] -20094.00 =!= -18920.00
[    0,     7] 7003.00 =!= 14882.00
[    0,     8] -26912.00 =!= -31904.00
[    0,     9] -3515.00 =!= 7121.00
[    0,    10] 7012.00 =!= 4034.00
[    0,    11] -18481.00 =!= -10119.00
[    0,    12] -20664.00 =!= -15552.00
[    0,    13] 1612.00 =!= -13917.00
[    0,    14] -8896.00 =!= 4402.00
[    0,    15] -21159.00 =!= -3779.00
[    0,    16] 10736.00 =!= -17776.00
[    0,    17] -27518.00 =!= -29864.00
[    0,    18] 1524.00 =!= -22666.00
[    0,    19] 31570.00 =!= -16048.00
[    0,    20] 9904.00 =!= 22472.00
[    0,    21] -20558.00 =!= -11730.00
[    0,    22] 7744.00 =!= -14630.00
[    0,    23] 29242.00 =!= 25212.00
[    0,    24] -21416.00 =!= -13944.00
[    0,    25] -3581.00 =!= 20980.00
[    0,    26] 15796.00 =!= 23796.00
[    0,    27] 13197.00 =!= -1409.00
[    0,    28] 12056.00 =!= 29984.00
[    0,    29] -12997.00 =!= -1111.00
[    0,    30] 16892.00 =!= 26250.00
[    0,    31] 14624.00 =!= -7138.00
...and 524242 further errors.
Maximum relative error: 200%

Reference:
   18432     -1826     25766     14739      9776   ...    -3311     24576     -9386    -30316    -24850  
   18432     30686    -29530     29843     -1488   ...   -14575     15360     14166      8596     30190  
   18432     -2338    -19290    -20589    -12752   ...   -25839      6144    -27818    -18028     19694  
   18432     30174     -9050     -5485    -24016   ...    28433     -3072     -4266     20884      9198  
   18432     -2850      1190      9619     30256   ...    17169    -12288     19286     -5740     -1298  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   18432     32222    -25434      4755       560   ...   -12527      5120      3926    -28268     27630  
   18432      -802    -15194     19859    -10704   ...   -23791     -4096     27478     10644     17134  
   18432     31710     -4954    -30573    -21968   ...    30481    -13312    -14506    -15980      6638  
   18432     -1314      5286    -15469     32304   ...    19217    -22528      9046     22932     -3858  
   18432     31198     15526      -365     21040   ...     7953    -31744     32598     -3692    -14354  

Output:
    9920     29024    -31426     -9830      5772   ...   -20707      2184      1842     32506    -16092  
  -22848    -10656    -18626    -14694     -1396   ...    31261      5256    -21710    -11014      4900  
    9920     15200     -5826    -19558     -8564   ...    17693      8328     20274     11002     25892  
  -22848    -24480      6974    -24422    -15732   ...     4125     11400     -3278    -32518    -18652  
    9920      1376     19774    -29286    -22900   ...    -9443     14472    -26830    -10502      2340  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2215.00us.
Avg NPU gflops: 121.19

Min NPU matmul time: 2215.00us.
Max NPU gflops: 121.19

Max NPU matmul time: 2215.00us.
Min NPU gflops: 121.19

Error count: 524274


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 256 -N 2304 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x256x2304_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x256x2304_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x256x2304_64x64x64_4c.txt ../build/aie_256x256x2304_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x2304_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x2304_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x2304_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x256x2304_64x64x64_4c.xclbin -i build/insts_256x256x2304_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 256 -N 2304 --b_col_maj 0
Final M=256
Final K=256
Final N=2304
Matrix has been padded

Avg NPU matmul time: 2308us.
Avg NPU gflops: 130.845

Min NPU matmul time: 2308us.
Max NPU gflops: 130.845

Max NPU matmul time: 2308us.
Min NPU gflops: 130.845

PASS!

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 256 -N 2560 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x256x2560_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x256x2560_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x256x2560_64x64x64_4c.txt ../build/aie_256x256x2560_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x2560_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x2560_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x2560_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x256x2560_64x64x64_4c.xclbin -i build/insts_256x256x2560_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 256 -N 2560 --b_col_maj 0
Final M=256
Final K=256
Final N=2688
Matrix has been padded
[    0,     0] 1408.00 =!= 2560.00
[    0,     1] -23385.00 =!= -26604.00
[    0,     2] -6070.00 =!= -16924.00
[    0,     3] -16425.00 =!= 16268.00
[    0,     4] 29000.00 =!= -31904.00
[    0,     5] 19321.00 =!= 11047.00
[    0,     6] -24042.00 =!= 10346.00
[    0,     7] 28094.00 =!= -15126.00
[    0,     8] 18304.00 =!= -256.00
[    0,     9] 392.00 =!= -25008.00
[    0,    10] 9480.00 =!= -24282.00
[    0,    11] -31345.00 =!= 9320.00
[    0,    12] 20520.00 =!= 18932.00
[    0,    13] 31013.00 =!= 29007.00
[    0,    14] -17414.00 =!= -6008.00
[    0,    15] -18579.00 =!= 15477.00
[    0,    16] -31424.00 =!= -29968.00
[    0,    17] -13625.00 =!= -1933.00
[    0,    18] -8628.00 =!= -22882.00
[    0,    19] -20958.00 =!= 25270.00
[    0,    20] 28292.00 =!= 7388.00
[    0,    21] -22802.00 =!= 642.00
[    0,    22] 872.00 =!= 21482.00
[    0,    23] 29808.00 =!= 32383.00
[    0,    24] -22440.00 =!= -19320.00
[    0,    25] -9063.00 =!= 27802.00
[    0,    26] 15858.00 =!= -564.00
[    0,    27] 29781.00 =!= -6419.00
[    0,    28] 6552.00 =!= 26472.00
[    0,    29] 26797.00 =!= 5539.00
[    0,    30] -15308.00 =!= -25342.00
[    0,    31] -12485.00 =!= -16451.00
...and 655317 further errors.
Maximum relative error: 200%

Reference:
    2560    -26604    -16924     16268    -31904   ...   -27786    -13800     28516     20646     22390  
    2560     -9964      5092      3212     31584   ...    23158    -13800      5732     -2906      -650  
    2560      6676     27108     -9844     29536   ...     8566    -13800    -17052    -26458    -23690  
    2560     23316    -16412    -22900     27488   ...    -6026    -13800     25700     15526     18806  
    2560    -25580      5604     29580     25440   ...   -20618    -13800      2916     -8026     -4234  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
    2560     21268      4068     16012    -21664   ...   -20362    -13800     11364      7334      6518  
    2560    -27628     26084      2956    -23712   ...    30582    -13800    -11420    -16218    -16522  
    2560    -10988    -17436    -10100    -25760   ...    15990    -13800     31332     25766     25974  
    2560      5652      4580    -23156    -27808   ...     1398    -13800      8548      2214      2934  
    2560     22292     26596     29324    -29856   ...   -13194    -13800    -14236    -21338    -20106  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 256 -N 2816 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x256x2816_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x256x2816_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x256x2816_64x64x64_4c.txt ../build/aie_256x256x2816_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x2816_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x2816_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x2816_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x256x2816_64x64x64_4c.xclbin -i build/insts_256x256x2816_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 256 -N 2816 --b_col_maj 0
Final M=256
Final K=256
Final N=2880
Matrix has been padded
[    0,     0] 11264.00 =!= 12288.00
[    0,     1] 7239.00 =!= 28254.00
[    0,     2] 2244.00 =!= -25592.00
[    0,     3] 10077.00 =!= -14277.00
[    0,     4] 26464.00 =!= 9088.00
[    0,     5] 16906.00 =!= 8358.00
[    0,     6] -32000.00 =!= 13474.00
[    0,     7] 26723.00 =!= 6163.00
[    0,     8] -5088.00 =!= -10840.00
[    0,     9] -17251.00 =!= -29462.00
[    0,    10] 17122.00 =!= 21752.00
[    0,    11] -19021.00 =!= -4996.00
[    0,    12] 30264.00 =!= 8120.00
[    0,    13] -18079.00 =!= -5830.00
[    0,    14] 14742.00 =!= 22144.00
[    0,    15] 20774.00 =!= 29362.00
[    0,    16] 432.00 =!= 7408.00
[    0,    17] -31742.00 =!= -30873.00
[    0,    18] 5792.00 =!= -5598.00
[    0,    19] -776.00 =!= 22477.00
[    0,    20] 5080.00 =!= -26208.00
[    0,    21] -17580.00 =!= -8536.00
[    0,    22] 17508.00 =!= 12632.00
[    0,    23] 13585.00 =!= -21961.00
[    0,    24] 2208.00 =!= 11744.00
[    0,    25] -8638.00 =!= 15800.00
[    0,    26] 1242.00 =!= 19736.00
[    0,    27] -24622.00 =!= 31257.00
[    0,    28] -27236.00 =!= 14420.00
[    0,    29] -22060.00 =!= 2828.00
[    0,    30] 3632.00 =!= -14948.00
[    0,    31] 26681.00 =!= -2025.00
...and 720847 further errors.
Maximum relative error: 200%

Reference:
   12288     28254    -25592    -14277      9088   ...    17953      4960     -1968     25164    -15257  
   12288    -27810     18952    -19141     -6272   ...    25889    -22688      8272     23628     20583  
   12288    -18338     -2040    -24005    -21632   ...   -31711     15200     18512     22092     -9113  
   12288     -8866    -23032    -28869     28544   ...   -23775    -12448     28752     20556     26727  
   12288       606     21512     31803     13184   ...   -15839     25440    -26544     19020     -2969  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   12288    -19106     13832     10043     20352   ...   -21727     12128     12368    -32692      2151  
   12288     -9634     -7160      5179      4992   ...   -13791    -15520     22608     31308    -27545  
   12288      -162    -28152       315    -10368   ...    -5855     22368    -32688     29772      8295  
   12288      9310     16392     -4549    -25728   ...     2081     -5280    -22448     28236    -21401  
   12288     18782     -4600     -9413     24448   ...    10017     32608    -12208     26700     14439  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 256 -N 3072 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x256x3072_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x256x3072_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x256x3072_64x64x64_4c.txt ../build/aie_256x256x3072_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x3072_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x3072_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x3072_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x256x3072_64x64x64_4c.xclbin -i build/insts_256x256x3072_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 256 -N 3072 --b_col_maj 0
Final M=256
Final K=256
Final N=3072
Matrix has been padded

Avg NPU matmul time: 2356us.
Avg NPU gflops: 170.905

Min NPU matmul time: 2356us.
Max NPU gflops: 170.905

Max NPU matmul time: 2356us.
Min NPU gflops: 170.905

PASS!

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 256 -N 3328 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x256x3328_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x256x3328_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x256x3328_64x64x64_4c.txt ../build/aie_256x256x3328_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x3328_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x3328_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x3328_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x256x3328_64x64x64_4c.xclbin -i build/insts_256x256x3328_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 256 -N 3328 --b_col_maj 0
Final M=256
Final K=256
Final N=3456
Matrix has been padded
[    0,     0] 1152.00 =!= 22016.00
[    0,     1] 15584.00 =!= -19633.00
[    0,     2] -20542.00 =!= -3186.00
[    0,     3] -12225.00 =!= -15302.00
[    0,     4] -22492.00 =!= 20816.00
[    0,     5] -17990.00 =!= -918.00
[    0,     6] -25752.00 =!= 32180.00
[    0,     7] 21479.00 =!= 14255.00
[    0,     8] -16136.00 =!= 3864.00
[    0,     9] -4400.00 =!= 24755.00
[    0,    10] 22332.00 =!= 5766.00
[    0,    11] 22612.00 =!= -31295.00
[    0,    12] -3136.00 =!= 588.00
[    0,    13] 23651.00 =!= -7630.00
[    0,    14] -9050.00 =!= 8944.00
[    0,    15] 5747.00 =!= 6150.00
[    0,    16] 20160.00 =!= -12816.00
[    0,    17] -2817.00 =!= -23273.00
[    0,    18] 29948.00 =!= -32054.00
[    0,    19] -332.00 =!= -32263.00
[    0,    20] -23844.00 =!= 7736.00
[    0,    21] 16537.00 =!= 23873.00
[    0,    22] 8586.00 =!= -20418.00
[    0,    23] 16552.00 =!= -17770.00
[    0,    24] 30104.00 =!= -27488.00
[    0,    25] 13334.00 =!= 15293.00
[    0,    26] 25272.00 =!= 22382.00
[    0,    27] 4766.00 =!= -17749.00
[    0,    28] 14572.00 =!= 27256.00
[    0,    29] -4661.00 =!= 27530.00
[    0,    30] -9122.00 =!= -29882.00
[    0,    31] -19594.00 =!= 12039.00
...and 851901 further errors.
Maximum relative error: 200%

Reference:
   22016    -19633     -3186    -15302     20816   ...     1868    -26532     -4633    -22322      8729  
   22016      9807     11662    -28870    -29360   ...     6732    -10148    -26137     13006     12057  
   22016    -26289     26510     23098    -14000   ...    11596      6236     17895    -17202     15385  
   22016      3151    -24178      9530      1360   ...    16460     22620     -3609     18126     18713  
   22016     32591     -9330     -4038     16720   ...    21324    -26532    -25113    -12082     22041  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   22016     29775    -11890    -12998      9552   ...   -22452     22620    -28185     -2354     -7911  
   22016     -6321      2958    -26566     24912   ...   -17588    -26532     15847    -32562     -4583  
   22016     23119     17806     25402    -25264   ...   -12724    -10148     -5657      2766     -1255  
   22016    -12977     32654     11834     -9904   ...    -7860      6236    -27161    -27442      2073  
   22016     16463    -18034     -1734      5456   ...    -2996     22620     16871      7886      5401  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 256 -N 3584 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x256x3584_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x256x3584_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x256x3584_64x64x64_4c.txt ../build/aie_256x256x3584_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x3584_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x3584_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x3584_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x256x3584_64x64x64_4c.xclbin -i build/insts_256x256x3584_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 256 -N 3584 --b_col_maj 0
Final M=256
Final K=256
Final N=3648
Matrix has been padded
[    0,     0] 10560.00 =!= -31232.00
[    0,     1] 30676.00 =!= -31672.00
[    0,     2] -8138.00 =!= -68.00
[    0,     3] 572.00 =!= -4867.00
[    0,     4] -17552.00 =!= 29372.00
[    0,     5] -14632.00 =!= -9352.00
[    0,     6] 30664.00 =!= 32598.00
[    0,     7] -19547.00 =!= -31040.00
[    0,     8] -26784.00 =!= 23584.00
[    0,     9] -15467.00 =!= 19530.00
[    0,    10] 5440.00 =!= 20876.00
[    0,    11] -17334.00 =!= 26503.00
[    0,    12] 3004.00 =!= -30508.00
[    0,    13] -21889.00 =!= 4050.00
[    0,    14] -16112.00 =!= -14202.00
[    0,    15] 5026.00 =!= 28270.00
[    0,    16] -18464.00 =!= 30272.00
[    0,    17] 10629.00 =!= -27561.00
[    0,    18] -15906.00 =!= -22236.00
[    0,    19] 23871.00 =!= -23396.00
[    0,    20] -25364.00 =!= -26972.00
[    0,    21] 3214.00 =!= -465.00
[    0,    22] -31538.00 =!= 25232.00
[    0,    23] 14568.00 =!= -1526.00
[    0,    24] -12360.00 =!= 19880.00
[    0,    25] 17070.00 =!= -24512.00
[    0,    26] -9556.00 =!= -6926.00
[    0,    27] 26686.00 =!= -27150.00
[    0,    28] 24440.00 =!= -208.00
[    0,    29] -4333.00 =!= -13127.00
[    0,    30] -26614.00 =!= 11666.00
[    0,    31] -27113.00 =!= 29560.00
...and 917453 further errors.
Maximum relative error: 200%

Reference:
  -31232    -31672       -68     -4867     29372   ...    -6535     -2668      2166    -22008     -6889  
  -31232    -32440    -12356     23037     28348   ...   -29831     20884     24182    -16888     23575  
  -31232     32328    -24644    -14595     27324   ...    12409    -21100    -19338    -11768    -11497  
  -31232     31560     28604     13309     26300   ...   -10887      2452      2678     -6648     18967  
  -31232     30792     16316    -24323     25276   ...    31353     26004     24694     -1528    -16105  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
  -31232    -27832     -4164    -13315    -31044   ...   -21127     10644     23158     17928    -28137  
  -31232    -28600    -16452     14589    -32068   ...    21113    -31340    -20362     23048      2327  
  -31232    -29368    -28740    -23043     32444   ...    -2183     -7788      1654     28168    -32745  
  -31232    -30136     24508      4861     31420   ...   -25479     15764     23670    -32248     -2281  
  -31232    -30904     12220     32765     30396   ...    16761    -26220    -19850    -27128     28183  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 256 -N 3840 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x256x3840_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x256x3840_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x256x3840_64x64x64_4c.txt ../build/aie_256x256x3840_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x3840_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x3840_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x3840_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x256x3840_64x64x64_4c.xclbin -i build/insts_256x256x3840_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 256 -N 3840 --b_col_maj 0
Final M=256
Final K=256
Final N=3840
Matrix has been padded

Avg NPU matmul time: 2455us.
Avg NPU gflops: 205.017

Min NPU matmul time: 2455us.
Max NPU gflops: 205.017

Max NPU matmul time: 2455us.
Min NPU gflops: 205.017

PASS!

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 256 -N 4096 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x256x4096_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x256x4096_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x256x4096_64x64x64_4c.txt ../build/aie_256x256x4096_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x4096_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x4096_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x4096_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x256x4096_64x64x64_4c.xclbin -i build/insts_256x256x4096_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 256 -N 4096 --b_col_maj 0
Final M=256
Final K=256
Final N=4224
Matrix has been padded
[    0,     0] -18432.00 =!= -28672.00
[    0,     1] -11677.00 =!= 1108.00
[    0,     2] 25336.00 =!= 28694.00
[    0,     3] -21626.00 =!= 21003.00
[    0,     4] -19908.00 =!= -30760.00
[    0,     5] 28189.00 =!= 13750.00
[    0,     6] 15970.00 =!= -22232.00
[    0,     7] -4020.00 =!= -10845.00
[    0,     8] -8216.00 =!= -14984.00
[    0,     9] -8092.00 =!= 30070.00
[    0,    10] -26768.00 =!= -16.00
[    0,    11] 15518.00 =!= 14231.00
[    0,    12] -7276.00 =!= -12364.00
[    0,    13] -32672.00 =!= 21489.00
[    0,    14] 9720.00 =!= 11794.00
[    0,    15] 17140.00 =!= 11028.00
[    0,    16] 13680.00 =!= 13584.00
[    0,    17] 17494.00 =!= -9774.00
[    0,    18] -2926.00 =!= -5970.00
[    0,    19] -2755.00 =!= -12616.00
[    0,    20] 25400.00 =!= -32676.00
[    0,    21] -27753.00 =!= -6633.00
[    0,    22] 23778.00 =!= -7670.00
[    0,    23] -4480.00 =!= -8758.00
[    0,    24] 32640.00 =!= 24928.00
[    0,    25] -20817.00 =!= -15116.00
[    0,    26] -22714.00 =!= 29012.00
[    0,    27] 17588.00 =!= 18755.00
[    0,    28] 27624.00 =!= -30008.00
[    0,    29] -26100.00 =!= -6410.00
[    0,    30] 9562.00 =!= -4996.00
[    0,    31] 1273.00 =!= 29921.00
...and 1048487 further errors.
Maximum relative error: 200%

Reference:
  -28672      1108     28694     21003    -30760   ...   -19424    -12560       509      8976     13137  
  -28672    -29356    -14314     19723     19416   ...    16928     12016      2301     21776     -1455  
  -28672      5716      8214     18443      4056   ...   -12256    -28944      4093    -30960    -16047  
  -28672    -24748     30742     17163    -11304   ...    24096     -4368      5885    -18160    -30639  
  -28672     10324    -12266     15883    -26664   ...    -5088     20208      7677     -5360     20305  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
  -28672     22356    -18410     27403    -19496   ...    -4576     -4368     -8451     10512     20561  
  -28672     -8108      4118     26123     30680   ...    31776     20208     -6659     23312      5969  
  -28672     26964     26646     24843     15320   ...     2592    -20752     -4867    -29424     -8623  
  -28672     -3500    -16362     23563       -40   ...   -26592      3824     -3075    -16624    -23215  
  -28672     31572      6166     22283    -15400   ...     9760     28400     -1283     -3824     27729  

Output:
  -18432    -11677     25336    -21626    -19908   ...    31472    -31060     25051     14926      2451  
  -18432     12899      6392     11142     -3524   ...      752     -7508     29403    -22962     -1645  
  -18432    -28061    -12552    -21626     12860   ...   -29968     16044    -31781      4686     -5741  
  -18432     -3485    -31496     11142     29244   ...     4848    -25940    -27429     32334     -9837  
  -18432     21091     15096    -21626    -19908   ...   -25872     -2388    -23077     -5554    -13933  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2410.00us.
Avg NPU gflops: 222.77

Min NPU matmul time: 2410.00us.
Max NPU gflops: 222.77

Max NPU matmul time: 2410.00us.
Min NPU gflops: 222.77

Error count: 1048519


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 512 -N 256 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x512x256_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x512x256_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x512x256_64x64x64_4c.txt ../build/aie_256x512x256_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x256_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x256_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x256_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x512x256_64x64x64_4c.xclbin -i build/insts_256x512x256_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 512 -N 256 --b_col_maj 0
Final M=256
Final K=512
Final N=384
Matrix has been padded
[    0,     0] -10624.00 =!= -24064.00
[    0,     1] 2527.00 =!= 4654.00
[    0,     2] 11500.00 =!= 19112.00
[    0,     3] -10141.00 =!= 2729.00
[    0,     4] -72.00 =!= -24480.00
[    0,     5] 20048.00 =!= -8680.00
[    0,     6] 26478.00 =!= 21346.00
[    0,     7] 27974.00 =!= -5067.00
[    0,     8] -20096.00 =!= -12112.00
[    0,     9] -5955.00 =!= 24576.00
[    0,    10] 21600.00 =!= -13588.00
[    0,    11] 5080.00 =!= 1392.00
[    0,    12] -21192.00 =!= -296.00
[    0,    13] 5619.00 =!= 20829.00
[    0,    14] 18134.00 =!= -21102.00
[    0,    15] -412.00 =!= -6915.00
[    0,    16] 20256.00 =!= -28288.00
[    0,    17] -7613.00 =!= -19679.00
[    0,    18] 17464.00 =!= -21634.00
[    0,    19] 17145.00 =!= -28392.00
[    0,    20] 15028.00 =!= -13208.00
[    0,    21] 17758.00 =!= -19360.00
[    0,    22] 6918.00 =!= 4038.00
[    0,    23] -10657.00 =!= -23727.00
[    0,    24] 31040.00 =!= 6952.00
[    0,    25] 2487.00 =!= 7112.00
[    0,    26] -25896.00 =!= 15296.00
[    0,    27] 9400.00 =!= 17959.00
[    0,    28] 9748.00 =!= 6516.00
[    0,    29] -24677.00 =!= 8715.00
[    0,    30] -24922.00 =!= -8224.00
[    0,    31] -31272.00 =!= -19046.00
...and 65496 further errors.
Maximum relative error: 200%

Reference:
  -24064      4654     19112      2729    -24480   ...   -12844     -8628     -5466     14350    -11470  
  -24064     -9170    -17752     28841    -24480   ...    22484     -2484     -5466     14350     -9422  
  -24064    -22994     10920    -10583    -24480   ...    -7724      3660     -5466     14350     -7374  
  -24064     28718    -25944     15529    -24480   ...    27604      9804     -5466     14350     -5326  
  -24064     14894      2728    -23895    -24480   ...    -2604     15948     -5466     14350     -3278  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
  -24064      8238      6824      3241    -24480   ...     7124     26188     -5466     14350    -21710  
  -24064     -5586    -30040     29353    -24480   ...   -23084     32332     -5466     14350    -19662  
  -24064    -19410     -1368    -10071    -24480   ...    12244    -27060     -5466     14350    -17614  
  -24064     32302     27304     16041    -24480   ...   -17964    -20916     -5466     14350    -15566  
  -24064     18478     -9560    -23383    -24480   ...    17364    -14772     -5466     14350    -13518  

Output:
  -10624      2527     11500    -10141       -72   ...   -32126    -16508     17752    -22514    -23730  
  -10624      8159    -18196      8291    -14408   ...   -23934     -4220     -4776    -24562      5454  
  -10624     13791     17644     26723    -28744   ...   -15742      8068    -27304    -26610    -30898  
  -10624     19423    -12052    -20381     22456   ...    -7550     20356     15704    -28658     -1714  
  -10624     25055     23788     -1949      8120   ...      642     32644     -6824    -30706     27470  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2106.00us.
Avg NPU gflops: 31.87

Min NPU matmul time: 2106.00us.
Max NPU gflops: 31.87

Max NPU matmul time: 2106.00us.
Min NPU gflops: 31.87

Error count: 65528


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 512 -N 512 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x512x512_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x512x512_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x512x512_64x64x64_4c.txt ../build/aie_256x512x512_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x512_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x512_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x512_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x512x512_64x64x64_4c.xclbin -i build/insts_256x512x512_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 512 -N 512 --b_col_maj 0
Final M=256
Final K=512
Final N=576
Matrix has been padded
[    0,     0] 32000.00 =!= -30208.00
[    0,     1] 16440.00 =!= 8692.00
[    0,     2] -19582.00 =!= -27624.00
[    0,     3] 7769.00 =!= 3743.00
[    0,     4] -3352.00 =!= -17676.00
[    0,     5] 25452.00 =!= 31328.00
[    0,     6] -6496.00 =!= -2572.00
[    0,     7] 25300.00 =!= -16938.00
[    0,     8] -784.00 =!= -15032.00
[    0,     9] -2296.00 =!= -6157.00
[    0,    10] -22630.00 =!= 9686.00
[    0,    11] -18397.00 =!= 7595.00
[    0,    12] 28916.00 =!= -20908.00
[    0,    13] 26577.00 =!= 11419.00
[    0,    14] 1248.00 =!= -11928.00
[    0,    15] -6039.00 =!= 14765.00
[    0,    16] -6272.00 =!= 22432.00
[    0,    17] -6420.00 =!= -21134.00
[    0,    18] 16422.00 =!= -25660.00
[    0,    19] -30830.00 =!= -12713.00
[    0,    20] 6260.00 =!= 23708.00
[    0,    21] 23980.00 =!= -28685.00
[    0,    22] -25882.00 =!= 17568.00
[    0,    23] -21421.00 =!= 31454.00
[    0,    24] 10728.00 =!= 20904.00
[    0,    25] -27202.00 =!= 11601.00
[    0,    26] 17744.00 =!= -29166.00
[    0,    27] -20510.00 =!= 12620.00
[    0,    28] 17140.00 =!= -12484.00
[    0,    29] 6940.00 =!= -28438.00
[    0,    30] -30394.00 =!= 2614.00
[    0,    31] 28373.00 =!= 17902.00
...and 131040 further errors.
Maximum relative error: 200%

Reference:
  -30208      8692    -27624      3743    -17676   ...    26967    -12752    -12258     21330     19446  
  -30208     25076      4120     11935      4852   ...   -17065     26160     24606     -1198     12790  
  -30208    -24076    -29672     20127     27380   ...     4439      -464     -4066    -23726      6134  
  -30208     -7692      2072     28319    -15628   ...    25943    -27088    -32738     19282      -522  
  -30208      8692    -31720    -29025      6900   ...   -18089     11824      4126     -3246     -7178  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
  -30208     -7692     10264     28319       756   ...   -15017    -10704        30      2898    -12810  
  -30208      8692    -23528    -29025     23284   ...     6487     28208    -28642    -19630    -19466  
  -30208     25076      8216    -20833    -19724   ...    27991      1584      8222     23378    -26122  
  -30208    -24076    -25576    -12641      2804   ...   -16041    -25040    -20450       850     32758  
  -30208     -7692      6168     -4449     25332   ...     5463     13872     16414    -21678     26102  

Output:
   32000     16440    -19582      7769     -3352   ...     6563     23852     18278    -18214      3484  
   32000     10808     -9342     29273    -19736   ...    18851     -4820     22374     28890     -8804  
   32000      5176       898    -14759     29416   ...    31139     32044     26470     10458    -21092  
   32000      -456     11138      6745     13032   ...   -22109      3372     30566     -7974     32156  
   32000     -6088     21378     28249     -3352   ...    -9821    -25300    -30874    -26406     19868  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 3249.00us.
Avg NPU gflops: 41.31

Min NPU matmul time: 3249.00us.
Max NPU gflops: 41.31

Max NPU matmul time: 3249.00us.
Min NPU gflops: 41.31

Error count: 131072


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 512 -N 768 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x512x768_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x512x768_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x512x768_64x64x64_4c.txt ../build/aie_256x512x768_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x768_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x768_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x768_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x512x768_64x64x64_4c.xclbin -i build/insts_256x512x768_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 512 -N 768 --b_col_maj 0
Final M=256
Final K=512
Final N=768
Matrix has been padded

Avg NPU matmul time: 2246us.
Avg NPU gflops: 89.6378

Min NPU matmul time: 2246us.
Max NPU gflops: 89.6378

Max NPU matmul time: 2246us.
Min NPU gflops: 89.6378

PASS!

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 512 -N 1024 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x512x1024_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x512x1024_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x512x1024_64x64x64_4c.txt ../build/aie_256x512x1024_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x1024_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x1024_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x1024_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x512x1024_64x64x64_4c.xclbin -i build/insts_256x512x1024_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 512 -N 1024 --b_col_maj 0
Final M=256
Final K=512
Final N=1152
Matrix has been padded
[    0,     0] -28928.00 =!= -11264.00
[    0,     1] 9000.00 =!= 17531.00
[    0,     2] 12980.00 =!= -18550.00
[    0,     3] -32116.00 =!= 17411.00
[    0,     4] 16092.00 =!= 868.00
[    0,     5] -12146.00 =!= 15470.00
[    0,     6] 20722.00 =!= 19132.00
[    0,     7] 19019.00 =!= 31907.00
[    0,     8] -16408.00 =!= -16056.00
[    0,     9] -26500.00 =!= -13580.00
[    0,    10] 6322.00 =!= 20204.00
[    0,    11] 11692.00 =!= -14020.00
[    0,    12] 7328.00 =!= 4764.00
[    0,    13] -2282.00 =!= -1963.00
[    0,    14] 13920.00 =!= 23936.00
[    0,    15] -2614.00 =!= 21065.00
[    0,    16] -19472.00 =!= -3568.00
[    0,    17] 22096.00 =!= 13456.00
[    0,    18] 9738.00 =!= -29318.00
[    0,    19] 5741.00 =!= 27357.00
[    0,    20] 17704.00 =!= -4496.00
[    0,    21] -19915.00 =!= 12141.00
[    0,    22] -2428.00 =!= -3748.00
[    0,    23] -6461.00 =!= -30417.00
[    0,    24] 11832.00 =!= 3352.00
[    0,    25] 4699.00 =!= -651.00
[    0,    26] -3660.00 =!= -24400.00
[    0,    27] -19072.00 =!= -20009.00
[    0,    28] 676.00 =!= 19020.00
[    0,    29] -20901.00 =!= 13211.00
[    0,    30] -22212.00 =!= -16582.00
[    0,    31] -25157.00 =!= -3182.00
...and 262112 further errors.
Maximum relative error: 100%

Reference:
  -11264     17531    -18550     17411       868   ...   -13284      1468     26344      9424    -28047  
  -11264    -22405    -21622    -15357    -15516   ...     6172    -14916     12520     25808     -2447  
  -11264      3195    -24694     17411    -31900   ...    25628    -31300     -1304    -23344     23153  
  -11264     28795    -27766    -15357     17252   ...   -20452     17852    -15128     -6960    -16783  
  -11264    -11141    -30838     17411       868   ...     -996      1468    -28952      9424      8817  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
  -11264     20603     -3190    -15357     17252   ...    20508     17852     29928     -6960    -24975  
  -11264    -19333     -6262     17411       868   ...   -25572      1468     16104      9424       625  
  -11264      6267     -9334    -15357    -15516   ...    -6116    -14916      2280     25808     26225  
  -11264     31867    -12406     17411    -31900   ...    13340    -31300    -11544    -23344    -13711  
  -11264     -8069    -15478    -15357     17252   ...   -32740     17852    -25368     -6960     11889  

Output:
  -28928      9000     12980    -32116     16092   ...    20892    -25680    -19038    -12600    -25533  
  -28928     -2264    -31052     -5492     -8484   ...    -2660     31664    -11358      9928    -22973  
  -28928    -13528     -9548     21132     32476   ...   -26212     23472     -3678     32456    -20413  
  -28928    -24792     11956    -17780      7900   ...    15772     15280      4002    -10552    -17853  
  -28928     29480    -32076      8844    -16676   ...    -7780      7088     11682     11976    -15293  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2220.00us.
Avg NPU gflops: 120.92

Min NPU matmul time: 2220.00us.
Max NPU gflops: 120.92

Max NPU matmul time: 2220.00us.
Min NPU gflops: 120.92

Error count: 262144


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 512 -N 1280 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x512x1280_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x512x1280_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x512x1280_64x64x64_4c.txt ../build/aie_256x512x1280_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x1280_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x1280_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x1280_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.3s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x512x1280_64x64x64_4c.xclbin -i build/insts_256x512x1280_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 512 -N 1280 --b_col_maj 0
Final M=256
Final K=512
Final N=1344
Matrix has been padded
[    0,     0] 12928.00 =!= 7168.00
[    0,     1] 26122.00 =!= -20098.00
[    0,     2] -22552.00 =!= 5786.00
[    0,     3] 985.00 =!= 31533.00
[    0,     4] -18912.00 =!= -12428.00
[    0,     5] 27465.00 =!= 8458.00
[    0,     6] -4716.00 =!= -20126.00
[    0,     7] 32385.00 =!= -3953.00
[    0,     8] -23560.00 =!= -11672.00
[    0,     9] -7330.00 =!= -13438.00
[    0,    10] 9624.00 =!= 28114.00
[    0,    11] 11683.00 =!= 7099.00
[    0,    12] 30668.00 =!= 29124.00
[    0,    13] -16259.00 =!= 1119.00
[    0,    14] -13894.00 =!= -30748.00
[    0,    15] 14127.00 =!= -24644.00
[    0,    16] 10224.00 =!= 2080.00
[    0,    17] -27576.00 =!= -25385.00
[    0,    18] 9438.00 =!= -26378.00
[    0,    19] -647.00 =!= -13026.00
[    0,    20] -7936.00 =!= -708.00
[    0,    21] 22906.00 =!= 29848.00
[    0,    22] -23996.00 =!= -17542.00
[    0,    23] 12473.00 =!= 7638.00
[    0,    24] 30240.00 =!= -29720.00
[    0,    25] 27856.00 =!= -4833.00
[    0,    26] -21926.00 =!= -18204.00
[    0,    27] -1093.00 =!= -11449.00
[    0,    28] -21900.00 =!= -32140.00
[    0,    29] 19682.00 =!= -1849.00
[    0,    30] -31626.00 =!= -28016.00
[    0,    31] 13608.00 =!= -27179.00
...and 327614 further errors.
Maximum relative error: 200%

Reference:
    7168    -20098      5786     31533    -12428   ...    -8391     14816     16323      9128     29614  
    7168     -2178     16026      4909     22388   ...    -8391     18912     -6717     -5208     26030  
    7168     15742     26266    -21715     -8332   ...    -8391     23008    -29757    -19544     22446  
    7168    -31874    -29030     17197     26484   ...    -8391     27104     12739     31656     18862  
    7168    -13954    -18790     -9427     -4236   ...    -8391     31200    -10301     17320     15278  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
    7168     21374     20122    -31955     10100   ...    -8391     -5664       451     15272    -18002  
    7168    -26242     30362      6957    -20620   ...    -8391     -1568    -22589       936    -21586  
    7168     -8322    -24934    -19667     14196   ...    -8391      2528     19907    -13400    -25170  
    7168      9598    -14694     19245    -16524   ...    -8391      6624     -3133    -27736    -28754  
    7168     27518     -4454     -7379     18292   ...    -8391     10720    -26173     23464    -32338  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 512 -N 1536 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x512x1536_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x512x1536_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x512x1536_64x64x64_4c.txt ../build/aie_256x512x1536_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x1536_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x1536_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x1536_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x512x1536_64x64x64_4c.xclbin -i build/insts_256x512x1536_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 512 -N 1536 --b_col_maj 0
Final M=256
Final K=512
Final N=1536
Matrix has been padded

Avg NPU matmul time: 2350us.
Avg NPU gflops: 171.342

Min NPU matmul time: 2350us.
Max NPU gflops: 171.342

Max NPU matmul time: 2350us.
Min NPU gflops: 171.342

PASS!

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 512 -N 1792 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x512x1792_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x512x1792_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x512x1792_64x64x64_4c.txt ../build/aie_256x512x1792_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x1792_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x1792_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x1792_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x512x1792_64x64x64_4c.xclbin -i build/insts_256x512x1792_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 512 -N 1792 --b_col_maj 0
Final M=256
Final K=512
Final N=1920
Matrix has been padded
[    0,     0] 26752.00 =!= -25600.00
[    0,     1] 26003.00 =!= -2295.00
[    0,     2] 9162.00 =!= 5000.00
[    0,     3] -29734.00 =!= -2028.00
[    0,     4] 4384.00 =!= -22412.00
[    0,     5] 4038.00 =!= 14105.00
[    0,     6] -26618.00 =!= 10344.00
[    0,     7] -16254.00 =!= 31648.00
[    0,     8] 22616.00 =!= 4248.00
[    0,     9] 7774.00 =!= 15197.00
[    0,    10] 25326.00 =!= -4692.00
[    0,    11] -24412.00 =!= 5223.00
[    0,    12] 9228.00 =!= 28100.00
[    0,    13] -3985.00 =!= -22617.00
[    0,    14] 2214.00 =!= 14302.00
[    0,    15] 8957.00 =!= 22715.00
[    0,    16] 27344.00 =!= 23600.00
[    0,    17] 7834.00 =!= 960.00
[    0,    18] -14312.00 =!= 24214.00
[    0,    19] 7586.00 =!= -28162.00
[    0,    20] 28956.00 =!= -11820.00
[    0,    21] -13499.00 =!= -1709.00
[    0,    22] -13052.00 =!= 620.00
[    0,    23] -14087.00 =!= -7958.00
[    0,    24] -12032.00 =!= -20328.00
[    0,    25] -10940.00 =!= 7726.00
[    0,    26] 10660.00 =!= 15754.00
[    0,    27] 2681.00 =!= 12613.00
[    0,    28] -9364.00 =!= -21676.00
[    0,    29] 28675.00 =!= 28544.00
[    0,    30] 6628.00 =!= 8864.00
[    0,    31] -20888.00 =!= -11156.00
...and 458716 further errors.
Maximum relative error: 100%

Reference:
  -25600     -2295      5000     -2028    -22412   ...   -13117    -10940     -3730    -14024     21031  
  -25600       777     15240     23060      6260   ...   -10045     15684     24942      8504    -32729  
  -25600      3849     25480    -17388    -30604   ...    -6973    -23228    -11922     31032    -20953  
  -25600      6921    -29816      7700     -1932   ...    -3901      3396     16750    -11976     -9177  
  -25600      9993    -19576    -32748     26740   ...     -829     30020    -20114     10552      2599  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
  -25600    -17655     19336      3604     30836   ...   -28477    -12988    -16018      4408     27687  
  -25600    -14583     29576     28692     -6028   ...   -25405     13636     12654     26936    -26073  
  -25600    -11511    -25720    -11756     22644   ...   -22333    -25276    -24210    -16072    -14297  
  -25600     -8439    -15480     13332    -14220   ...   -19261      1348      4462      6456     -2521  
  -25600     -5367     -5240    -27116     14452   ...   -16189     27972    -32402     28984      9255  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 512 -N 2048 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x512x2048_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x512x2048_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x512x2048_64x64x64_4c.txt ../build/aie_256x512x2048_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x2048_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x2048_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x2048_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x512x2048_64x64x64_4c.xclbin -i build/insts_256x512x2048_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 512 -N 2048 --b_col_maj 0
Final M=256
Final K=512
Final N=2112
Matrix has been padded
[    0,     0] 8768.00 =!= -10240.00
[    0,     1] 28364.00 =!= -19300.00
[    0,     2] -15052.00 =!= -5484.00
[    0,     3] 27779.00 =!= 21834.00
[    0,     4] 7104.00 =!= 14428.00
[    0,     5] -8446.00 =!= -9709.00
[    0,     6] -16046.00 =!= 20986.00
[    0,     7] 9688.00 =!= 16172.00
[    0,     8] -11456.00 =!= -23240.00
[    0,     9] 13410.00 =!= 29208.00
[    0,    10] -13624.00 =!= 4570.00
[    0,    11] -29509.00 =!= 27038.00
[    0,    12] -20596.00 =!= 2440.00
[    0,    13] 14862.00 =!= -20715.00
[    0,    14] 25988.00 =!= -5716.00
[    0,    15] -16053.00 =!= -29679.00
[    0,    16] -5088.00 =!= -16640.00
[    0,    17] -24157.00 =!= 14721.00
[    0,    18] 26070.00 =!= -7496.00
[    0,    19] -9019.00 =!= -6406.00
[    0,    20] -1760.00 =!= -8764.00
[    0,    21] 18833.00 =!= 31955.00
[    0,    22] -22248.00 =!= -180.00
[    0,    23] -32528.00 =!= -3938.00
[    0,    24] -12960.00 =!= -24760.00
[    0,    25] 12210.00 =!= -16473.00
[    0,    26] 9312.00 =!= 23938.00
[    0,    27] -24629.00 =!= 6901.00
[    0,    28] -10224.00 =!= 2036.00
[    0,    29] -29130.00 =!= 11432.00
[    0,    30] 312.00 =!= -22174.00
[    0,    31] -20242.00 =!= -1873.00
...and 524090 further errors.
Maximum relative error: 200%

Reference:
  -10240    -19300     -5484     21834     14428   ...   -27540     -4136     17793    -28482    -18697  
  -10240    -30052     -7532      1866     26716   ...     6252    -14376    -32383    -15170     10999  
  -10240     24732     -9580    -18102    -26532   ...   -25492    -24616    -17023     -1858    -24841  
  -10240     13980    -11628     27466    -14244   ...     8300     30680     -1663     11454      4855  
  -10240      3228    -13676      7498     -1956   ...   -23444     20440     13697     24766    -30985  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
  -10240    -31076      4756     -9398     18524   ...      108    -18472      6529    -29506     29431  
  -10240     23708      2708    -29366     30812   ...   -31636    -28712     21889    -16194     -6409  
  -10240     12956       660     16202    -22436   ...     2156     26584    -28287     -2882     23287  
  -10240      2204     -1388     -3766    -10148   ...   -29588     16344    -12927     10430    -12553  
  -10240     -8548     -3436    -23734      2140   ...     4204      6104      2433     23742     17143  

Output:
    8768     28364    -15052     27779      7104   ...     8677     14740     19409    -27578    -10116  
    8768     -7476      9524     -8573    -17472   ...    29669     14740     -9775     17478      4732  
    8768     22220    -31436     20611     23488   ...   -14875     14740     26577     -3002     19580  
    8768    -13620     -6860    -15741     -1088   ...     6117     14740     -2607    -23482    -31108  
    8768     16076     17716     13443    -25664   ...    27109     14740    -31791     21574    -16260  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2394.00us.
Avg NPU gflops: 224.26

Min NPU matmul time: 2394.00us.
Max NPU gflops: 224.26

Max NPU matmul time: 2394.00us.
Min NPU gflops: 224.26

Error count: 524122


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 512 -N 2304 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x512x2304_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x512x2304_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x512x2304_64x64x64_4c.txt ../build/aie_256x512x2304_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x2304_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x2304_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x2304_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x512x2304_64x64x64_4c.xclbin -i build/insts_256x512x2304_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 512 -N 2304 --b_col_maj 0
Final M=256
Final K=512
Final N=2304
Matrix has been padded

Avg NPU matmul time: 2577us.
Avg NPU gflops: 234.373

Min NPU matmul time: 2577us.
Max NPU gflops: 234.373

Max NPU matmul time: 2577us.
Min NPU gflops: 234.373

PASS!

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 512 -N 2560 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x512x2560_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x512x2560_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x512x2560_64x64x64_4c.txt ../build/aie_256x512x2560_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x2560_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x2560_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x2560_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x512x2560_64x64x64_4c.xclbin -i build/insts_256x512x2560_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 512 -N 2560 --b_col_maj 0
Final M=256
Final K=512
Final N=2688
Matrix has been padded
[    0,     0] -14848.00 =!= 30720.00
[    0,     1] -8840.00 =!= 29110.00
[    0,     2] 28344.00 =!= 7838.00
[    0,     3] 3783.00 =!= -14117.00
[    0,     4] -5748.00 =!= -8396.00
[    0,     5] 14932.00 =!= -30689.00
[    0,     6] 12628.00 =!= 15942.00
[    0,     7] 23012.00 =!= 22368.00
[    0,     8] 15024.00 =!= -6056.00
[    0,     9] -3067.00 =!= -23251.00
[    0,    10] 1750.00 =!= 22498.00
[    0,    11] 30380.00 =!= 25175.00
[    0,    12] -30572.00 =!= 12336.00
[    0,    13] -27123.00 =!= -1859.00
[    0,    14] 8216.00 =!= -8234.00
[    0,    15] -20172.00 =!= -31126.00
[    0,    16] 10592.00 =!= -11088.00
[    0,    17] -13275.00 =!= 12976.00
[    0,    18] 24590.00 =!= 21156.00
[    0,    19] -5829.00 =!= 7758.00
[    0,    20] -12396.00 =!= -17760.00
[    0,    21] 6797.00 =!= -19206.00
[    0,    22] -850.00 =!= -15276.00
[    0,    23] -20985.00 =!= 15949.00
[    0,    24] -6216.00 =!= 29368.00
[    0,    25] 13563.00 =!= -15997.00
[    0,    26] -23930.00 =!= -14744.00
[    0,    27] 9496.00 =!= 7706.00
[    0,    28] -19116.00 =!= -1076.00
[    0,    29] -10823.00 =!= -485.00
[    0,    30] -4790.00 =!= 20536.00
[    0,    31] -20849.00 =!= 22779.00
...and 655316 further errors.
Maximum relative error: 200%

Reference:
   30720     29110      7838    -14117     -8396   ...    16851     -9972     22262    -10892      2885  
   30720     -4682      9886    -19749      1844   ...    -7725     26892     24310      1396     13637  
   30720     27062     11934    -25381     12084   ...   -32301     -1780     26358     13684     24389  
   30720     -6730     13982    -31013     22324   ...     8659    -30452     28406     25972    -30395  
   30720     25014     16030     28891     32564   ...   -15917      6412     30454    -27276    -19643  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   30720      1462     -2402     14043      5940   ...     8659      2316     12022     -6796     14661  
   30720    -32330      -354      8411     16180   ...   -15917    -26356     14070      5492     25413  
   30720      -586      1694      2779     26420   ...    25043     10508     16118     17780    -29371  
   30720     31158      3742     -2853    -28876   ...      467    -18164     18166     30068    -18619  
   30720     -2634      5790     -8485    -18636   ...   -24109     18700     20214    -23180     -7867  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 512 -N 2816 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x512x2816_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x512x2816_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x512x2816_64x64x64_4c.txt ../build/aie_256x512x2816_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x2816_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x2816_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x2816_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x512x2816_64x64x64_4c.xclbin -i build/insts_256x512x2816_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 512 -N 2816 --b_col_maj 0
Final M=256
Final K=512
Final N=2880
Matrix has been padded
[    0,     0] -28544.00 =!= 18176.00
[    0,     1] 23211.00 =!= 11955.00
[    0,     2] -2812.00 =!= -22292.00
[    0,     3] -31320.00 =!= 30566.00
[    0,     4] -28872.00 =!= 8660.00
[    0,     5] -17356.00 =!= 2030.00
[    0,     6] -3266.00 =!= -17018.00
[    0,     7] -5778.00 =!= 19145.00
[    0,     8] -18544.00 =!= -12224.00
[    0,     9] 5079.00 =!= -24061.00
[    0,    10] 10796.00 =!= 24870.00
[    0,    11] 13385.00 =!= -25399.00
[    0,    12] 25908.00 =!= -18676.00
[    0,    13] 1613.00 =!= -1372.00
[    0,    14] 4210.00 =!= 31702.00
[    0,    15] -9945.00 =!= -23089.00
[    0,    16] -19024.00 =!= 9184.00
[    0,    17] -15880.00 =!= -21483.00
[    0,    18] 3352.00 =!= 20262.00
[    0,    19] -7657.00 =!= -10229.00
[    0,    20] 23952.00 =!= 18064.00
[    0,    21] 22855.00 =!= -11923.00
[    0,    22] -7202.00 =!= -17904.00
[    0,    23] -4425.00 =!= -22073.00
[    0,    24] -22184.00 =!= 15280.00
[    0,    25] 32465.00 =!= -21199.00
[    0,    26] -7466.00 =!= -25380.00
[    0,    27] 24779.00 =!= 20482.00
[    0,    28] -21464.00 =!= 31008.00
[    0,    29] -19683.00 =!= -6468.00
[    0,    30] -6392.00 =!= 3770.00
[    0,    31] 13541.00 =!= 18596.00
...and 720860 further errors.
Maximum relative error: 200%

Reference:
   18176     11955    -22292     30566      8660   ...    11299     16884     18766    -26520     19493  
   18176    -16717     29932    -14490     14804   ...    -4061     27124     25422    -11160     23589  
   18176     20147     16620      5990     20948   ...   -19421    -28172     32078      4200     27685  
   18176     -8525      3308     26470     27092   ...    30755    -17932    -26802     19560     31781  
   18176     28339    -10004    -18586    -32300   ...    15395     -7692    -20146    -30616    -29659  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   18176     24243    -21268     -6298    -22060   ...    22563     31220    -14514     27752      -987  
   18176     -4429     30956     14182    -15916   ...     7203    -24076     -7858    -22424      3109  
   18176     32435     17644    -30874     -9772   ...    -8157    -13836     -1202     -7064      7205  
   18176      3763      4332    -10394     -3628   ...   -23517     -3596      5454      8296     11301  
   18176    -24909     -8980     10086      2516   ...    26659      6644     12110     23656     15397  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 512 -N 3072 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x512x3072_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x512x3072_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x512x3072_64x64x64_4c.txt ../build/aie_256x512x3072_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x3072_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x3072_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x3072_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x512x3072_64x64x64_4c.xclbin -i build/insts_256x512x3072_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 512 -N 3072 --b_col_maj 0
Final M=256
Final K=512
Final N=3072
Matrix has been padded

Avg NPU matmul time: 2682us.
Avg NPU gflops: 300.263

Min NPU matmul time: 2682us.
Max NPU gflops: 300.263

Max NPU matmul time: 2682us.
Min NPU gflops: 300.263

PASS!

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 512 -N 3328 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x512x3328_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x512x3328_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x512x3328_64x64x64_4c.txt ../build/aie_256x512x3328_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x3328_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x3328_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x3328_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x512x3328_64x64x64_4c.xclbin -i build/insts_256x512x3328_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 512 -N 3328 --b_col_maj 0
Final M=256
Final K=512
Final N=3456
Matrix has been padded
[    0,     1] -2274.00 =!= -10007.00
[    0,     2] 16186.00 =!= 31506.00
[    0,     3] -27762.00 =!= 16935.00
[    0,     4] 3388.00 =!= -25976.00
[    0,     5] 23152.00 =!= -26394.00
[    0,     6] -6396.00 =!= 8022.00
[    0,     7] -11199.00 =!= -22564.00
[    0,     8] 28416.00 =!= 2464.00
[    0,     9] -14400.00 =!= 10549.00
[    0,    10] -9910.00 =!= -9802.00
[    0,    11] -6842.00 =!= -4870.00
[    0,    12] -9564.00 =!= -29836.00
[    0,    13] 7967.00 =!= 17067.00
[    0,    14] -8394.00 =!= -23732.00
[    0,    15] 1299.00 =!= 19081.00
[    0,    16] 26512.00 =!= 21248.00
[    0,    17] -651.00 =!= -9805.00
[    0,    18] 12970.00 =!= 19764.00
[    0,    19] -10725.00 =!= -31085.00
[    0,    20] 11012.00 =!= -22956.00
[    0,    21] 2378.00 =!= 26847.00
[    0,    22] 31384.00 =!= 23296.00
[    0,    23] -12920.00 =!= 5248.00
[    0,    24] -24712.00 =!= -12512.00
[    0,    25] 11936.00 =!= 13942.00
[    0,    26] 25826.00 =!= -24870.00
[    0,    27] -14413.00 =!= 1660.00
[    0,    28] -24752.00 =!= -1996.00
[    0,    29] -2396.00 =!= -31733.00
[    0,    30] 21114.00 =!= 29472.00
[    0,    31] 22144.00 =!= -10479.00
[    0,    32] -5440.00 =!= 2784.00
...and 851680 further errors.
Maximum relative error: 200%

Reference:
   -4864    -10007     31506     16935    -25976   ...    22529     25052     10320     -9998    -13944  
   -4864    -25367     16146    -10201     -9592   ...     8193      4572     23632    -19214      7048  
   -4864     24809       786     28199      6792   ...    -6143    -15908    -28592    -28430     28040  
   -4864      9449    -14574      1063     23176   ...   -20479     29148    -15280     27890    -16504  
   -4864     -5911    -29934    -26073    -25976   ...    30721      8668     -1968     18674      4488  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   -4864      1257    -22766     21543     23176   ...    28673     -3620      9296    -29454     12168  
   -4864    -14103     27410     -5593    -25976   ...    14337    -24100     22608     26866    -32376  
   -4864    -29463     12050    -32729     -9592   ...        1     20956    -29616     17650    -11384  
   -4864     20713     -3310      5671      6792   ...   -14335       476    -16304      8434      9608  
   -4864      5353    -18670    -21465     23176   ...   -28671    -20004     -2992      -782     30600  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 512 -N 3584 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x512x3584_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x512x3584_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x512x3584_64x64x64_4c.txt ../build/aie_256x512x3584_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x3584_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x3584_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x3584_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x512x3584_64x64x64_4c.xclbin -i build/insts_256x512x3584_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 512 -N 3584 --b_col_maj 0
Final M=256
Final K=512
Final N=3648
Matrix has been padded
[    0,     0] 12224.00 =!= -10752.00
[    0,     1] 14147.00 =!= -27788.00
[    0,     2] -8468.00 =!= 4300.00
[    0,     3] 23434.00 =!= 32281.00
[    0,     4] 21556.00 =!= -29316.00
[    0,     5] 23197.00 =!= -20713.00
[    0,     6] 10602.00 =!= -664.00
[    0,     7] 19084.00 =!= -4114.00
[    0,     8] 18960.00 =!= -12832.00
[    0,     9] 17945.00 =!= 23429.00
[    0,    10] 11228.00 =!= -23964.00
[    0,    11] 10243.00 =!= 15388.00
[    0,    12] -1092.00 =!= 23652.00
[    0,    13] -31603.00 =!= -23529.00
[    0,    14] 5912.00 =!= 31490.00
[    0,    15] -10129.00 =!= 8545.00
[    0,    16] 24032.00 =!= 28976.00
[    0,    17] -12701.00 =!= 6970.00
[    0,    18] 21152.00 =!= 18184.00
[    0,    19] -26457.00 =!= 23553.00
[    0,    20] 32400.00 =!= 9616.00
[    0,    21] -18787.00 =!= 183.00
[    0,    22] 11138.00 =!= 8822.00
[    0,    23] 6368.00 =!= -6632.00
[    0,    24] -8408.00 =!= -15880.00
[    0,    25] 28679.00 =!= 29295.00
[    0,    26] -31360.00 =!= -31722.00
[    0,    27] 30471.00 =!= -23266.00
[    0,    28] 26484.00 =!= 19064.00
[    0,    29] -24510.00 =!= 26163.00
[    0,    30] 23882.00 =!= 19548.00
[    0,    31] 26499.00 =!= 24961.00
...and 917440 further errors.
Maximum relative error: 200%

Reference:
  -10752    -27788      4300     32281    -29316   ...   -18987    -30116     11745    -20838     10383  
  -10752     26996     17612    -17895      1404   ...   -25131      8796     22497     31386     16015  
  -10752     16244     30924     -2535     32124   ...   -31275    -17828    -32287     18074     21647  
  -10752      5492    -21300     12825     -2692   ...    28117     21084    -21535      4762     27279  
  -10752     -5260     -7988     28185     28028   ...    21973     -5540    -10783     -8550    -32625  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
  -10752     25972      3276     21017     13692   ...    11733    -28068     23521    -19814    -17777  
  -10752     15220     16588    -29159    -21124   ...     5589     10844    -31263     32410    -12145  
  -10752      4468     29900    -13799      9596   ...     -555    -15780    -20511     19098     -6513  
  -10752     -6284    -22324      1561    -25220   ...    -6699     23132     -9759      5786      -881  
  -10752    -17036     -9012     16921      5500   ...   -12843     -3492       993     -7526      4751  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 512 -N 3840 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x512x3840_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x512x3840_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x512x3840_64x64x64_4c.txt ../build/aie_256x512x3840_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x3840_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x3840_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x3840_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x512x3840_64x64x64_4c.xclbin -i build/insts_256x512x3840_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 512 -N 3840 --b_col_maj 0
Final M=256
Final K=512
Final N=3840
Matrix has been padded

Avg NPU matmul time: 2881us.
Avg NPU gflops: 349.404

Min NPU matmul time: 2881us.
Max NPU gflops: 349.404

Max NPU matmul time: 2881us.
Min NPU gflops: 349.404

PASS!

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 512 -N 4096 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x512x4096_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x512x4096_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x512x4096_64x64x64_4c.txt ../build/aie_256x512x4096_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x4096_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x4096_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x512x4096_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x512x4096_64x64x64_4c.xclbin -i build/insts_256x512x4096_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 512 -N 4096 --b_col_maj 0
Final M=256
Final K=512
Final N=4224
Matrix has been padded
[    0,     0] -6784.00 =!= -24576.00
[    0,     1] -27435.00 =!= 17171.00
[    0,     2] 4636.00 =!= 4396.00
[    0,     3] 21860.00 =!= -25723.00
[    0,     4] -23140.00 =!= 15808.00
[    0,     5] 3147.00 =!= 8837.00
[    0,     6] -2454.00 =!= -1968.00
[    0,     7] -30980.00 =!= -11406.00
[    0,     8] -9032.00 =!= -3504.00
[    0,     9] -6554.00 =!= -10180.00
[    0,    10] 32746.00 =!= -13584.00
[    0,    11] -12995.00 =!= -12147.00
[    0,    12] -12544.00 =!= -21360.00
[    0,    13] 25530.00 =!= 11259.00
[    0,    14] 586.00 =!= -27948.00
[    0,    15] 16977.00 =!= -4568.00
[    0,    16] -9744.00 =!= 6720.00
[    0,    17] -9695.00 =!= -21816.00
[    0,    18] 16634.00 =!= -17372.00
[    0,    19] 21153.00 =!= 15692.00
[    0,    20] 16364.00 =!= 10852.00
[    0,    21] -27159.00 =!= -26827.00
[    0,    22] 22726.00 =!= 15174.00
[    0,    23] -26094.00 =!= 23543.00
[    0,    24] 26328.00 =!= 27080.00
[    0,    25] -28520.00 =!= -12590.00
[    0,    26] 22002.00 =!= -23198.00
[    0,    27] -6440.00 =!= -31367.00
[    0,    28] 7712.00 =!= 21020.00
[    0,    29] -6100.00 =!= -8640.00
[    0,    30] 4628.00 =!= -5268.00
[    0,    31] 4658.00 =!= -17673.00
...and 1048528 further errors.
Maximum relative error: 200%

Reference:
  -24576     17171      4396    -25723     15808   ...   -30546      6112    -23985    -15270     15277  
  -24576      1811    -26324      8069     -4672   ...    31406     28640      6223     10330    -13395  
  -24576    -13549      8492    -23675    -25152   ...    27822    -14368    -29105    -29606     23469  
  -24576    -28909    -22228     10117     19904   ...    24238      8160      1103     -4006     -5203  
  -24576     21267     12588    -21627      -576   ...    20654     30688     31311     21594     31661  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
  -24576     28435     26924      1925    -12864   ...   -12626     24544     21583    -12198     27565  
  -24576     13075     -3796    -29819     32192   ...   -16210    -18464    -13745     13402     -1107  
  -24576     -2285     31020      3973     11712   ...   -19794      4064     16463    -26534    -29779  
  -24576    -17645       300    -27771     -8768   ...   -23378     26592    -18865      -934      7085  
  -24576     32531    -30420      6021    -29248   ...   -26962    -16416     11343     24666    -21587  

Output:
   -6784    -27435      4636     21860    -23140   ...     2336     15364    -20275    -14746    -25328  
   -6784    -31019    -10724      5988     -8804   ...   -27872     -9212    -22323     13926     16144  
   -6784     30933    -26084     -9884      5532   ...     7456     31748    -24371    -22938     -7920  
   -6784     27349     24092    -25756     19868   ...   -22752      7172    -26419      5734    -31984  
   -6784     23765      8732     23908    -31332   ...    12576    -17404    -28467    -31130      9488  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2896.00us.
Avg NPU gflops: 370.77

Min NPU matmul time: 2896.00us.
Max NPU gflops: 370.77

Max NPU matmul time: 2896.00us.
Min NPU gflops: 370.77

Error count: 1048560


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 768 -N 256 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x768x256_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x768x256_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x768x256_64x64x64_4c.txt ../build/aie_256x768x256_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x256_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x256_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x256_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x768x256_64x64x64_4c.xclbin -i build/insts_256x768x256_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 768 -N 256 --b_col_maj 0
Final M=256
Final K=768
Final N=384
Matrix has been padded
[    0,     0] 18944.00 =!= 4864.00
[    0,     1] 18258.00 =!= -5887.00
[    0,     2] -21002.00 =!= 3482.00
[    0,     3] -22754.00 =!= 5667.00
[    0,     4] 12508.00 =!= 28356.00
[    0,     5] -23738.00 =!= -16590.00
[    0,     6] -19800.00 =!= -22842.00
[    0,     7] -25012.00 =!= -15346.00
[    0,     8] -30808.00 =!= 10992.00
[    0,     9] -22431.00 =!= -360.00
[    0,    10] -6570.00 =!= 2990.00
[    0,    11] 25522.00 =!= 26408.00
[    0,    12] 27808.00 =!= -11136.00
[    0,    13] -13057.00 =!= -10182.00
[    0,    14] -12272.00 =!= 13596.00
[    0,    15] -23863.00 =!= -15054.00
[    0,    16] -2768.00 =!= 26560.00
[    0,    17] -15056.00 =!= -2184.00
[    0,    18] -18244.00 =!= -10840.00
[    0,    19] -16057.00 =!= -21159.00
[    0,    20] -19604.00 =!= -24044.00
[    0,    21] 24874.00 =!= 29048.00
[    0,    22] -22342.00 =!= 32062.00
[    0,    23] -21806.00 =!= 2231.00
[    0,    24] -31344.00 =!= 20088.00
[    0,    25] 31825.00 =!= 21097.00
[    0,    26] -5080.00 =!= 6262.00
[    0,    27] -29892.00 =!= -15478.00
[    0,    28] -564.00 =!= -3868.00
[    0,    29] 26049.00 =!= -2489.00
[    0,    30] -17912.00 =!= -6728.00
[    0,    31] -25957.00 =!= 26327.00
...and 65504 further errors.
Maximum relative error: 200%

Reference:
    4864     -5887      3482      5667     28356   ...    19884    -23544     22186     -7840    -18109  
    4864     29697     31642     10275     30404   ...    31916    -19448     -9302     17760    -10429  
    4864      -255     -5734     14883     32452   ...   -21588    -15352     24746    -22176     -2749  
    4864    -30207     22426     19491    -31036   ...    -9556    -11256     -6742      3424      4931  
    4864      5377    -14950     24099    -28988   ...     2476     -7160     27306     29024     12611  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
    4864     12801     -6246    -17373     18116   ...    25260     21512    -16982     -4768      9027  
    4864    -17151     21914    -12765     20164   ...   -28244     25608     17066     20832     16707  
    4864     18433    -15462     -8157     22212   ...   -16212     29704    -14422    -19104     24387  
    4864    -11519     12698     -3549     24260   ...    -4180    -31736     19626      6496     32067  
    4864     24065    -24678      1059     26308   ...     7852    -27640    -11862     32096    -25789  

Output:
   18944     18258    -21002    -22754     12508   ...   -14278     30204    -28348      1336     -6700  
   18944      6994     26614     28702      4316   ...   -10182    -25092     26436     31544    -11052  
   18944     -4270      8694     14622     -3876   ...    -6086    -14852     15684     -3784    -15404  
   18944    -15534     -9226       542    -12068   ...    -1990     -4612      4932     26424    -19756  
   18944    -26798    -27146    -13538    -20260   ...     2106      5628     -5820     -8904    -24108  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2144.00us.
Avg NPU gflops: 46.95

Min NPU matmul time: 2144.00us.
Max NPU gflops: 46.95

Max NPU matmul time: 2144.00us.
Min NPU gflops: 46.95

Error count: 65536


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 768 -N 512 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x768x512_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x768x512_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x768x512_64x64x64_4c.txt ../build/aie_256x768x512_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x512_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x512_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x512_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x768x512_64x64x64_4c.xclbin -i build/insts_256x768x512_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 768 -N 512 --b_col_maj 0
Final M=256
Final K=768
Final N=576
Matrix has been padded
[    0,     0] -7936.00 =!= -16384.00
[    0,     1] -15773.00 =!= -24494.00
[    0,     2] 2026.00 =!= 32236.00
[    0,     3] -6078.00 =!= 18045.00
[    0,     4] -8312.00 =!= 31340.00
[    0,     5] 28019.00 =!= -26730.00
[    0,     6] -1054.00 =!= -30156.00
[    0,     7] -11740.00 =!= -28415.00
[    0,     8] 14240.00 =!= 12480.00
[    0,     9] 8363.00 =!= -20883.00
[    0,    10] 9032.00 =!= -8440.00
[    0,    11] 18256.00 =!= 12510.00
[    0,    12] 11668.00 =!= 28052.00
[    0,    13] -18138.00 =!= 20316.00
[    0,    14] 16298.00 =!= 24970.00
[    0,    15] -29294.00 =!= 4270.00
[    0,    16] 25472.00 =!= 10288.00
[    0,    17] 10711.00 =!= 14751.00
[    0,    18] 9280.00 =!= 31806.00
[    0,    19] -28805.00 =!= 6342.00
[    0,    20] -5156.00 =!= -3560.00
[    0,    21] 27086.00 =!= -12445.00
[    0,    22] 31746.00 =!= -27102.00
[    0,    23] -10161.00 =!= -14231.00
[    0,    24] -31024.00 =!= -17936.00
[    0,    25] -20845.00 =!= -1356.00
[    0,    26] 22414.00 =!= 11996.00
[    0,    27] -13664.00 =!= 10638.00
[    0,    28] 928.00 =!= -1984.00
[    0,    29] -30040.00 =!= 15526.00
[    0,    30] 9632.00 =!= -19844.00
[    0,    31] -21071.00 =!= 23998.00
...and 131020 further errors.
Maximum relative error: 200%

Reference:
  -16384    -24494     32236     18045     31340   ...     7374      1188      4570    -19226     18046  
  -16384     20050     20972       381     29292   ...    -3890      8356      3802      2278    -27522  
  -16384      -942      9708    -17283     27244   ...   -15154     15524      3034     23782     -7554  
  -16384    -21934     -1556     30589     25196   ...   -26418     22692      2266    -20250     12414  
  -16384     22610    -12820     12925     23148   ...    27854     29860      1498      1254     32382  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
  -16384     14930     23020    -24707    -23956   ...    -1842     30884      8410      4326    -16258  
  -16384     -6062     11756     23165    -26004   ...   -13106    -27484      7642     25830      3710  
  -16384    -27054       492      5501    -28052   ...   -24370    -20316      6874    -18202     23678  
  -16384     17490    -10772    -12163    -30100   ...    29902    -13148      6106      3302    -21890  
  -16384     -3502    -22036    -29827    -32148   ...    18638     -5980      5338     24806     -1922  

Output:
   -7936    -15773      2026     -6078     -8312   ...    13582     22864      -382     -9130     21835  
   24832     20323     32234      2370    -26744   ...    -5874     23888      4738     31830    -11189  
   -7936     -9117     -3094     10818     20360   ...   -25330     24912      9858      7254     21323  
   24832     26979     27114     19266      1928   ...    20750     25936     14978    -17322    -11701  
   -7936     -2461     -8214     27714    -16504   ...     1294     26960     20098     23638     20811  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2857.00us.
Avg NPU gflops: 70.47

Min NPU matmul time: 2857.00us.
Max NPU gflops: 70.47

Max NPU matmul time: 2857.00us.
Min NPU gflops: 70.47

Error count: 131052


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 768 -N 768 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x768x768_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x768x768_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x768x768_64x64x64_4c.txt ../build/aie_256x768x768_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x768_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x768_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x768_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x768x768_64x64x64_4c.xclbin -i build/insts_256x768x768_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 768 -N 768 --b_col_maj 0
Final M=256
Final K=768
Final N=768
Matrix has been padded

Avg NPU matmul time: 2242us.
Avg NPU gflops: 134.697

Min NPU matmul time: 2242us.
Max NPU gflops: 134.697

Max NPU matmul time: 2242us.
Min NPU gflops: 134.697

PASS!

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 768 -N 1024 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x768x1024_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x768x1024_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x768x1024_64x64x64_4c.txt ../build/aie_256x768x1024_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x1024_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x1024_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x1024_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x768x1024_64x64x64_4c.xclbin -i build/insts_256x768x1024_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 768 -N 1024 --b_col_maj 0
Final M=256
Final K=768
Final N=1152
Matrix has been padded
[    0,     0] -29056.00 =!= -28672.00
[    0,     1] 615.00 =!= 16245.00
[    0,     2] -5194.00 =!= 6486.00
[    0,     3] 11559.00 =!= 6387.00
[    0,     4] -9944.00 =!= -18128.00
[    0,     5] 32479.00 =!= 32282.00
[    0,     6] 18598.00 =!= -25262.00
[    0,     7] -26898.00 =!= -20267.00
[    0,     8] -32080.00 =!= 18736.00
[    0,     9] 5712.00 =!= -10092.00
[    0,    10] 19466.00 =!= 8656.00
[    0,    11] -28044.00 =!= 2111.00
[    0,    12] -16512.00 =!= -348.00
[    0,    13] 17591.00 =!= 566.00
[    0,    14] -29360.00 =!= 15954.00
[    0,    15] 13478.00 =!= 10500.00
[    0,    16] -19728.00 =!= 18528.00
[    0,    17] 3826.00 =!= 4101.00
[    0,    18] 8970.00 =!= -21740.00
[    0,    19] 29392.00 =!= -21899.00
[    0,    20] -10700.00 =!= 8484.00
[    0,    21] 150.00 =!= -30187.00
[    0,    22] -1882.00 =!= -31394.00
[    0,    23] -21487.00 =!= 13535.00
[    0,    24] -21664.00 =!= 29256.00
[    0,    25] 26981.00 =!= 12370.00
[    0,    26] -17922.00 =!= 6812.00
[    0,    27] -10898.00 =!= 29076.00
[    0,    28] -424.00 =!= 19368.00
[    0,    29] 1115.00 =!= -16594.00
[    0,    30] -31670.00 =!= 12144.00
[    0,    31] 29309.00 =!= -4513.00
...and 262099 further errors.
Maximum relative error: 200%

Reference:
  -28672     16245      6486      6387    -18128   ...    20466     -6996     -4842    -11172    -25178  
  -28672     10613      8022    -16397      6448   ...   -23054      9388     12054     31324    -19802  
  -28672      4981      9558     26355     31024   ...    -1038     25772     28950      8284    -14426  
  -28672      -651     11094      3571     -9936   ...    20978    -23380    -19690    -14756     -9050  
  -28672     -6283     12630    -19213     14640   ...   -22542     -6996     -2794     27740     -3674  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
  -28672    -21131     -1194    -10765     -9936   ...   -24078    -23380    -23786    -27044     13478  
  -28672    -26763       342     31987     14640   ...    -2062     -6996     -6890     15452     18854  
  -28672    -32395      1878      9203    -26320   ...    19954      9388     10006     -7588     24230  
  -28672     27509      3414    -13581     -1744   ...   -23566     25772     26902    -30628     29606  
  -28672     21877      4950     29171     22832   ...    -1550    -23380    -21738     11868    -30554  

Output:
  -29056       615     -5194     11559     -9944   ...    27614      3932     19491    -22054    -10070  
  -29056     24423    -22602      6439     21800   ...     6366    -29860    -27869     23514    -21846  
  -29056    -17305     25526      1319    -11992   ...   -14882      1884     -9693      3546     31914  
  -29056      6503      8118     -3801     19752   ...    29406    -31908      8483    -16422     20138  
  -29056     30311     -9290     -8921    -14040   ...     8158      -164     26659     29146      8362  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2285.00us.
Avg NPU gflops: 176.22

Min NPU matmul time: 2285.00us.
Max NPU gflops: 176.22

Max NPU matmul time: 2285.00us.
Min NPU gflops: 176.22

Error count: 262131


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 768 -N 1280 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x768x1280_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x768x1280_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x768x1280_64x64x64_4c.txt ../build/aie_256x768x1280_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x1280_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x1280_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x1280_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x768x1280_64x64x64_4c.xclbin -i build/insts_256x768x1280_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 768 -N 1280 --b_col_maj 0
Final M=256
Final K=768
Final N=1344
Matrix has been padded
[    0,     0] 21376.00 =!= 29440.00
[    0,     1] -32270.00 =!= 23046.00
[    0,     2] -11186.00 =!= 22190.00
[    0,     3] 17483.00 =!= 11625.00
[    0,     4] -21332.00 =!= -25340.00
[    0,     5] 31548.00 =!= -2504.00
[    0,     6] -12096.00 =!= 23456.00
[    0,     7] 15155.00 =!= 19377.00
[    0,     8] -21760.00 =!= -28520.00
[    0,     9] 29292.00 =!= -8111.00
[    0,    10] -15718.00 =!= 32280.00
[    0,    11] 22779.00 =!= 10455.00
[    0,    12] 32760.00 =!= -21456.00
[    0,    13] -11071.00 =!= -30431.00
[    0,    14] -27902.00 =!= 6928.00
[    0,    15] 11809.00 =!= 12189.00
[    0,    16] -21168.00 =!= -11376.00
[    0,    17] 12542.00 =!= -12729.00
[    0,    18] 6238.00 =!= 11498.00
[    0,    19] -29670.00 =!= -21095.00
[    0,    20] -2328.00 =!= 13952.00
[    0,    21] 23568.00 =!= 11448.00
[    0,    22] 12922.00 =!= -3080.00
[    0,    23] -21157.00 =!= -25501.00
[    0,    24] 1752.00 =!= 1248.00
[    0,    25] 31102.00 =!= 29846.00
[    0,    26] -4972.00 =!= -13036.00
[    0,    27] 26920.00 =!= -16681.00
[    0,    28] -10896.00 =!= 3980.00
[    0,    29] -23949.00 =!= 10895.00
[    0,    30] 19386.00 =!= 20038.00
[    0,    31] 15557.00 =!= 10620.00
...and 327567 further errors.
Maximum relative error: 200%

Reference:
   29440     23046     22190     11625    -25340   ...    25405      4456    -20530     30638    -19225  
   29440     19206     26286     23913    -26364   ...   -26307    -12952     30414      6574    -17433  
   29440     15366     30382    -29335    -27388   ...   -12483    -30360     15822    -17490    -15641  
   29440     11526    -31058    -17047    -28412   ...     1341     17768      1230     23982    -13849  
   29440      7686    -26962     -4759    -29436   ...    15165       360    -13362       -82    -12057  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   29440    -23290      1710     15721    -20220   ...    21821     25960    -13106     19886    -28185  
   29440    -27130      5806     28009    -21244   ...   -29891      8552    -27698     -4178    -26393  
   29440    -30970      9902    -25239    -22268   ...   -16067     -8856     23246    -28242    -24601  
   29440     30726     13998    -12951    -23292   ...    -2243    -26264      8654     13230    -22809  
   29440     26886     18094      -663    -24316   ...    11581     21864     -5938    -10834    -21017  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 768 -N 1536 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x768x1536_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x768x1536_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x768x1536_64x64x64_4c.txt ../build/aie_256x768x1536_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x1536_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x1536_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x1536_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x768x1536_64x64x64_4c.xclbin -i build/insts_256x768x1536_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 768 -N 1536 --b_col_maj 0
Final M=256
Final K=768
Final N=1536
Matrix has been padded

Avg NPU matmul time: 2435us.
Avg NPU gflops: 248.041

Min NPU matmul time: 2435us.
Max NPU gflops: 248.041

Max NPU matmul time: 2435us.
Min NPU gflops: 248.041

PASS!

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 768 -N 1792 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x768x1792_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x768x1792_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x768x1792_64x64x64_4c.txt ../build/aie_256x768x1792_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x1792_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x1792_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x1792_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x768x1792_64x64x64_4c.xclbin -i build/insts_256x768x1792_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 768 -N 1792 --b_col_maj 0
Final M=256
Final K=768
Final N=1920
Matrix has been padded
[    0,     0] 13440.00 =!= -20480.00
[    0,     1] 5807.00 =!= 30690.00
[    0,     2] -26426.00 =!= 2542.00
[    0,     3] 29413.00 =!= 28058.00
[    0,     4] -4400.00 =!= 8088.00
[    0,     5] -743.00 =!= 11227.00
[    0,     6] 21678.00 =!= 6586.00
[    0,     7] -22125.00 =!= -17002.00
[    0,     8] 3032.00 =!= -9864.00
[    0,     9] 15188.00 =!= 27197.00
[    0,    10] 19952.00 =!= -13526.00
[    0,    11] -12517.00 =!= -14571.00
[    0,    12] -18868.00 =!= 26920.00
[    0,    13] 17726.00 =!= 27062.00
[    0,    14] 14164.00 =!= -27022.00
[    0,    15] -29277.00 =!= 11746.00
[    0,    16] 7200.00 =!= -8656.00
[    0,    17] -6583.00 =!= 13967.00
[    0,    18] -30430.00 =!= 23154.00
[    0,    19] 18399.00 =!= 20352.00
[    0,    20] 21088.00 =!= 8560.00
[    0,    21] -7953.00 =!= -4031.00
[    0,    22] 3098.00 =!= -17898.00
[    0,    23] 2096.00 =!= -11395.00
[    0,    24] 11624.00 =!= -19224.00
[    0,    25] 27490.00 =!= 29777.00
[    0,    26] -878.00 =!= -7966.00
[    0,    27] -18305.00 =!= 21786.00
[    0,    28] 4264.00 =!= -11128.00
[    0,    29] -28861.00 =!= 28810.00
[    0,    30] 2258.00 =!= 14778.00
[    0,    31] 6938.00 =!= -17182.00
...and 458697 further errors.
Maximum relative error: 200%

Reference:
  -20480     30690      2542     28058      8088   ...    24922    -15848    -12860    -28826     29694  
  -20480    -24350     14318    -18278     -3176   ...    16218     11800    -28732     11110    -17666  
  -20480    -13854     26094       922    -14440   ...     7514    -26088     20932    -14490       510  
  -20480     -3358    -27666     20122    -25704   ...    -1190      1560      5060     25446     18686  
  -20480      7138    -15890    -26214     28568   ...    -9894     29208    -10812      -154    -28674  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
  -20480    -21790      9198     -2406     -1128   ...     2906    -23016       964    -31898      4350  
  -20480    -11294     20974     16794    -12392   ...    -5798      4632    -14908      8038     22526  
  -20480      -798     32750    -29542    -23656   ...   -14502     32280    -30780    -17562    -24834  
  -20480      9698    -21010    -10342     30616   ...   -23206     -5608     18884     22374     -6658  
  -20480     20194     -9234      8858     19352   ...   -31910     22040      3012     -3226     11518  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 768 -N 2048 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x768x2048_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x768x2048_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x768x2048_64x64x64_4c.txt ../build/aie_256x768x2048_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x2048_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x2048_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x2048_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x768x2048_64x64x64_4c.xclbin -i build/insts_256x768x2048_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 768 -N 2048 --b_col_maj 0
Final M=256
Final K=768
Final N=2112
Matrix has been padded
[    0,     0] -28224.00 =!= -8192.00
[    0,     1] 19723.00 =!= 6125.00
[    0,     2] 6952.00 =!= -22964.00
[    0,     3] -9670.00 =!= -19727.00
[    0,     4] -24576.00 =!= 13576.00
[    0,     5] -21708.00 =!= -18340.00
[    0,     6] -27570.00 =!= 8398.00
[    0,     7] -26355.00 =!= 3746.00
[    0,     8] 4736.00 =!= 20064.00
[    0,     9] -17113.00 =!= -12205.00
[    0,    10] 8994.00 =!= 3482.00
[    0,    11] 10261.00 =!= 30843.00
[    0,    12] 17928.00 =!= 15128.00
[    0,    13] -9981.00 =!= 28530.00
[    0,    14] 13558.00 =!= -9626.00
[    0,    15] 1683.00 =!= -16046.00
[    0,    16] 2944.00 =!= -27184.00
[    0,    17] -7294.00 =!= -26559.00
[    0,    18] -29678.00 =!= -1416.00
[    0,    19] 21158.00 =!= -23533.00
[    0,    20] 28464.00 =!= 31252.00
[    0,    21] -16774.00 =!= 27945.00
[    0,    22] -25432.00 =!= 6482.00
[    0,    23] 12692.00 =!= 6846.00
[    0,    24] 29736.00 =!= -9696.00
[    0,    25] 6050.00 =!= 24229.00
[    0,    26] 20790.00 =!= 9474.00
[    0,    27] -27415.00 =!= 22694.00
[    0,    28] 23204.00 =!= 13036.00
[    0,    29] 28533.00 =!= 17627.00
[    0,    30] -1344.00 =!= 25122.00
[    0,    31] -23122.00 =!= -25341.00
...and 524252 further errors.
Maximum relative error: 200%

Reference:
   -8192      6125    -22964    -19727     13576   ...     5393     32532     10743     12798     16458  
   -8192      7405     18508      1009    -31480   ...   -26863    -15596    -30729    -31746     14922  
   -8192      8685     -5556     21745    -11000   ...     6417      1812     -6665    -10754     13386  
   -8192      9965    -29620    -23055      9480   ...   -25839     19220     17399     10238     11850  
   -8192     11245     11852     -2319     29960   ...     7441    -28908    -24073     31230     10314  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   -8192      -275     31820      7665    -23288   ...   -29935     11028     21495    -26626     24138  
   -8192      1005      7756     28401     -2808   ...     3345     28436    -19977     -5634     22602  
   -8192      2285    -16308    -16399     17672   ...   -28911    -19692      4087     15358     21066  
   -8192      3565     25164      4337    -27384   ...     4369     -2284     28151    -29186     19530  
   -8192      4845      1100     25073     -6904   ...   -27887     15124    -13321     -8194     17994  

Output:
  -28224     19723      6952     -9670    -24576   ...     1311     10956    -28737     28302     -8433  
  -11840     -3829    -30936     13370      2048   ...   -18913      3788     13503      1678     13583  
    4544    -27381     -3288    -29126     28672   ...    26399     -3380     -9793    -24946    -29937  
   20928     14603     24360     -6086    -10240   ...     6175    -10548     32447     13966     -7921  
  -28224     -8949    -13528     16954     16384   ...   -14049    -17716      9151    -12658     14095  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2699.00us.
Avg NPU gflops: 298.37

Min NPU matmul time: 2699.00us.
Max NPU gflops: 298.37

Max NPU matmul time: 2699.00us.
Min NPU gflops: 298.37

Error count: 524284


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 768 -N 2304 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x768x2304_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x768x2304_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x768x2304_64x64x64_4c.txt ../build/aie_256x768x2304_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x2304_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x2304_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x2304_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.3s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x768x2304_64x64x64_4c.xclbin -i build/insts_256x768x2304_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 768 -N 2304 --b_col_maj 0
Final M=256
Final K=768
Final N=2304
Matrix has been padded

Avg NPU matmul time: 2823us.
Avg NPU gflops: 320.924

Min NPU matmul time: 2823us.
Max NPU gflops: 320.924

Max NPU matmul time: 2823us.
Min NPU gflops: 320.924

PASS!

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 768 -N 2560 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x768x2560_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x768x2560_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x768x2560_64x64x64_4c.txt ../build/aie_256x768x2560_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x2560_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x2560_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x2560_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x768x2560_64x64x64_4c.xclbin -i build/insts_256x768x2560_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 768 -N 2560 --b_col_maj 0
Final M=256
Final K=768
Final N=2688
Matrix has been padded
[    0,     0] -31872.00 =!= 28672.00
[    0,     1] -8329.00 =!= -3662.00
[    0,     2] 20970.00 =!= -18682.00
[    0,     3] 31071.00 =!= 22454.00
[    0,     4] -13324.00 =!= 22756.00
[    0,     5] 16738.00 =!= -24668.00
[    0,     6] 25964.00 =!= 22476.00
[    0,     7] -22682.00 =!= 32093.00
[    0,     8] -15200.00 =!= -3400.00
[    0,     9] -27493.00 =!= 26973.00
[    0,    10] 16946.00 =!= 29022.00
[    0,    11] 16731.00 =!= 2169.00
[    0,    12] 20736.00 =!= -5168.00
[    0,    13] -5983.00 =!= 12112.00
[    0,    14] 14516.00 =!= -25488.00
[    0,    15] 10791.00 =!= -34.00
[    0,    16] -13984.00 =!= 29856.00
[    0,    17] 30630.00 =!= 24802.00
[    0,    18] 28978.00 =!= -18060.00
[    0,    19] -4905.00 =!= 31494.00
[    0,    20] -32448.00 =!= 1004.00
[    0,    21] -18425.00 =!= 9889.00
[    0,    22] -31542.00 =!= -30374.00
[    0,    23] -31663.00 =!= 29240.00
[    0,    24] -11608.00 =!= 9112.00
[    0,    25] 1447.00 =!= -11902.00
[    0,    26] -6560.00 =!= -8816.00
[    0,    27] -22904.00 =!= -30984.00
[    0,    28] 8512.00 =!= -13456.00
[    0,    29] 31225.00 =!= 16653.00
[    0,    30] -8294.00 =!= -7856.00
[    0,    31] 13425.00 =!= 6170.00
...and 655287 further errors.
Maximum relative error: 200%

Reference:
   28672     -3662    -18682     22454     22756   ...    17518     -4088    -10272     11274    -10092  
   28672    -30542    -31482    -32586    -11036   ...   -17810     29704     31968    -17398     23956  
   28672      8114     21254    -22090     20708   ...    12398     -2040      8672     19466     -7532  
   28672    -18766      8454    -11594    -13084   ...   -22930     31752    -14624     -9206     26516  
   28672     19890     -4346     -1098     18660   ...     7278         8     27616     27658     -4972  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   28672      -334    -20218    -30026     -4892   ...    -2450     23560    -24864     23562     16276  
   28672    -27214     32518    -19530     26852   ...    27758     -8184     17376     -5110    -15212  
   28672     11442     19718     -9034     -6940   ...    -7570     25608     -5920     31754     18836  
   28672    -15438      6918      1462     24804   ...    22638     -6136    -29216      3082    -12652  
   28672     23218     -5882     11958     -8988   ...   -12690     27656     13024    -25590     21396  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 768 -N 2816 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x768x2816_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x768x2816_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x768x2816_64x64x64_4c.txt ../build/aie_256x768x2816_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x2816_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x2816_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x2816_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.3s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x768x2816_64x64x64_4c.xclbin -i build/insts_256x768x2816_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 768 -N 2816 --b_col_maj 0
Final M=256
Final K=768
Final N=2880
Matrix has been padded
[    0,     0] -13888.00 =!= -4608.00
[    0,     1] -19560.00 =!= -23567.00
[    0,     2] -28194.00 =!= -24870.00
[    0,     3] 16772.00 =!= -4223.00
[    0,     4] -324.00 =!= 15368.00
[    0,     5] 8287.00 =!= -2112.00
[    0,     6] -17220.00 =!= 13198.00
[    0,     7] -31405.00 =!= -20163.00
[    0,     8] 23304.00 =!= 15328.00
[    0,     9] 22154.00 =!= -8482.00
[    0,    10] 15642.00 =!= -3334.00
[    0,    11] -1972.00 =!= -9097.00
[    0,    12] 13972.00 =!= 30192.00
[    0,    13] 18686.00 =!= -26934.00
[    0,    14] -3116.00 =!= -3940.00
[    0,    15] -7335.00 =!= -2899.00
[    0,    16] -1600.00 =!= -13104.00
[    0,    17] -20786.00 =!= 7080.00
[    0,    18] -25176.00 =!= 152.00
[    0,    19] 1068.00 =!= -1611.00
[    0,    20] 18820.00 =!= -4920.00
[    0,    21] -6384.00 =!= -12490.00
[    0,    22] -13434.00 =!= 15710.00
[    0,    23] -28077.00 =!= 16025.00
[    0,    24] -16808.00 =!= 21368.00
[    0,    25] 28691.00 =!= 31836.00
[    0,    26] 4308.00 =!= 9586.00
[    0,    27] 29362.00 =!= -2030.00
[    0,    28] 19144.00 =!= 23124.00
[    0,    29] -11434.00 =!= 13339.00
[    0,    30] 26452.00 =!= 2474.00
[    0,    31] -20262.00 =!= -29513.00
...and 720838 further errors.
Maximum relative error: 200%

Reference:
   -4608    -23567    -24870     -4223     15368   ...    10226      1264     17322      2718      -191  
   -4608       -15     -6950      3969    -21496   ...    13298     -8976      2986    -28514     -9151  
   -4608     23537     10970     12161      7176   ...    16370    -19216    -11350      5790    -18111  
   -4608    -18447     28890     20353    -29688   ...    19442    -29456    -25686    -25442    -27071  
   -4608      5105    -18726     28545     -1016   ...    22514     25840     25514      8862     29505  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   -4608    -10255     16602     20353      3080   ...    -5134    -13072     23466     27806    -20927  
   -4608     13297    -31014     28545     31752   ...    -2062    -23312      9130     -3426    -29887  
   -4608    -28687    -13094    -28799     -5112   ...     1010     31984     -5206     30878     26689  
   -4608     -5135      4826    -20607     23560   ...     4082     21744    -19542      -354     17729  
   -4608     18417     22746    -12415    -13304   ...     7154     11504     31658    -31586      8769  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 768 -N 3072 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x768x3072_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x768x3072_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x768x3072_64x64x64_4c.txt ../build/aie_256x768x3072_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x3072_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x3072_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x3072_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x768x3072_64x64x64_4c.xclbin -i build/insts_256x768x3072_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 768 -N 3072 --b_col_maj 0
Final M=256
Final K=768
Final N=3072
Matrix has been padded

Avg NPU matmul time: 2975us.
Avg NPU gflops: 406.037

Min NPU matmul time: 2975us.
Max NPU gflops: 406.037

Max NPU matmul time: 2975us.
Min NPU gflops: 406.037

PASS!

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 768 -N 3328 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x768x3328_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x768x3328_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x768x3328_64x64x64_4c.txt ../build/aie_256x768x3328_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x3328_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x3328_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x3328_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.3s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x768x3328_64x64x64_4c.xclbin -i build/insts_256x768x3328_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 768 -N 3328 --b_col_maj 0
Final M=256
Final K=768
Final N=3456
Matrix has been padded
[    0,     0] 25856.00 =!= -23552.00
[    0,     1] 12499.00 =!= -18727.00
[    0,     2] 16994.00 =!= 27458.00
[    0,     3] -18042.00 =!= -20142.00
[    0,     4] 9660.00 =!= 18632.00
[    0,     5] -9991.00 =!= -30120.00
[    0,     6] 5930.00 =!= 23722.00
[    0,     7] 6115.00 =!= -6486.00
[    0,     8] 2248.00 =!= 12816.00
[    0,     9] 24999.00 =!= -5079.00
[    0,    10] -21856.00 =!= -24224.00
[    0,    11] 209.00 =!= -11468.00
[    0,    12] 17516.00 =!= -21588.00
[    0,    13] -14458.00 =!= 17774.00
[    0,    14] 4724.00 =!= -334.00
[    0,    15] 27797.00 =!= 8954.00
[    0,    16] 21088.00 =!= -8544.00
[    0,    17] -1593.00 =!= 10377.00
[    0,    18] 26954.00 =!= -3628.00
[    0,    19] 8492.00 =!= 27595.00
[    0,    20] -29840.00 =!= 30744.00
[    0,    21] 6223.00 =!= -10748.00
[    0,    22] -23878.00 =!= 28524.00
[    0,    23] -24742.00 =!= -15632.00
[    0,    24] 9624.00 =!= 21776.00
[    0,    25] -13281.00 =!= 9860.00
[    0,    26] 21374.00 =!= 25752.00
[    0,    27] -4864.00 =!= -3619.00
[    0,    28] -28800.00 =!= -10640.00
[    0,    29] -21693.00 =!= 23858.00
[    0,    30] -25082.00 =!= 15820.00
[    0,    31] 8900.00 =!= -21129.00
...and 851911 further errors.
Maximum relative error: 200%

Reference:
  -23552    -18727     27458    -20142     18632   ...    -8613     32092      8048     19052    -13037  
  -23552    -26151    -17086     30290     21704   ...    16219    -11940    -15504     21100     32019  
  -23552     31961      3906     15186     24776   ...   -24485      9564     26480     23148     11539  
  -23552     24537     24898        82     27848   ...      347     31068      2928     25196     -8941  
  -23552     17113    -19646    -15022     30920   ...    25179    -12964    -20624     27244    -29421  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
  -23552     18393    -11966    -10158      3272   ...    -1701     -9892     -5264      8812     23827  
  -23552     10969      9026    -25262      6344   ...    23131     11612    -28816     10860      3347  
  -23552      3545     30018     25170      9416   ...   -17573    -32420     13168     12908    -17133  
  -23552     -3879    -14526     10066     12488   ...     7259    -10916    -10384     14956     27923  
  -23552    -11303      6466     -5038     15560   ...    32091     10588     31600     17004      7443  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 768 -N 3584 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x768x3584_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x768x3584_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x768x3584_64x64x64_4c.txt ../build/aie_256x768x3584_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x3584_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x3584_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x3584_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x768x3584_64x64x64_4c.xclbin -i build/insts_256x768x3584_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 768 -N 3584 --b_col_maj 0
Final M=256
Final K=768
Final N=3648
Matrix has been padded
[    0,     0] -2624.00 =!= -19968.00
[    0,     1] 27554.00 =!= 10004.00
[    0,     2] -21256.00 =!= 582.00
[    0,     3] -18417.00 =!= 978.00
[    0,     4] -30632.00 =!= 28672.00
[    0,     5] 14427.00 =!= 8910.00
[    0,     6] 62.00 =!= -25790.00
[    0,     7] 16422.00 =!= -9601.00
[    0,     8] 31904.00 =!= -9704.00
[    0,     9] -31712.00 =!= 15070.00
[    0,    10] 25564.00 =!= 13540.00
[    0,    11] 24059.00 =!= 6157.00
[    0,    12] -4372.00 =!= -10612.00
[    0,    13] 3876.00 =!= 14674.00
[    0,    14] -44.00 =!= -29222.00
[    0,    15] -22668.00 =!= -2148.00
[    0,    16] 20896.00 =!= 11392.00
[    0,    17] -1050.00 =!= 28076.00
[    0,    18] -29784.00 =!= -13738.00
[    0,    19] 3010.00 =!= -27614.00
[    0,    20] -3196.00 =!= -18036.00
[    0,    21] -16132.00 =!= -8705.00
[    0,    22] -30780.00 =!= -7446.00
[    0,    23] -19898.00 =!= -21970.00
[    0,    24] -31536.00 =!= -10944.00
[    0,    25] 4297.00 =!= 16184.00
[    0,    26] -12218.00 =!= -21198.00
[    0,    27] -20396.00 =!= -20011.00
[    0,    28] -13892.00 =!= 14804.00
[    0,    29] 20925.00 =!= -30847.00
[    0,    30] 1866.00 =!= 31304.00
[    0,    31] -13286.00 =!= 23359.00
...and 917458 further errors.
Maximum relative error: 200%

Reference:
  -19968     10004       582       978     28672   ...    -3393     14052    -14272     27576     -1280  
  -19968    -16876     24134     25298    -24576   ...    -8513    -17692     30272    -15944    -10752  
  -19968     21780    -17850    -15918    -12288   ...   -13633     16100      9280      6072    -20224  
  -19968     -5100      5702      8402         0   ...   -18753    -15644    -11712     28088    -29696  
  -19968    -31980     29254     32722     12288   ...   -23873     18148    -32704    -15432     26368  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
  -19968     13332     13894     10450    -32768   ...    22207    -23836     25152    -16968    -19456  
  -19968    -13548    -28090    -30766    -20480   ...    17087      9956      4160      5048    -28928  
  -19968     25108     -4538     -6446     -8192   ...    11967    -21788    -16832     27064     27136  
  -19968     -1772     19014     17874      4096   ...     6847     12004     27712    -16456     17664  
  -19968    -28652    -22970    -23342     16384   ...     1727    -19740      6720      5560      8192  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 768 -N 3840 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x768x3840_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x768x3840_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x768x3840_64x64x64_4c.txt ../build/aie_256x768x3840_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x3840_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x3840_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x3840_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.3s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x768x3840_64x64x64_4c.xclbin -i build/insts_256x768x3840_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 768 -N 3840 --b_col_maj 0
Final M=256
Final K=768
Final N=3840
Matrix has been padded

Avg NPU matmul time: 3257us.
Avg NPU gflops: 463.601

Min NPU matmul time: 3257us.
Max NPU gflops: 463.601

Max NPU matmul time: 3257us.
Min NPU gflops: 463.601

PASS!

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 768 -N 4096 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x768x4096_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x768x4096_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x768x4096_64x64x64_4c.txt ../build/aie_256x768x4096_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x4096_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x4096_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x768x4096_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x768x4096_64x64x64_4c.xclbin -i build/insts_256x768x4096_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 768 -N 4096 --b_col_maj 0
Final M=256
Final K=768
Final N=4224
Matrix has been padded
[    0,     0] 4480.00 =!= -8192.00
[    0,     1] -13217.00 =!= -24681.00
[    0,     2] -3140.00 =!= -2848.00
[    0,     3] -3222.00 =!= -26836.00
[    0,     4] -10596.00 =!= -7908.00
[    0,     5] -1909.00 =!= 32115.00
[    0,     6] -19480.00 =!= 22634.00
[    0,     7] -7133.00 =!= 859.00
[    0,     8] -19424.00 =!= 23672.00
[    0,     9] -20628.00 =!= -6290.00
[    0,    10] -9194.00 =!= -12256.00
[    0,    11] -16002.00 =!= -25942.00
[    0,    12] 5952.00 =!= -26400.00
[    0,    13] -1335.00 =!= 29214.00
[    0,    14] -12402.00 =!= 6812.00
[    0,    15] -2609.00 =!= 5856.00
[    0,    16] 13632.00 =!= 22832.00
[    0,    17] -14838.00 =!= 26285.00
[    0,    18] 3284.00 =!= -2590.00
[    0,    19] 611.00 =!= -26079.00
[    0,    20] -17996.00 =!= -4196.00
[    0,    21] -3588.00 =!= 24370.00
[    0,    22] -4014.00 =!= -8956.00
[    0,    23] 10904.00 =!= 23827.00
[    0,    24] 11312.00 =!= 23336.00
[    0,    25] -1992.00 =!= 8676.00
[    0,    26] -13762.00 =!= -11516.00
[    0,    27] 16470.00 =!= -5210.00
[    0,    28] 21876.00 =!= -15908.00
[    0,    29] 26324.00 =!= 31773.00
[    0,    30] 5102.00 =!= -24472.00
[    0,    31] 15922.00 =!= 15976.00
...and 1048528 further errors.
Maximum relative error: 200%

Reference:
   -8192    -24681     -2848    -26836     -7908   ...    -1784    -22380     -7697    -25690    -11266  
   -8192    -11625     -6432    -20436     15644   ...     7688    -16236    -32529    -29786     -9218  
   -8192      1431    -10016    -14036    -26340   ...    17160    -10092      8175     31654     -7170  
   -8192     14487    -13600     -7636     -2788   ...    26632     -3948    -16657     27558     -5122  
   -8192     27543    -17184     -1236     20764   ...   -29432      2196     24047     23462     -3074  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   -8192    -24425     15072      6700      5404   ...    16392     12436    -14609     -5210    -21506  
   -8192    -11369     11488     13100     28956   ...    25864     18580     26095     -9306    -19458  
   -8192      1687      7904     19500    -13028   ...   -30200     24724      1263    -13402    -17410  
   -8192     14743      4320     25900     10524   ...   -20728     30868    -23569    -17498    -15362  
   -8192     27799       736     32300    -31460   ...   -11256    -28524     17135    -21594    -13314  

Output:
    4480    -13217     -3140     -3222    -10596   ...   -30009    -14952      9763     -1120     23302  
    4480     18783     28092      6506     23196   ...      -57       408      2595    -20064    -17658  
    4480    -14753     -6212     16234     -8548   ...    29895     15768     -4573     26528      6918  
    4480     17247     25020     25962     25244   ...    -5689     31128    -11741      7584     31494  
    4480    -16289     -9284    -29846     -6500   ...    24263    -19048    -18909    -11360     -9466  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 3156.00us.
Avg NPU gflops: 510.33

Min NPU matmul time: 3156.00us.
Max NPU gflops: 510.33

Max NPU matmul time: 3156.00us.
Min NPU gflops: 510.33

Error count: 1048560


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1024 -N 256 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1024x256_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1024x256_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1024x256_64x64x64_4c.txt ../build/aie_256x1024x256_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x256_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x256_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x256_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1024x256_64x64x64_4c.xclbin -i build/insts_256x1024x256_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1024 -N 256 --b_col_maj 0
Final M=256
Final K=1024
Final N=384
Matrix has been padded
[    0,     0] 4864.00 =!= -32768.00
[    0,     1] -17583.00 =!= 31760.00
[    0,     2] 18438.00 =!= 31298.00
[    0,     3] 27471.00 =!= -32583.00
[    0,     4] 26688.00 =!= 11176.00
[    0,     5] -4020.00 =!= -4574.00
[    0,     6] 25570.00 =!= 19136.00
[    0,     7] -13169.00 =!= 4123.00
[    0,     8] 3408.00 =!= -10296.00
[    0,     9] -235.00 =!= 29065.00
[    0,    10] 18874.00 =!= 11782.00
[    0,    11] -26200.00 =!= -21477.00
[    0,    12] -6960.00 =!= 12632.00
[    0,    13] 28235.00 =!= -26261.00
[    0,    14] 8008.00 =!= 10020.00
[    0,    15] 9340.00 =!= 4518.00
[    0,    16] 22080.00 =!= 27936.00
[    0,    17] -3499.00 =!= -9008.00
[    0,    18] 7214.00 =!= 9222.00
[    0,    19] -30837.00 =!= 3890.00
[    0,    20] 12076.00 =!= 14936.00
[    0,    21] -3042.00 =!= -8724.00
[    0,    22] 6972.00 =!= -31100.00
[    0,    23] 5012.00 =!= -10656.00
[    0,    24] -28304.00 =!= -27328.00
[    0,    25] -9236.00 =!= 28849.00
[    0,    26] 31872.00 =!= -28710.00
[    0,    27] 19840.00 =!= 3966.00
[    0,    28] 14000.00 =!= -2040.00
[    0,    29] 30287.00 =!= -24340.00
[    0,    30] -8808.00 =!= -24866.00
[    0,    31] 13830.00 =!= -30894.00
...and 65504 further errors.
Maximum relative error: 100%

Reference:
  -32768     31760     31298    -32583     11176   ...   -14442     18972    -18312      4144     16165  
  -32768    -13296     -1470    -29511     -9304   ...    -5226     23068     30840        48     24357  
  -32768      7184     31298    -26439    -29784   ...     3990     27164     14456     -4048     32549  
  -32768     27664     -1470    -23367     15272   ...    13206     31260     -1928     -8144    -24795  
  -32768    -17392     31298    -20295     -5208   ...    22422    -30180    -18312    -12240    -16603  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
  -32768     -5104     -1470     17593    -17496   ...     5014     -1508     -1928     24624    -24795  
  -32768     15376     31298     20665     27560   ...    14230      2588    -18312     20528    -16603  
  -32768    -29680     -1470     23737      7080   ...    23446      6684     30840     16432     -8411  
  -32768     -9200     31298     26809    -13400   ...    32662     10780     14456     12336      -219  
  -32768     11280     -1470     29881     31656   ...   -23658     14876     -1928      8240      7973  

Output:
    4864    -17583     18438     27471     26688   ...   -14844    -27876    -31095        -4      7661  
    4864    -11439    -24570       847    -30656   ...     1540    -27876     -3447     -8196    -16915  
    4864     -5295     -2042    -25777    -22464   ...    17924    -27876     24201    -16388     24045  
    4864       849     20486     13135    -14272   ...   -31228    -27876    -13687    -24580      -531  
    4864      6993    -22522    -13489     -6080   ...   -14844    -27876     13961     32764    -25107  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2158.00us.
Avg NPU gflops: 62.20

Min NPU matmul time: 2158.00us.
Max NPU gflops: 62.20

Max NPU matmul time: 2158.00us.
Min NPU gflops: 62.20

Error count: 65536


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1024 -N 512 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1024x512_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1024x512_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1024x512_64x64x64_4c.txt ../build/aie_256x1024x512_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x512_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x512_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x512_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1024x512_64x64x64_4c.xclbin -i build/insts_256x1024x512_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1024 -N 512 --b_col_maj 0
Final M=256
Final K=1024
Final N=576
Matrix has been padded
[    0,     0] -12416.00 =!= -1024.00
[    0,     1] -25699.00 =!= -19136.00
[    0,     2] -19944.00 =!= -7720.00
[    0,     3] -18711.00 =!= -19118.00
[    0,     4] -2528.00 =!= -136.00
[    0,     5] -6720.00 =!= -20206.00
[    0,     6] -5608.00 =!= -5118.00
[    0,     7] 18314.00 =!= -25871.00
[    0,     8] 17880.00 =!= -25024.00
[    0,     9] 14579.00 =!= 932.00
[    0,    10] -1002.00 =!= 19364.00
[    0,    11] -23348.00 =!= 4307.00
[    0,    12] 9948.00 =!= -32188.00
[    0,    13] -23391.00 =!= -9652.00
[    0,    14] 27736.00 =!= -2940.00
[    0,    15] -22436.00 =!= -11733.00
[    0,    16] 31664.00 =!= 12112.00
[    0,    17] -12275.00 =!= -27425.00
[    0,    18] 26104.00 =!= 13486.00
[    0,    19] -10445.00 =!= -23.00
[    0,    20] 13508.00 =!= -10820.00
[    0,    21] -2653.00 =!= 13713.00
[    0,    22] -4772.00 =!= 1264.00
[    0,    23] 24974.00 =!= 10471.00
[    0,    24] -26200.00 =!= -10864.00
[    0,    25] 5939.00 =!= 28832.00
[    0,    26] -28114.00 =!= -1980.00
[    0,    27] 18568.00 =!= 12237.00
[    0,    28] -3648.00 =!= 11156.00
[    0,    29] -152.00 =!= 23193.00
[    0,    30] -3330.00 =!= 20620.00
[    0,    31] 17459.00 =!= -3030.00
...and 131024 further errors.
Maximum relative error: 100%

Reference:
   -1024    -19136     -7720    -19118      -136   ...   -18766    -20424     20939      7532     18172  
   -1024    -21184     10712    -25262     16248   ...    -1358    -16328     13771    -17044    -15620  
   -1024    -23232     29144    -31406     32632   ...    16050    -12232      6603     23916     16124  
   -1024    -25280    -17960     27986    -16520   ...   -32078     -8136      -565      -660    -17668  
   -1024    -27328       472     21842      -136   ...   -14670     -4040     -7733    -25236     14076  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   -1024     -8896     31192     11602    -16520   ...    25266     24632     -8757      -660     -9476  
   -1024    -10944    -15912      5458      -136   ...   -22862     28728    -15925    -25236     22268  
   -1024    -12992      2520      -686     16248   ...    -5454    -32712    -23093     15724    -11524  
   -1024    -15040     20952     -6830     32632   ...    11954    -28616    -30261     -8852     20220  
   -1024    -17088    -26152    -12974    -16520   ...    29362    -24520     28107     32108    -13572  

Output:
  -12416    -25699    -19944    -18711     -2528   ...   -13514    -11884     28186     17464     32228  
  -12416    -10339     27160    -10519    -27104   ...    31542     20884     -2534     21560    -15900  
  -12416      5021      8728     -2327     13856   ...    11062    -11884     32282     25656      1508  
  -12416     20381     -9704      5865    -10720   ...    -9418     20884      1562     29752     18916  
  -12416    -29795    -28136     14057     30240   ...   -29898    -11884    -29158    -31688    -29212  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2334.00us.
Avg NPU gflops: 115.01

Min NPU matmul time: 2334.00us.
Max NPU gflops: 115.01

Max NPU matmul time: 2334.00us.
Min NPU gflops: 115.01

Error count: 131056


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1024 -N 768 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1024x768_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1024x768_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1024x768_64x64x64_4c.txt ../build/aie_256x1024x768_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x768_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x768_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x768_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1024x768_64x64x64_4c.xclbin -i build/insts_256x1024x768_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1024 -N 768 --b_col_maj 0
Final M=256
Final K=1024
Final N=768
Matrix has been padded

Avg NPU matmul time: 2364us.
Avg NPU gflops: 170.327

Min NPU matmul time: 2364us.
Max NPU gflops: 170.327

Max NPU matmul time: 2364us.
Min NPU gflops: 170.327

PASS!

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1024 -N 1024 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1024x1024_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1024x1024_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1024x1024_64x64x64_4c.txt ../build/aie_256x1024x1024_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x1024_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x1024_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x1024_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1024x1024_64x64x64_4c.xclbin -i build/insts_256x1024x1024_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1024 -N 1024 --b_col_maj 0
Final M=256
Final K=1024
Final N=1152
Matrix has been padded
[    0,     0] 14592.00 =!= 23552.00
[    0,     1] 37.00 =!= -31987.00
[    0,     2] 22408.00 =!= 17190.00
[    0,     3] -21903.00 =!= 10087.00
[    0,     4] 11476.00 =!= -28080.00
[    0,     5] -9483.00 =!= -2775.00
[    0,     6] -25162.00 =!= 2408.00
[    0,     7] 10785.00 =!= -29286.00
[    0,     8] -9232.00 =!= 28168.00
[    0,     9] -1984.00 =!= 21963.00
[    0,    10] -19454.00 =!= 28916.00
[    0,    11] 3162.00 =!= 8881.00
[    0,    12] -19840.00 =!= 3964.00
[    0,    13] -32095.00 =!= -32269.00
[    0,    14] 16804.00 =!= -3174.00
[    0,    15] 31320.00 =!= -32178.00
[    0,    16] 26816.00 =!= -23152.00
[    0,    17] 20402.00 =!= 28089.00
[    0,    18] -29192.00 =!= 2940.00
[    0,    19] -8742.00 =!= -20786.00
[    0,    20] -29672.00 =!= 14996.00
[    0,    21] -9747.00 =!= 6218.00
[    0,    22] 22306.00 =!= -3876.00
[    0,    23] 7070.00 =!= 23645.00
[    0,    24] 17600.00 =!= 15112.00
[    0,    25] -27775.00 =!= -24617.00
[    0,    26] 5712.00 =!= 9122.00
[    0,    27] 24190.00 =!= -22308.00
[    0,    28] -16872.00 =!= -4.00
[    0,    29] 29598.00 =!= 67.00
[    0,    30] -27918.00 =!= -4602.00
[    0,    31] 8603.00 =!= -23952.00
...and 262108 further errors.
Maximum relative error: 100%

Reference:
   23552    -31987     17190     10087    -28080   ...   -19590     -6820     31046      4850     23872  
   23552     13069    -17626    -22681    -28080   ...     2938      1372     17734    -27918      5440  
   23552     -7411     13094     10087    -28080   ...    25466      9564      4422      4850    -12992  
   23552    -27891    -21722    -22681    -28080   ...   -17542     17756     -8890    -27918    -31424  
   23552     17165      8998     10087    -28080   ...     4986     25948    -22202      4850     15680  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   23552      4877     -5338    -22681    -28080   ...    -1158     17756     32070    -27918    -15040  
   23552    -15603     25382     10087    -28080   ...    21370     25948     18758      4850     32064  
   23552     29453     -9434    -22681    -28080   ...   -21638    -31396      5446    -27918     13632  
   23552      8973     21286     10087    -28080   ...      890    -23204     -7866      4850     -4800  
   23552    -11507    -13530    -22681    -28080   ...    23418    -15012    -21178    -27918    -23232  

Output:
   14592        37     22408    -21903     11476   ...    27456     28524     13228     19192      5211  
   14592     18469     32648     12913      7380   ...    -6336    -20628     12204    -32008    -19365  
   14592    -28635    -22648    -17807      3284   ...    25408     -4244     11180    -17672     21595  
   14592    -10203    -12408     17009      -812   ...    -8384     12140     10156     -3336     -2981  
   14592      8229     -2168    -13711     -4908   ...    23360     28524      9132     11000    -27557  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2452.00us.
Avg NPU gflops: 218.95

Min NPU matmul time: 2452.00us.
Max NPU gflops: 218.95

Max NPU matmul time: 2452.00us.
Min NPU gflops: 218.95

Error count: 262140


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1024 -N 1280 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1024x1280_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1024x1280_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1024x1280_64x64x64_4c.txt ../build/aie_256x1024x1280_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x1280_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x1280_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x1280_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1024x1280_64x64x64_4c.xclbin -i build/insts_256x1024x1280_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1024 -N 1280 --b_col_maj 0
Final M=256
Final K=1024
Final N=1344
Matrix has been padded
[    0,     0] 24640.00 =!= -15360.00
[    0,     1] -16807.00 =!= 19435.00
[    0,     2] -18328.00 =!= 12488.00
[    0,     3] -23192.00 =!= 13834.00
[    0,     4] -1092.00 =!= 22140.00
[    0,     5] -6820.00 =!= 2364.00
[    0,     6] -9086.00 =!= 520.00
[    0,     7] 12179.00 =!= 21286.00
[    0,     8] -6432.00 =!= 26872.00
[    0,     9] -27058.00 =!= 1485.00
[    0,    10] -19372.00 =!= 27982.00
[    0,    11] -5668.00 =!= -13223.00
[    0,    12] -5120.00 =!= -3024.00
[    0,    13] -24081.00 =!= 16866.00
[    0,    14] -28056.00 =!= 2850.00
[    0,    15] 16347.00 =!= -6209.00
[    0,    16] -30720.00 =!= -29920.00
[    0,    17] 463.00 =!= -13179.00
[    0,    18] 32102.00 =!= 5902.00
[    0,    19] 21409.00 =!= -29654.00
[    0,    20] -21952.00 =!= -24288.00
[    0,    21] -11520.00 =!= -25097.00
[    0,    22] -31746.00 =!= 27678.00
[    0,    23] 26025.00 =!= -24621.00
[    0,    24] -25328.00 =!= 28216.00
[    0,    25] -10603.00 =!= -14533.00
[    0,    26] -30552.00 =!= -6832.00
[    0,    27] -7551.00 =!= 9583.00
[    0,    28] 25660.00 =!= -24220.00
[    0,    29] -14396.00 =!= -6568.00
[    0,    30] -29274.00 =!= -28862.00
[    0,    31] 12950.00 =!= 24107.00
...and 327648 further errors.
Maximum relative error: 200%

Reference:
  -15360     19435     12488     13834     22140   ...    -3896      1176    -31326     25796     -2175  
  -15360     14315    -12088    -15862    -18820   ...     -824     -7016      5538     19652     18305  
  -15360      9195     28872     19978      5756   ...     2248    -15208    -23134     13508    -26751  
  -15360      4075      4296     -9718     30332   ...     5320    -23400     13730      7364     -6271  
  -15360     -1045    -20280     26122    -10628   ...     8392    -31592    -14942      1220     14209  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
  -15360    -20501      4296     31242     30332   ...   -19256    -23400    -19038     -9020     26497  
  -15360    -25621    -20280      1546    -10628   ...   -16184    -31592     17826    -15164    -18559  
  -15360    -30741     20680    -28150     13948   ...   -13112     25752    -10846    -21308      1921  
  -15360     29675     -3896      7690    -27012   ...   -10040     17560     26018    -27452     22401  
  -15360     24555    -28472    -22006     -2436   ...    -6968      9368     -2654     31940    -22655  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1024 -N 1536 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1024x1536_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1024x1536_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1024x1536_64x64x64_4c.txt ../build/aie_256x1024x1536_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x1536_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x1536_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x1536_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1024x1536_64x64x64_4c.xclbin -i build/insts_256x1024x1536_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1024 -N 1536 --b_col_maj 0
Final M=256
Final K=1024
Final N=1536
Matrix has been padded

Avg NPU matmul time: 2691us.
Avg NPU gflops: 299.259

Min NPU matmul time: 2691us.
Max NPU gflops: 299.259

Max NPU matmul time: 2691us.
Min NPU gflops: 299.259

PASS!

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1024 -N 1792 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1024x1792_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1024x1792_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1024x1792_64x64x64_4c.txt ../build/aie_256x1024x1792_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x1792_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x1792_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x1792_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.3s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1024x1792_64x64x64_4c.xclbin -i build/insts_256x1024x1792_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1024 -N 1792 --b_col_maj 0
Final M=256
Final K=1024
Final N=1920
Matrix has been padded
[    0,     0] 15488.00 =!= 1536.00
[    0,     1] 16927.00 =!= 1910.00
[    0,     2] 12028.00 =!= 6428.00
[    0,     3] -17492.00 =!= 2947.00
[    0,     4] -9808.00 =!= 28104.00
[    0,     5] 6966.00 =!= -1088.00
[    0,     6] 8470.00 =!= -32296.00
[    0,     7] 22895.00 =!= 26781.00
[    0,     8] -4368.00 =!= 29632.00
[    0,     9] 24175.00 =!= -27241.00
[    0,    10] 4800.00 =!= 26970.00
[    0,    11] 12429.00 =!= 26461.00
[    0,    12] -1548.00 =!= 17080.00
[    0,    13] -23916.00 =!= 21506.00
[    0,    14] -5970.00 =!= -32442.00
[    0,    15] -24337.00 =!= 25777.00
[    0,    16] -23744.00 =!= 12336.00
[    0,    17] 216.00 =!= -7366.00
[    0,    18] 14300.00 =!= -30938.00
[    0,    19] 10226.00 =!= 6258.00
[    0,    20] -29252.00 =!= 25148.00
[    0,    21] 23053.00 =!= -25445.00
[    0,    22] 23672.00 =!= 6284.00
[    0,    23] -12505.00 =!= -7880.00
[    0,    24] 12232.00 =!= 248.00
[    0,    25] -8003.00 =!= -5242.00
[    0,    26] -5220.00 =!= -28944.00
[    0,    27] 23730.00 =!= -10008.00
[    0,    28] 7464.00 =!= 26528.00
[    0,    29] 28862.00 =!= -16494.00
[    0,    30] -13374.00 =!= 5866.00
[    0,    31] -30735.00 =!= -15044.00
...and 458720 further errors.
Maximum relative error: 200%

Reference:
    1536      1910      6428      2947     28104   ...     1682    -18244      9673    -12558     26007  
    1536     25462    -12004     -2173     15816   ...   -24942      2236     21961     20210     10647  
    1536    -16522    -30436     -7293      3528   ...    13970     22716    -31287    -12558     -4713  
    1536      7030     16668    -12413     -8760   ...   -12654    -22340    -18999     20210    -20073  
    1536     30582     -1764    -17533    -21048   ...    26258     -1860     -6711    -12558     30103  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
    1536     15222    -32484     28547     24008   ...     3730     10428     13769     20210    -28265  
    1536    -26762     14620     23427     11720   ...   -22894     30908     26057    -12558     21911  
    1536     -3210     -3812     18307      -568   ...    16018    -14148    -27191     20210      6551  
    1536     20342    -22244     13187    -12856   ...   -10606      6332    -14903    -12558     -8809  
    1536    -21642     24860      8067    -25144   ...    28306     26812     -2615     20210    -24169  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1024 -N 2048 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1024x2048_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1024x2048_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1024x2048_64x64x64_4c.txt ../build/aie_256x1024x2048_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x2048_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x2048_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x2048_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1024x2048_64x64x64_4c.xclbin -i build/insts_256x1024x2048_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1024 -N 2048 --b_col_maj 0
Final M=256
Final K=1024
Final N=2112
Matrix has been padded
[    0,     0] 30336.00 =!= -8192.00
[    0,     1] -23070.00 =!= -13822.00
[    0,     2] -21564.00 =!= 6872.00
[    0,     3] 10466.00 =!= 24095.00
[    0,     4] -4044.00 =!= 28308.00
[    0,     5] 887.00 =!= -22218.00
[    0,     6] 19108.00 =!= -13722.00
[    0,     7] 24885.00 =!= 8182.00
[    0,     8] -13688.00 =!= -24472.00
[    0,     9] -10376.00 =!= 6358.00
[    0,    10] -26330.00 =!= 18888.00
[    0,    11] -29462.00 =!= -14180.00
[    0,    12] 10068.00 =!= -7708.00
[    0,    13] 2933.00 =!= 15224.00
[    0,    14] -542.00 =!= -23116.00
[    0,    15] 24953.00 =!= 8463.00
[    0,    16] -19472.00 =!= 19376.00
[    0,    17] 3077.00 =!= -3010.00
[    0,    18] 248.00 =!= -15824.00
[    0,    19] -15183.00 =!= 13072.00
[    0,    20] 28044.00 =!= -21016.00
[    0,    21] -5589.00 =!= 20167.00
[    0,    22] -12458.00 =!= -19154.00
[    0,    23] 14466.00 =!= 6518.00
[    0,    24] 31512.00 =!= 4080.00
[    0,    25] 22535.00 =!= 19720.00
[    0,    26] -25500.00 =!= 2648.00
[    0,    27] 2421.00 =!= -30315.00
[    0,    28] 24496.00 =!= 9208.00
[    0,    29] -20025.00 =!= -27638.00
[    0,    30] 32708.00 =!= 1666.00
[    0,    31] 6400.00 =!= -6064.00
...and 524256 further errors.
Maximum relative error: 100%

Reference:
   -8192    -13822      6872     24095     28308   ...   -23983    -23356    -27571     17998    -18768  
   -8192     23042     10968     10783     16020   ...    32337     13508     18509      1614      2736  
   -8192     -5630     15064     -2529      3732   ...    23121    -15164      -947    -14770     24240  
   -8192     31234     19160    -15841     -8556   ...    13905     21700    -20403    -31154    -19792  
   -8192      2562     23256    -29153    -20844   ...     4689     -6972     25677     17998      1712  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   -8192     -1534    -13608     25119     24212   ...    22097    -11068      4173    -31154      4784  
   -8192    -30206     -9512     11807     11924   ...    12881     25796    -15283     17998     26288  
   -8192      6658     -5416     -1505      -364   ...     3665     -2876     30797      1614    -17744  
   -8192    -22014     -1320    -14817    -12652   ...    -5551    -31548     11341    -14770      3760  
   -8192     14850      2776    -28129    -24940   ...   -14767      5316     -8115    -31154     25264  

Output:
   30336    -23070    -21564     10466     -4044   ...   -29052     23376    -25036     -1316     16066  
   30336      7650    -23612    -31518     28724   ...   -21884     19280     31284     10972     26306  
   30336    -27166    -25660     -7966     -4044   ...   -14716     15184     22068     23260    -28990  
   30336      3554    -27708     15586     28724   ...    -7548     11088     12852    -29988    -18750  
   30336    -31262    -29756    -26398     -4044   ...     -380      6992      3636    -17700     -8510  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2993.00us.
Avg NPU gflops: 358.75

Min NPU matmul time: 2993.00us.
Max NPU gflops: 358.75

Max NPU matmul time: 2993.00us.
Min NPU gflops: 358.75

Error count: 524288


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1024 -N 2304 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1024x2304_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1024x2304_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1024x2304_64x64x64_4c.txt ../build/aie_256x1024x2304_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x2304_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x2304_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x2304_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1024x2304_64x64x64_4c.xclbin -i build/insts_256x1024x2304_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1024 -N 2304 --b_col_maj 0
Final M=256
Final K=1024
Final N=2304
Matrix has been padded

Avg NPU matmul time: 3038us.
Avg NPU gflops: 397.617

Min NPU matmul time: 3038us.
Max NPU gflops: 397.617

Max NPU matmul time: 3038us.
Min NPU gflops: 397.617

PASS!

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1024 -N 2560 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1024x2560_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1024x2560_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1024x2560_64x64x64_4c.txt ../build/aie_256x1024x2560_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x2560_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x2560_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x2560_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1024x2560_64x64x64_4c.xclbin -i build/insts_256x1024x2560_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1024 -N 2560 --b_col_maj 0
Final M=256
Final K=1024
Final N=2688
Matrix has been padded
[    0,     0] -6400.00 =!= -9728.00
[    0,     1] -22224.00 =!= -24004.00
[    0,     2] 17314.00 =!= 10838.00
[    0,     3] 14610.00 =!= -4253.00
[    0,     4] 7292.00 =!= 10020.00
[    0,     5] -8103.00 =!= 7368.00
[    0,     6] -20754.00 =!= 22214.00
[    0,     7] -2692.00 =!= -8251.00
[    0,     8] -15976.00 =!= -18384.00
[    0,     9] 23263.00 =!= 11025.00
[    0,    10] 12922.00 =!= 26462.00
[    0,    11] -11587.00 =!= -13387.00
[    0,    12] 16236.00 =!= 27208.00
[    0,    13] -8545.00 =!= 31953.00
[    0,    14] 31388.00 =!= 32156.00
[    0,    15] -32305.00 =!= 22284.00
[    0,    16] 13872.00 =!= -27776.00
[    0,    17] -12906.00 =!= 20849.00
[    0,    18] -31374.00 =!= -3452.00
[    0,    19] -26885.00 =!= -30806.00
[    0,    20] -28680.00 =!= 4476.00
[    0,    21] 10070.00 =!= -18768.00
[    0,    22] -18088.00 =!= 10724.00
[    0,    23] 386.00 =!= -16733.00
[    0,    24] -22352.00 =!= 384.00
[    0,    25] -7685.00 =!= 23867.00
[    0,    26] -23260.00 =!= 29820.00
[    0,    27] 26628.00 =!= -24561.00
[    0,    28] 1016.00 =!= 30656.00
[    0,    29] 13595.00 =!= 23027.00
[    0,    30] -8010.00 =!= 13754.00
[    0,    31] -20670.00 =!= 8228.00
...and 655324 further errors.
Maximum relative error: 200%

Reference:
   -9728    -24004     10838     -4253     10020   ...     -558    -25912     15801     30738    -22044  
   -9728      2620    -32170     -6301    -10460   ...   -30254     10952     31161    -12270    -18972  
   -9728     29244     -9642     -8349    -30940   ...     5586    -17720    -19015     10258    -15900  
   -9728     -9668     12886    -10397     14116   ...   -24110     19144     -3655    -32750    -12828  
   -9728     16956    -30122    -12445     -6364   ...    11730     -9528     11705    -10222     -9756  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   -9728    -26052     29270      5987    -18652   ...    16850    -13624      4537    -16366     28132  
   -9728       572    -13738      3939     26404   ...   -12846     23240     19897      6162     31204  
   -9728     27196      8790      1891      5924   ...    22994     -5432    -30279     28690    -31260  
   -9728    -11716     31318      -157    -14556   ...    -6702     31432    -14919    -14318    -28188  
   -9728     14908    -11690     -2205     30500   ...    29138      2760       441      8210    -25116  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1024 -N 2816 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1024x2816_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1024x2816_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1024x2816_64x64x64_4c.txt ../build/aie_256x1024x2816_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x2816_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x2816_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x2816_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1024x2816_64x64x64_4c.xclbin -i build/insts_256x1024x2816_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1024 -N 2816 --b_col_maj 0
Final M=256
Final K=1024
Final N=2880
Matrix has been padded
[    0,     0] 8896.00 =!= -30208.00
[    0,     1] -5431.00 =!= -924.00
[    0,     2] 4724.00 =!= 19188.00
[    0,     3] -18513.00 =!= 9222.00
[    0,     4] 11180.00 =!= -6872.00
[    0,     5] -16281.00 =!= 26872.00
[    0,     6] -14508.00 =!= 4926.00
[    0,     7] -16023.00 =!= 1648.00
[    0,     8] -4976.00 =!= -8232.00
[    0,     9] 16146.00 =!= -15013.00
[    0,    10] 734.00 =!= 29436.00
[    0,    11] -5664.00 =!= 11953.00
[    0,    12] -29448.00 =!= 31140.00
[    0,    13] 1403.00 =!= 17605.00
[    0,    14] -4210.00 =!= -27628.00
[    0,    15] 8434.00 =!= -2563.00
[    0,    16] 32736.00 =!= 4304.00
[    0,    17] -7082.00 =!= 13826.00
[    0,    18] 28864.00 =!= 8552.00
[    0,    19] 17051.00 =!= -13431.00
[    0,    20] -31112.00 =!= 29196.00
[    0,    21] 1780.00 =!= 30743.00
[    0,    22] 13728.00 =!= 16488.00
[    0,    23] -25807.00 =!= 25925.00
[    0,    24] -8584.00 =!= -3600.00
[    0,    25] -5366.00 =!= 27415.00
[    0,    26] 16420.00 =!= 24502.00
[    0,    27] -22698.00 =!= -7308.00
[    0,    28] 24264.00 =!= -4384.00
[    0,    29] -22373.00 =!= -27207.00
[    0,    30] 23536.00 =!= -4312.00
[    0,    31] 21857.00 =!= 24205.00
...and 720860 further errors.
Maximum relative error: 200%

Reference:
  -30208      -924     19188      9222     -6872   ...    13261     30720     32554     27310     15518  
  -30208      4196     -3340     -2042     -6872   ...    -6195    -14336    -17622    -25938     26782  
  -30208      9316    -25868    -13306     -6872   ...   -25651      6144     -2262    -13650    -27490  
  -30208     14436     17140    -24570     -6872   ...    20429     26624     13098     -1362    -16226  
  -30208     19556     -5388     29702     -6872   ...      973    -18432     28458     10926     -4962  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
  -30208    -26524       756         6     -6872   ...   -20531     -6144     21290     31406     24734  
  -30208    -21404    -21772    -11258     -6872   ...    25549     14336    -28886    -21842    -29538  
  -30208    -16284     21236    -22522     -6872   ...     6093    -30720    -13526     -9554    -18274  
  -30208    -11164     -1292     31750     -6872   ...   -13363    -10240      1834      2734     -7010  
  -30208     -6044    -23820     20486     -6872   ...    32717     10240     17194     15022      4254  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1024 -N 3072 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1024x3072_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1024x3072_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1024x3072_64x64x64_4c.txt ../build/aie_256x1024x3072_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x3072_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x3072_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x3072_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1024x3072_64x64x64_4c.xclbin -i build/insts_256x1024x3072_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1024 -N 3072 --b_col_maj 0
Final M=256
Final K=1024
Final N=3072
Matrix has been padded

Avg NPU matmul time: 3280us.
Avg NPU gflops: 491.04

Min NPU matmul time: 3280us.
Max NPU gflops: 491.04

Max NPU matmul time: 3280us.
Min NPU gflops: 491.04

PASS!

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1024 -N 3328 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1024x3328_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1024x3328_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1024x3328_64x64x64_4c.txt ../build/aie_256x1024x3328_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x3328_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x3328_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x3328_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.3s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1024x3328_64x64x64_4c.xclbin -i build/insts_256x1024x3328_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1024 -N 3328 --b_col_maj 0
Final M=256
Final K=1024
Final N=3456
Matrix has been padded
[    0,     0] -29568.00 =!= -28416.00
[    0,     1] 1481.00 =!= -13417.00
[    0,     2] 2056.00 =!= 8000.00
[    0,     3] -4173.00 =!= 10576.00
[    0,     4] 5112.00 =!= -3232.00
[    0,     5] 28899.00 =!= 29374.00
[    0,     6] -8694.00 =!= -19106.00
[    0,     7] -23111.00 =!= -26538.00
[    0,     8] 13216.00 =!= -18256.00
[    0,     9] 14805.00 =!= -2144.00
[    0,    10] -7680.00 =!= -15984.00
[    0,    11] 5966.00 =!= 979.00
[    0,    12] 31972.00 =!= 12440.00
[    0,    13] 18819.00 =!= 9922.00
[    0,    14] -23400.00 =!= -1604.00
[    0,    15] -14690.00 =!= -10077.00
[    0,    16] 27408.00 =!= -16432.00
[    0,    17] 13478.00 =!= 30076.00
[    0,    18] 26136.00 =!= -25344.00
[    0,    19] 14344.00 =!= 3985.00
[    0,    20] -21884.00 =!= 6056.00
[    0,    21] 22712.00 =!= 28521.00
[    0,    22] 20558.00 =!= 562.00
[    0,    23] 30268.00 =!= -11136.00
[    0,    24] -32056.00 =!= 23360.00
[    0,    25] 23894.00 =!= 28485.00
[    0,    26] 11468.00 =!= 11526.00
[    0,    27] 26283.00 =!= -29433.00
[    0,    28] 20536.00 =!= 21400.00
[    0,    29] 28641.00 =!= 28698.00
[    0,    30] -2506.00 =!= -5674.00
[    0,    31] -11264.00 =!= 1006.00
...and 851904 further errors.
Maximum relative error: 200%

Reference:
  -28416    -13417      8000     10576     -3232   ...   -29711    -22852      4030      2550      4856  
  -28416     17303    -18624      1360     13152   ...     7153     22204    -16450     27126      6904  
  -28416    -17513     20288     -7856     29536   ...   -21519      1724     28606    -13834      8952  
  -28416     13207     -6336    -17072    -19616   ...    15345    -18756      8126     10742     11000  
  -28416    -21609     32576    -26288     -3232   ...   -13327     26300    -12354    -30218     13048  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
  -28416     29591     10048     -8880    -19616   ...   -17423     14012    -24642     10742     -5384  
  -28416     -5225    -16576    -18096     -3232   ...    19441     -6468     20414    -30218     -3336  
  -28416     25495     22336    -27312     13152   ...    -9231    -26948       -66     -5642     -1288  
  -28416     -9321     -4288     29008     29536   ...    27633     18108    -20546     18934       760  
  -28416     21399    -30912     19792    -19616   ...    -1039     -2372     24510    -22026      2808  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1024 -N 3584 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1024x3584_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1024x3584_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1024x3584_64x64x64_4c.txt ../build/aie_256x1024x3584_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x3584_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x3584_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x3584_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1024x3584_64x64x64_4c.xclbin -i build/insts_256x1024x3584_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1024 -N 3584 --b_col_maj 0
Final M=256
Final K=1024
Final N=3648
Matrix has been padded
[    0,     0] -7424.00 =!= -5120.00
[    0,     1] 2208.00 =!= -30849.00
[    0,     2] 6276.00 =!= 4438.00
[    0,     3] 6099.00 =!= -17684.00
[    0,     4] -13684.00 =!= 25792.00
[    0,     5] 11843.00 =!= 156.00
[    0,     6] -29856.00 =!= 13618.00
[    0,     7] 1768.00 =!= 23325.00
[    0,     8] 17440.00 =!= -22968.00
[    0,     9] -24828.00 =!= -15828.00
[    0,    10] -11196.00 =!= -8018.00
[    0,    11] 18900.00 =!= 19529.00
[    0,    12] -30544.00 =!= 23804.00
[    0,    13] 28945.00 =!= -13362.00
[    0,    14] -7830.00 =!= 28656.00
[    0,    15] -23517.00 =!= 12449.00
[    0,    16] 26640.00 =!= -24720.00
[    0,    17] 15366.00 =!= -2892.00
[    0,    18] 30670.00 =!= 25096.00
[    0,    19] -27939.00 =!= -25267.00
[    0,    20] 23968.00 =!= 14032.00
[    0,    21] -11598.00 =!= -1389.00
[    0,    22] -2222.00 =!= -17924.00
[    0,    23] 18319.00 =!= 10465.00
[    0,    24] -27560.00 =!= -11576.00
[    0,    25] -6398.00 =!= -30387.00
[    0,    26] -7266.00 =!= 28082.00
[    0,    27] 16282.00 =!= -28814.00
[    0,    28] 21576.00 =!= -26456.00
[    0,    29] -5837.00 =!= 16310.00
[    0,    30] -8498.00 =!= -7140.00
[    0,    31] 12646.00 =!= 32106.00
...and 917436 further errors.
Maximum relative error: 200%

Reference:
   -5120    -30849      4438    -17684     25792   ...    29514     -2004     -6597     18142    -20787  
   -5120    -17537    -24234     -7444     17600   ...   -21686    -14292     31291    -24866     11981  
   -5120     -4225     12630      2796      9408   ...    -7350    -26580      3643     -2338    -20787  
   -5120      9087    -16042     13036      1216   ...     6986     26668    -24005     20190     11981  
   -5120     22399     20822     23276     -6976   ...    21322     14380     13883    -22818    -20787  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   -5120    -31873     16726     -3348      1216   ...    23370     -6100       571    -28962     11981  
   -5120    -18561    -11946      6892     -6976   ...   -27830    -18388    -27077     -6434    -20787  
   -5120     -5249     24918     17132    -15168   ...   -13494    -30676     10811     16094     11981  
   -5120      8063     -3754     27372    -23360   ...      842     22572    -16837    -26914    -20787  
   -5120     21375    -32426    -27924    -31552   ...    15178     10284     21051     -4386     11981  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1024 -N 3840 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1024x3840_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1024x3840_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1024x3840_64x64x64_4c.txt ../build/aie_256x1024x3840_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x3840_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x3840_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x3840_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1024x3840_64x64x64_4c.xclbin -i build/insts_256x1024x3840_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1024 -N 3840 --b_col_maj 0
Final M=256
Final K=1024
Final N=3840
Matrix has been padded

Avg NPU matmul time: 3584us.
Avg NPU gflops: 561.737

Min NPU matmul time: 3584us.
Max NPU gflops: 561.737

Max NPU matmul time: 3584us.
Min NPU gflops: 561.737

PASS!

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1024 -N 4096 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1024x4096_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1024x4096_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1024x4096_64x64x64_4c.txt ../build/aie_256x1024x4096_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x4096_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x4096_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1024x4096_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1024x4096_64x64x64_4c.xclbin -i build/insts_256x1024x4096_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1024 -N 4096 --b_col_maj 0
Final M=256
Final K=1024
Final N=4224
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1280 -N 256 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1280x256_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1280x256_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1280x256_64x64x64_4c.txt ../build/aie_256x1280x256_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x256_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x256_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x256_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1280x256_64x64x64_4c.xclbin -i build/insts_256x1280x256_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1280 -N 256 --b_col_maj 0
Final M=256
Final K=1280
Final N=384
Matrix has been padded
[    0,     0] -13184.00 =!= -5888.00
[    0,     1] 14719.00 =!= 11314.00
[    0,     2] 32032.00 =!= -11758.00
[    0,     3] 21135.00 =!= 18867.00
[    0,     4] 20632.00 =!= 4952.00
[    0,     5] -9013.00 =!= 7857.00
[    0,     6] 18994.00 =!= 26322.00
[    0,     7] 22396.00 =!= 19769.00
[    0,     8] -17248.00 =!= -29512.00
[    0,     9] -20689.00 =!= -7636.00
[    0,    10] -27902.00 =!= 23536.00
[    0,    11] -12971.00 =!= 14054.00
[    0,    12] -17616.00 =!= -28148.00
[    0,    13] 13157.00 =!= 14836.00
[    0,    14] 29010.00 =!= -24112.00
[    0,    15] 18595.00 =!= 29722.00
[    0,    16] 848.00 =!= 9072.00
[    0,    17] -23602.00 =!= 11480.00
[    0,    18] 11630.00 =!= 21574.00
[    0,    19] -27691.00 =!= 21653.00
[    0,    20] 19928.00 =!= 22404.00
[    0,    21] -17579.00 =!= -21076.00
[    0,    22] 1652.00 =!= -14272.00
[    0,    23] 28023.00 =!= -1823.00
[    0,    24] 16344.00 =!= -21360.00
[    0,    25] -484.00 =!= 17791.00
[    0,    26] -5350.00 =!= 10832.00
[    0,    27] -18817.00 =!= 8298.00
[    0,    28] 3088.00 =!= -8116.00
[    0,    29] 22196.00 =!= 437.00
[    0,    30] 10006.00 =!= 17364.00
[    0,    31] 6535.00 =!= -26035.00
...and 65502 further errors.
Maximum relative error: 100%

Reference:
   -5888     11314    -11758     18867      4952   ...   -18074    -29304     12196    -22518      1213  
   -5888     15410    -16366     29363    -26792   ...    -4506    -22136    -13916    -26102     17853  
   -5888     19506    -20974    -25677      7000   ...     9062    -14968     25508    -29686    -31043  
   -5888     23602    -25582    -15181    -24744   ...    22630     -7800      -604     32266    -14403  
   -5888     27698    -30190     -4685      9048   ...   -29338      -632    -26716     28682      2237  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   -5888     -9166     11282     31923     32600   ...   -20378       392     11684     -4598    -16451  
   -5888     -5070      6674    -23117       856   ...    -6810      7560    -14428     -8182       189  
   -5888      -974      2066    -12621    -30888   ...     6758     14728     24996    -11766     16829  
   -5888      3122     -2542     -2125      2904   ...    20326     21896     -1116    -15350    -32067  
   -5888      7218     -7150      8371    -28840   ...   -31642     29064    -27228    -18934    -15427  

Output:
  -13184     14719     32032     21135     20632   ...   -16860    -17540    -23789     19460    -12595  
   19584     16255     -3808     29583     -2920   ...    15908     31612     13587    -27132     -1331  
  -13184     17791     25888    -27505    -26472   ...   -16860     15228    -14573     -8188      9933  
   19584     19327     -9952    -19057     15512   ...    15908     -1156     22803     10756     21197  
  -13184     20863     19744    -10609     -8040   ...   -16860    -17540     -5357     29700     32461  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2199.00us.
Avg NPU gflops: 76.29

Min NPU matmul time: 2199.00us.
Max NPU gflops: 76.29

Max NPU matmul time: 2199.00us.
Min NPU gflops: 76.29

Error count: 65534


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1280 -N 512 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1280x512_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1280x512_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1280x512_64x64x64_4c.txt ../build/aie_256x1280x512_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x512_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x512_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x512_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1280x512_64x64x64_4c.xclbin -i build/insts_256x1280x512_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1280 -N 512 --b_col_maj 0
Final M=256
Final K=1280
Final N=576
Matrix has been padded
[    0,     0] -20928.00 =!= -20480.00
[    0,     1] 1431.00 =!= -20400.00
[    0,     2] 8298.00 =!= -21176.00
[    0,     3] -1595.00 =!= -16039.00
[    0,     4] 28636.00 =!= 22620.00
[    0,     5] 5352.00 =!= 4315.00
[    0,     6] 230.00 =!= 25872.00
[    0,     7] -27988.00 =!= -7869.00
[    0,     8] -10784.00 =!= 23168.00
[    0,     9] 16919.00 =!= 21563.00
[    0,    10] -2924.00 =!= 30754.00
[    0,    11] -4319.00 =!= -8712.00
[    0,    12] 32360.00 =!= 31480.00
[    0,    13] -27983.00 =!= 2134.00
[    0,    14] 17884.00 =!= -29116.00
[    0,    15] -30459.00 =!= -23421.00
[    0,    16] -13664.00 =!= 31104.00
[    0,    17] 6434.00 =!= -6030.00
[    0,    18] 32396.00 =!= -17388.00
[    0,    19] 13745.00 =!= 9200.00
[    0,    20] 17364.00 =!= -6388.00
[    0,    21] 14349.00 =!= -1861.00
[    0,    22] -10414.00 =!= 8586.00
[    0,    23] -12.00 =!= -24476.00
[    0,    24] 31552.00 =!= -29152.00
[    0,    25] -13939.00 =!= -17627.00
[    0,    26] -6644.00 =!= 20210.00
[    0,    27] -30319.00 =!= -11987.00
[    0,    28] -7048.00 =!= -1620.00
[    0,    29] 5899.00 =!= -25785.00
[    0,    30] -9144.00 =!= -15960.00
[    0,    31] -21956.00 =!= -25707.00
...and 131036 further errors.
Maximum relative error: 200%

Reference:
  -20480    -20400    -21176    -16039     22620   ...     9696    -20356      2107     24562     -2458  
  -20480     32336     -2232     -4775     16476   ...   -25120      6268    -16837     23538      5734  
  -20480     19536     16712      6489     10332   ...     5600    -32644     29755     22514     13926  
  -20480      6736    -29880     17753      4188   ...   -29216     -6020     10811     21490     22118  
  -20480     -6064    -10936     29017     -1956   ...     1504     20604     -8133     20466     30310  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
  -20480    -21936     15176     -6823    -12196   ...   -12832    -22404     31291     29682     22118  
  -20480     30800    -31416      4441    -18340   ...    17888      4220     12347     28658     30310  
  -20480     18000    -12472     15705    -24484   ...   -16928     30844     -6597     27634    -27034  
  -20480      5200      6472     26969    -30628   ...    13792     -8068    -25541     26610    -18842  
  -20480     -7600     25416    -27303     28764   ...   -21024     18556     21051     25586    -10650  

Output:
  -20928      1431      8298     -1595     28636   ...   -32620    -28700    -22496    -17050     -5997  
  -20928     19095     -6038     21445      5084   ...   -31340      2020     -4832    -10394     14739  
  -20928    -28777    -20374    -21051    -18468   ...   -30060     32740     12832     -3738    -30061  
  -20928    -11113     30826      1989     23516   ...   -28780     -2076     30496      2918     -9325  
  -20928      6551     16490     25029       -36   ...   -27500     28644    -17376      9574     11411  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2301.00us.
Avg NPU gflops: 145.83

Min NPU matmul time: 2301.00us.
Max NPU gflops: 145.83

Max NPU matmul time: 2301.00us.
Min NPU gflops: 145.83

Error count: 131068


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1280 -N 768 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1280x768_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1280x768_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1280x768_64x64x64_4c.txt ../build/aie_256x1280x768_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x768_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x768_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x768_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.3s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1280x768_64x64x64_4c.xclbin -i build/insts_256x1280x768_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1280 -N 768 --b_col_maj 0
Final M=256
Final K=1280
Final N=768
Matrix has been padded

Avg NPU matmul time: 3364us.
Avg NPU gflops: 149.618

Min NPU matmul time: 3364us.
Max NPU gflops: 149.618

Max NPU matmul time: 3364us.
Min NPU gflops: 149.618

PASS!

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1280 -N 1024 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1280x1024_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1280x1024_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1280x1024_64x64x64_4c.txt ../build/aie_256x1280x1024_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x1024_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x1024_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x1024_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1280x1024_64x64x64_4c.xclbin -i build/insts_256x1280x1024_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1280 -N 1024 --b_col_maj 0
Final M=256
Final K=1280
Final N=1152
Matrix has been padded
[    0,     0] -18432.00 =!= 29696.00
[    0,     1] 6339.00 =!= 2296.00
[    0,     2] -6794.00 =!= 31438.00
[    0,     3] 13868.00 =!= -24393.00
[    0,     4] -19796.00 =!= 12476.00
[    0,     5] 636.00 =!= -24207.00
[    0,     6] 24282.00 =!= 22314.00
[    0,     7] 10825.00 =!= -19573.00
[    0,     8] -28504.00 =!= -25344.00
[    0,     9] 11619.00 =!= -6635.00
[    0,    10] 21176.00 =!= 878.00
[    0,    11] 22436.00 =!= -1338.00
[    0,    12] -4244.00 =!= -8264.00
[    0,    13] 16296.00 =!= 26490.00
[    0,    14] -24434.00 =!= 7794.00
[    0,    15] -28984.00 =!= 29960.00
[    0,    16] 32064.00 =!= -24816.00
[    0,    17] 4467.00 =!= 32471.00
[    0,    18] -12960.00 =!= 22012.00
[    0,    19] -32313.00 =!= -17277.00
[    0,    20] 4196.00 =!= 6660.00
[    0,    21] -27762.00 =!= 12322.00
[    0,    22] -19916.00 =!= 27402.00
[    0,    23] -23790.00 =!= 3815.00
[    0,    24] 8576.00 =!= -3680.00
[    0,    25] 2274.00 =!= -5480.00
[    0,    26] -10782.00 =!= 27688.00
[    0,    27] -29370.00 =!= 31532.00
[    0,    28] -32668.00 =!= -700.00
[    0,    29] 29433.00 =!= -30120.00
[    0,    30] 5440.00 =!= -30626.00
[    0,    31] 7804.00 =!= -27722.00
...and 262103 further errors.
Maximum relative error: 200%

Reference:
   29696      2296     31438    -24393     12476   ...    26173     26568     27042    -12870     -2921  
   29696    -17672     28366    -16457    -22340   ...    21565     -2104     -7006      6586     -8297  
   29696     27896     25294     -8521      8380   ...    16957    -30776     24482     26042    -13673  
   29696      7928     22222      -585    -26436   ...    12349      6088     -9566    -20038    -19049  
   29696    -12040     19150      7351      4284   ...     7741    -22584     21922      -582    -24425  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   29696    -28936    -18738      1463    -10052   ...   -16323    -26680       674     20922     23959  
   29696     16632    -21810      9399     20668   ...   -20931     10184     32162    -25158     18583  
   29696     -3336    -24882     17335    -14148   ...   -25539    -18488     -1886     -5702     13207  
   29696    -23304    -27954     25271     16572   ...   -30147     18376     29602     13754      7831  
   29696     22264    -31026    -32329    -18244   ...    30781    -10296     -4446    -32326      2455  

Output:
  -18432      6339     -6794     13868    -19796   ...   -18164     13236    -20633     15886     21391  
   14336     -3901    -18058     24876      7852   ...   -14836    -16460    -13721     15374     29327  
  -18432    -14141    -29322    -29652    -30036   ...   -11508     19380     -6809     14862    -28273  
   14336    -24381     24950    -18644     -2388   ...    -8180    -10316       103     14350    -20337  
  -18432     30915     13686     -7636     25260   ...    -4852     25524      7015     13838    -12401  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2550.00us.
Avg NPU gflops: 263.17

Min NPU matmul time: 2550.00us.
Max NPU gflops: 263.17

Max NPU matmul time: 2550.00us.
Min NPU gflops: 263.17

Error count: 262135


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1280 -N 1280 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1280x1280_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1280x1280_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1280x1280_64x64x64_4c.txt ../build/aie_256x1280x1280_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x1280_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x1280_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x1280_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1280x1280_64x64x64_4c.xclbin -i build/insts_256x1280x1280_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1280 -N 1280 --b_col_maj 0
Final M=256
Final K=1280
Final N=1344
Matrix has been padded
[    0,     0] 8896.00 =!= 18688.00
[    0,     1] -29090.00 =!= -8520.00
[    0,     2] 5054.00 =!= -12288.00
[    0,     3] -20646.00 =!= -3220.00
[    0,     4] -30932.00 =!= -980.00
[    0,     5] 22037.00 =!= -30503.00
[    0,     6] 9866.00 =!= 31776.00
[    0,     7] -17233.00 =!= 30575.00
[    0,     8] -2304.00 =!= 17416.00
[    0,     9] 28226.00 =!= -3194.00
[    0,    10] 1936.00 =!= -2472.00
[    0,    11] -4681.00 =!= -3059.00
[    0,    12] -9748.00 =!= 29324.00
[    0,    13] -12329.00 =!= -12857.00
[    0,    14] 218.00 =!= -31580.00
[    0,    15] 29313.00 =!= -16488.00
[    0,    16] 13552.00 =!= 13328.00
[    0,    17] 14075.00 =!= 8656.00
[    0,    18] -12888.00 =!= 14710.00
[    0,    19] 17073.00 =!= 31811.00
[    0,    20] -17872.00 =!= 3548.00
[    0,    21] 6245.00 =!= 30859.00
[    0,    22] 23778.00 =!= 5664.00
[    0,    23] 29942.00 =!= -7158.00
[    0,    24] 12840.00 =!= 18640.00
[    0,    25] -10350.00 =!= 9485.00
[    0,    26] 2616.00 =!= 22382.00
[    0,    27] -7328.00 =!= 16330.00
[    0,    28] -12696.00 =!= -27300.00
[    0,    29] -27673.00 =!= 22872.00
[    0,    30] 27202.00 =!= 20396.00
[    0,    31] -27778.00 =!= -15383.00
...and 327646 further errors.
Maximum relative error: 200%

Reference:
   18688     -8520    -12288     -3220      -980   ...   -17440      2884    -26115    -25942     -1158  
   18688    -21576     31232     -3220    -13268   ...    -3616     -4284     -4867     31402    -30342  
   18688     30904      9216     -3220    -25556   ...    10208    -11452     16381     23210      6010  
   18688     17848    -12800     -3220     27692   ...    24032    -18620    -27907     15018    -23174  
   18688      4792     30720     -3220     15404   ...   -27680    -25788     -6659      6826     13178  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   18688     -8776     32256     -3220     -5076   ...   -21024    -26812     -1283     15018     13690  
   18688    -21832     10240     -3220    -17364   ...    -7200     31556     19965      6826    -15494  
   18688     30648    -11776     -3220    -29652   ...     6624     24388    -24323     -1366     20858  
   18688     17592     31744     -3220     23596   ...    20448     17220     -3075     -9558     -8326  
   18688      4536      9728     -3220     11308   ...   -31264     10052     18173    -17750     28026  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1280 -N 1536 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1280x1536_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1280x1536_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1280x1536_64x64x64_4c.txt ../build/aie_256x1280x1536_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x1536_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x1536_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x1536_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1280x1536_64x64x64_4c.xclbin -i build/insts_256x1280x1536_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1280 -N 1536 --b_col_maj 0
Final M=256
Final K=1280
Final N=1536
Matrix has been padded

Avg NPU matmul time: 2834us.
Avg NPU gflops: 355.199

Min NPU matmul time: 2834us.
Max NPU gflops: 355.199

Max NPU matmul time: 2834us.
Min NPU gflops: 355.199

PASS!

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1280 -N 1792 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1280x1792_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1280x1792_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1280x1792_64x64x64_4c.txt ../build/aie_256x1280x1792_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x1792_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x1792_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x1792_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1280x1792_64x64x64_4c.xclbin -i build/insts_256x1280x1792_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1280 -N 1792 --b_col_maj 0
Final M=256
Final K=1280
Final N=1920
Matrix has been padded
[    0,     0] -32512.00 =!= 5888.00
[    0,     1] -19934.00 =!= -32457.00
[    0,     2] 10568.00 =!= 31144.00
[    0,     3] -7999.00 =!= 27638.00
[    0,     4] 4380.00 =!= -8044.00
[    0,     5] 2145.00 =!= 9384.00
[    0,     6] -19410.00 =!= 21548.00
[    0,     7] -6494.00 =!= -6958.00
[    0,     8] 30880.00 =!= -31808.00
[    0,     9] -29323.00 =!= 12452.00
[    0,    10] 13296.00 =!= 10670.00
[    0,    11] 2403.00 =!= -17142.00
[    0,    12] 32176.00 =!= 16528.00
[    0,    13] -22425.00 =!= -16748.00
[    0,    14] -10072.00 =!= 17490.00
[    0,    15] 9959.00 =!= -24483.00
[    0,    16] 32320.00 =!= 20736.00
[    0,    17] -23471.00 =!= 4686.00
[    0,    18] -17076.00 =!= 12382.00
[    0,    19] 18980.00 =!= 4736.00
[    0,    20] -10744.00 =!= 8184.00
[    0,    21] -18754.00 =!= -13664.00
[    0,    22] 23336.00 =!= 3886.00
[    0,    23] -3239.00 =!= -8931.00
[    0,    24] -5912.00 =!= -15560.00
[    0,    25] -21379.00 =!= 2389.00
[    0,    26] 1620.00 =!= 2942.00
[    0,    27] 28873.00 =!= 14384.00
[    0,    28] -20492.00 =!= -6900.00
[    0,    29] -14097.00 =!= 19088.00
[    0,    30] -27446.00 =!= -22336.00
[    0,    31] -29118.00 =!= 25107.00
...and 458700 further errors.
Maximum relative error: 200%

Reference:
    5888    -32457     31144     27638     -8044   ...    26396     -9824      9620     31332     -2435  
    5888    -20169     27560      6902    -14188   ...    16924      6560     17044    -32156     12157  
    5888     -7881     23976    -13834    -20332   ...     7452     22944     24468    -30108     26749  
    5888      4407     20392     30966    -26476   ...    -2020    -26208     31892    -28060    -24195  
    5888     16695     16808     10230    -32620   ...   -11492     -9824    -26220    -26012     -9603  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
    5888    -28361    -16472       246     22676   ...     8220    -26208    -27500     21092     -9859  
    5888    -16073    -20056    -20490     16532   ...    -1252     -9824    -20076     23140      4733  
    5888     -3785    -23640     24310     10388   ...   -10724      6560    -12652     25188     19325  
    5888      8503    -27224      3574      4244   ...   -20196     22944     -5228     27236    -31619  
    5888     20791    -30808    -17162     -1900   ...   -29668    -26208      2196     29284    -17027  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1280 -N 2048 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1280x2048_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1280x2048_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1280x2048_64x64x64_4c.txt ../build/aie_256x1280x2048_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x2048_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x2048_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x2048_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1280x2048_64x64x64_4c.xclbin -i build/insts_256x1280x2048_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1280 -N 2048 --b_col_maj 0
Final M=256
Final K=1280
Final N=2112
Matrix has been padded
[    0,     0] 4544.00 =!= 20480.00
[    0,     1] 21414.00 =!= -32024.00
[    0,     2] 14514.00 =!= -2160.00
[    0,     3] 18716.00 =!= 31486.00
[    0,     4] -23772.00 =!= -23428.00
[    0,     5] -5145.00 =!= 3302.00
[    0,     6] -14438.00 =!= -5216.00
[    0,     7] -7739.00 =!= -31683.00
[    0,     8] -7216.00 =!= -26792.00
[    0,     9] -26055.00 =!= -12832.00
[    0,    10] -26800.00 =!= 27808.00
[    0,    11] -22009.00 =!= -2393.00
[    0,    12] 7896.00 =!= -10208.00
[    0,    13] 4435.00 =!= -5305.00
[    0,    14] 11158.00 =!= 30060.00
[    0,    15] -21113.00 =!= 13906.00
[    0,    16] 10240.00 =!= 32000.00
[    0,    17] 8036.00 =!= 7629.00
[    0,    18] 23242.00 =!= 20938.00
[    0,    19] 30164.00 =!= -25824.00
[    0,    20] -10664.00 =!= -9848.00
[    0,    21] 12946.00 =!= 26061.00
[    0,    22] -3934.00 =!= -9960.00
[    0,    23] -23402.00 =!= -21589.00
[    0,    24] -2904.00 =!= -1688.00
[    0,    25] -26328.00 =!= 22584.00
[    0,    26] -30686.00 =!= -20974.00
[    0,    27] -17502.00 =!= -557.00
[    0,    28] -28928.00 =!= 31784.00
[    0,    29] 13851.00 =!= -20097.00
[    0,    30] -8934.00 =!= -21786.00
[    0,    31] 10920.00 =!= -22479.00
...and 524250 further errors.
Maximum relative error: 200%

Reference:
   20480    -32024     -2160     31486    -23428   ...   -21877    -29136    -19527     28742    -18565  
   20480    -31000    -13424     29438    -21380   ...   -22645     20016     29881     31814    -16005  
   20480    -29976    -24688     27390    -19332   ...   -23413      3632     13753    -30650    -13445  
   20480    -28952     29584     25342    -17284   ...   -24181    -12752     -2375    -27578    -10885  
   20480    -27928     18320     23294    -15236   ...   -24949    -29136    -18503    -24506     -8325  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   20480     28392    -11376    -23810     31868   ...   -18037    -12752     -4423     13382    -31365  
   20480     29416    -22640    -25858    -31620   ...   -18805    -29136    -20551     16454    -28805  
   20480     30440     31632    -27906    -29572   ...   -19573     20016     28857     19526    -26245  
   20480     31464     20368    -29954    -27524   ...   -20341      3632     12729     22598    -23685  
   20480     32488      9104    -32002    -25476   ...   -21109    -12752     -3399     25670    -21125  

Output:
    4544     21414     14514     18716    -23772   ...    16948     28612     13692    -28066    -22035  
   20928    -18778     -4942    -26596    -30940   ...   -32204      7108     17532      5214    -23571  
  -28224      6566    -24398     -6372     27428   ...   -15820    -14396     21372    -27042    -25107  
  -11840     31910     21682     13852     20260   ...      564     29636     25212      6238    -26643  
    4544     -8282      2226    -31460     13092   ...    16948      8132     29052    -26018    -28179  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 3109.00us.
Avg NPU gflops: 431.71

Min NPU matmul time: 3109.00us.
Max NPU gflops: 431.71

Max NPU matmul time: 3109.00us.
Min NPU gflops: 431.71

Error count: 524282


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1280 -N 2304 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1280x2304_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1280x2304_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1280x2304_64x64x64_4c.txt ../build/aie_256x1280x2304_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x2304_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x2304_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x2304_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.3s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1280x2304_64x64x64_4c.xclbin -i build/insts_256x1280x2304_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1280 -N 2304 --b_col_maj 0
Final M=256
Final K=1280
Final N=2304
Matrix has been padded

Avg NPU matmul time: 3359us.
Avg NPU gflops: 449.523

Min NPU matmul time: 3359us.
Max NPU gflops: 449.523

Max NPU matmul time: 3359us.
Min NPU gflops: 449.523

PASS!

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1280 -N 2560 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1280x2560_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1280x2560_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1280x2560_64x64x64_4c.txt ../build/aie_256x1280x2560_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x2560_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x2560_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x2560_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1280x2560_64x64x64_4c.xclbin -i build/insts_256x1280x2560_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1280 -N 2560 --b_col_maj 0
Final M=256
Final K=1280
Final N=2688
Matrix has been padded
[    0,     0] -13056.00 =!= -27136.00
[    0,     1] 1318.00 =!= -782.00
[    0,     2] -5602.00 =!= -27068.00
[    0,     3] -25897.00 =!= -24707.00
[    0,     4] -7236.00 =!= 10088.00
[    0,     5] 4431.00 =!= 19182.00
[    0,     6] 18968.00 =!= 7876.00
[    0,     7] 13736.00 =!= 13544.00
[    0,     8] 17800.00 =!= -22816.00
[    0,     9] -24434.00 =!= -21888.00
[    0,    10] -23256.00 =!= 20794.00
[    0,    11] -29031.00 =!= 17720.00
[    0,    12] -24044.00 =!= 25856.00
[    0,    13] 7106.00 =!= -25223.00
[    0,    14] -25104.00 =!= -19572.00
[    0,    15] -24588.00 =!= -10943.00
[    0,    16] -13472.00 =!= 18880.00
[    0,    17] 14641.00 =!= 18297.00
[    0,    18] -32572.00 =!= -5036.00
[    0,    19] -4692.00 =!= 2151.00
[    0,    20] -1184.00 =!= 23244.00
[    0,    21] -20217.00 =!= -32231.00
[    0,    22] -15410.00 =!= 15338.00
[    0,    23] 28318.00 =!= 32245.00
[    0,    24] 23032.00 =!= -12120.00
[    0,    25] -3931.00 =!= 5058.00
[    0,    26] -7236.00 =!= -10872.00
[    0,    27] -29045.00 =!= -24250.00
[    0,    28] -7252.00 =!= 26772.00
[    0,    29] 766.00 =!= -3775.00
[    0,    30] 24556.00 =!= 12224.00
[    0,    31] 15589.00 =!= 6027.00
...and 655307 further errors.
Maximum relative error: 200%

Reference:
  -27136      -782    -27068    -24707     10088   ...    -1077     29456     25054     -1274     -6766  
  -27136     22258      5700    -10627     18280   ...    10699    -23792    -22306     15110       402  
  -27136    -20238    -27068      3453     26472   ...    22475    -11504     -4130     31494      7570  
  -27136      2802      5700     17533    -30872   ...   -31285       784     14046    -17658     14738  
  -27136     25842    -27068     31613    -22680   ...   -19509     13072     32222     -1274     21906  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
  -27136     15090      5700    -29571    -30872   ...     5579    -31984      -290    -17658     22930  
  -27136    -27406    -27068    -15491    -22680   ...    17355    -19696     17886     -1274     30098  
  -27136     -4366      5700     -1411    -14488   ...    29131     -7408    -29474     15110    -28270  
  -27136     18674    -27068     12669     -6296   ...   -24629      4880    -11298     31494    -21102  
  -27136    -23822      5700     26749      1896   ...   -12853     17168      6878    -17658    -13934  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1280 -N 2816 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1280x2816_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1280x2816_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1280x2816_64x64x64_4c.txt ../build/aie_256x1280x2816_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x2816_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x2816_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x2816_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.3s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1280x2816_64x64x64_4c.xclbin -i build/insts_256x1280x2816_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1280 -N 2816 --b_col_maj 0
Final M=256
Final K=1280
Final N=2880
Matrix has been padded
[    0,     0] -9664.00 =!= 16640.00
[    0,     1] 9856.00 =!= -4538.00
[    0,     2] 22148.00 =!= -5124.00
[    0,     3] 12152.00 =!= 17615.00
[    0,     4] -5432.00 =!= -2988.00
[    0,     5] 13731.00 =!= -9048.00
[    0,     6] 31928.00 =!= 668.00
[    0,     7] 13128.00 =!= -16029.00
[    0,     8] -27416.00 =!= 13800.00
[    0,     9] 17158.00 =!= -31691.00
[    0,    10] -5880.00 =!= 10492.00
[    0,    11] 5278.00 =!= 23716.00
[    0,    12] 6848.00 =!= 22496.00
[    0,    13] -24008.00 =!= -20939.00
[    0,    14] -22794.00 =!= -16298.00
[    0,    15] -28517.00 =!= 23894.00
[    0,    16] -22560.00 =!= 2240.00
[    0,    17] 1344.00 =!= 13261.00
[    0,    18] 9030.00 =!= 21436.00
[    0,    19] 78.00 =!= -25561.00
[    0,    20] 19212.00 =!= 15640.00
[    0,    21] 4956.00 =!= 19333.00
[    0,    22] -32640.00 =!= 17728.00
[    0,    23] 26863.00 =!= -7812.00
[    0,    24] 7976.00 =!= 1200.00
[    0,    25] 20520.00 =!= -9191.00
[    0,    26] -10258.00 =!= 27524.00
[    0,    27] 20158.00 =!= -19637.00
[    0,    28] -32648.00 =!= 10088.00
[    0,    29] 16858.00 =!= 18555.00
[    0,    30] 32438.00 =!= 28306.00
[    0,    31] 31843.00 =!= 32416.00
...and 720843 further errors.
Maximum relative error: 200%

Reference:
   16640     -4538     -5124     17615     -2988   ...    13106     -1872    -31470       378    -14544  
   16640     -5050     -9732    -14385     16468   ...   -31438     21680    -13550     -1670     13616  
   16640     -5562    -14340     19151    -29612   ...   -10446    -20304      4370     -3718    -23760  
   16640     -6074    -18948    -12849    -10156   ...    10546      3248     22290     -5766      4400  
   16640     -6586    -23556     20687      9300   ...    31538     26800    -25326     -7814     32560  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   16640     -1978     17916    -18993     30804   ...   -26318     11440     10002     10618    -24272  
   16640     -2490     13308     14543    -15276   ...    -5326    -30544     27922      8570      3888  
   16640     -3002      8700    -17457      4180   ...    15666     -6992    -19694      6522     32048  
   16640     -3514      4092     16079     23636   ...   -28878     16560     -1774      4474     -5328  
   16640     -4026      -516    -15921    -22444   ...    -7886    -25424     16146      2426     22832  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1280 -N 3072 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1280x3072_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1280x3072_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1280x3072_64x64x64_4c.txt ../build/aie_256x1280x3072_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x3072_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x3072_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x3072_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1280x3072_64x64x64_4c.xclbin -i build/insts_256x1280x3072_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1280 -N 3072 --b_col_maj 0
Final M=256
Final K=1280
Final N=3072
Matrix has been padded

Avg NPU matmul time: 3472us.
Avg NPU gflops: 579.858

Min NPU matmul time: 3472us.
Max NPU gflops: 579.858

Max NPU matmul time: 3472us.
Min NPU gflops: 579.858

PASS!

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1280 -N 3328 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1280x3328_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1280x3328_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1280x3328_64x64x64_4c.txt ../build/aie_256x1280x3328_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x3328_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x3328_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x3328_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.3s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1280x3328_64x64x64_4c.xclbin -i build/insts_256x1280x3328_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1280 -N 3328 --b_col_maj 0
Final M=256
Final K=1280
Final N=3456
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1280 -N 3584 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1280x3584_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1280x3584_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1280x3584_64x64x64_4c.txt ../build/aie_256x1280x3584_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x3584_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x3584_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x3584_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1280x3584_64x64x64_4c.xclbin -i build/insts_256x1280x3584_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1280 -N 3584 --b_col_maj 0
Final M=256
Final K=1280
Final N=3648
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1280 -N 3840 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1280x3840_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1280x3840_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1280x3840_64x64x64_4c.txt ../build/aie_256x1280x3840_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x3840_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x3840_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x3840_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.3s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1280x3840_64x64x64_4c.xclbin -i build/insts_256x1280x3840_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1280 -N 3840 --b_col_maj 0
Final M=256
Final K=1280
Final N=3840
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1280 -N 4096 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1280x4096_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1280x4096_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1280x4096_64x64x64_4c.txt ../build/aie_256x1280x4096_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x4096_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x4096_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1280x4096_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1280x4096_64x64x64_4c.xclbin -i build/insts_256x1280x4096_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1280 -N 4096 --b_col_maj 0
Final M=256
Final K=1280
Final N=4224
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1536 -N 256 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1536x256_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1536x256_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1536x256_64x64x64_4c.txt ../build/aie_256x1536x256_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x256_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x256_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x256_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1536x256_64x64x64_4c.xclbin -i build/insts_256x1536x256_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1536 -N 256 --b_col_maj 0
Final M=256
Final K=1536
Final N=384
Matrix has been padded
[    0,     0] -4736.00 =!= -22528.00
[    0,     1] 21370.00 =!= 31726.00
[    0,     2] 24194.00 =!= -3186.00
[    0,     3] -12897.00 =!= 22372.00
[    0,     4] -14160.00 =!= 8992.00
[    0,     5] -30314.00 =!= -20164.00
[    0,     6] -32334.00 =!= -10524.00
[    0,     7] -20078.00 =!= 2054.00
[    0,     8] -12192.00 =!= -32176.00
[    0,     9] 3781.00 =!= -20537.00
[    0,    10] 1384.00 =!= -26956.00
[    0,    11] -537.00 =!= -7692.00
[    0,    12] -23620.00 =!= -6624.00
[    0,    13] 29936.00 =!= -892.00
[    0,    14] 11792.00 =!= 27194.00
[    0,    15] 13322.00 =!= 7568.00
[    0,    16] 25040.00 =!= 22112.00
[    0,    17] 27363.00 =!= -21090.00
[    0,    18] -4570.00 =!= 4456.00
[    0,    19] -23918.00 =!= 11428.00
[    0,    20] 25192.00 =!= -5128.00
[    0,    21] 13035.00 =!= -10892.00
[    0,    22] 28718.00 =!= 14050.00
[    0,    23] 878.00 =!= -9834.00
[    0,    24] 28728.00 =!= -18552.00
[    0,    25] -10338.00 =!= -1168.00
[    0,    26] -31318.00 =!= -21218.00
[    0,    27] -15449.00 =!= 24083.00
[    0,    28] 22632.00 =!= -13140.00
[    0,    29] 14759.00 =!= -7962.00
[    0,    30] -12508.00 =!= 30294.00
[    0,    31] 24516.00 =!= 2454.00
...and 65496 further errors.
Maximum relative error: 200%

Reference:
  -22528     31726     -3186     22372      8992   ...    19290     12916    -10179    -31824    -16888  
  -22528     -2066      8078     20836     25376   ...    -8870     25204    -22467     27568     -6648  
  -22528     29678     19342     19300    -23776   ...    28506    -28044     30781     21424      3592  
  -22528     -4114     30606     17764     -7392   ...      346    -15756     18493     15280     13832  
  -22528     27630    -23666     16228      8992   ...   -27814     -3468      6205      9136     24072  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
  -22528      4078      6030     30052     -7392   ...    29018     17012    -14275     -1104     -2552  
  -22528    -29714     17294     28516      8992   ...      858     29300    -26563     -7248      7688  
  -22528      2030     28558     26980     25376   ...   -27302    -23948     26685    -13392     17928  
  -22528    -31762    -25714     25444    -23776   ...    10074    -11660     14397    -19536     28168  
  -22528       -18    -14450     23908     -7392   ...   -18086       628      2109    -25680    -27128  

Output:
   -4736     21370     24194    -12897    -14160   ...   -26413     32504     32144    -28584    -28880  
   -4736     -9862     31362    -24673       176   ...    14035    -30984     22928     29784     25392  
   -4736     24442    -27006     29087     14512   ...   -11053    -28936     13712     22616     14128  
   -4736     -6790    -19838     17311     28848   ...    29395    -26888      4496     15448      2864  
   -4736     27514    -12670      5535    -22352   ...     4307    -24840     -4720      8280     -8400  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2205.00us.
Avg NPU gflops: 91.30

Min NPU matmul time: 2205.00us.
Max NPU gflops: 91.30

Max NPU matmul time: 2205.00us.
Min NPU gflops: 91.30

Error count: 65528


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1536 -N 512 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1536x512_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1536x512_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1536x512_64x64x64_4c.txt ../build/aie_256x1536x512_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x512_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x512_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x512_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1536x512_64x64x64_4c.xclbin -i build/insts_256x1536x512_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1536 -N 512 --b_col_maj 0
Final M=256
Final K=1536
Final N=576
Matrix has been padded
[    0,     0] -24512.00 =!= -6144.00
[    0,     1] 8029.00 =!= -21016.00
[    0,     2] -10932.00 =!= -4982.00
[    0,     3] 14649.00 =!= 31468.00
[    0,     4] -6192.00 =!= 18916.00
[    0,     5] 2737.00 =!= 12210.00
[    0,     6] -10448.00 =!= 1016.00
[    0,     7] -19071.00 =!= 19539.00
[    0,     8] 29464.00 =!= 2248.00
[    0,     9] 15188.00 =!= -14906.00
[    0,    10] -4788.00 =!= -27922.00
[    0,    11] 28041.00 =!= -29120.00
[    0,    12] 2896.00 =!= -1220.00
[    0,    13] 17872.00 =!= -9848.00
[    0,    14] -398.00 =!= 27418.00
[    0,    15] 20791.00 =!= -1838.00
[    0,    16] -9920.00 =!= -15856.00
[    0,    17] -16518.00 =!= -27680.00
[    0,    18] -19900.00 =!= -236.00
[    0,    19] 32001.00 =!= 19411.00
[    0,    20] 23576.00 =!= 6752.00
[    0,    21] -31770.00 =!= 4999.00
[    0,    22] -4674.00 =!= -11374.00
[    0,    23] -27902.00 =!= 20077.00
[    0,    24] -256.00 =!= 16416.00
[    0,    25] 21656.00 =!= 22801.00
[    0,    26] 11090.00 =!= -23964.00
[    0,    27] -29926.00 =!= 26547.00
[    0,    28] -27000.00 =!= -27848.00
[    0,    29] 146.00 =!= 20494.00
[    0,    30] -25574.00 =!= -7780.00
[    0,    31] -7158.00 =!= -14960.00
...and 131040 further errors.
Maximum relative error: 100%

Reference:
   -6144    -21016     -4982     31468     18916   ...    32352     10096    -14256     12594      8967  
   -6144    -28184     -9078     28908     -7708   ...   -11680      3952     -7088    -16078     16135  
   -6144     30184    -13174     26348     31204   ...     9824     -2192        80     20786     23303  
   -6144     23016    -17270     23788      4580   ...    31328     -8336      7248     -7886     30471  
   -6144     15848    -21366     21228    -22044   ...   -12704    -14480     14416     28978    -27897  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   -6144     14824     15498    -21268     20964   ...    -9632    -24720     15440     24882    -26873  
   -6144      7656     11402    -23828     -5660   ...    11872    -30864     22608     -3790    -19705  
   -6144       488      7306    -26388    -32284   ...   -32160     28528     29776    -32462    -12537  
   -6144     -6680      3210    -28948      6628   ...   -10656     22384    -28592      4402     -5369  
   -6144    -13848      -886    -31508    -19996   ...    10848     16240    -21424    -24270      1799  

Output:
  -24512      8029    -10932     14649     -6192   ...    25517     14524     -5929     -3764    -24849  
    8256    -27811     15692    -27847       -48   ...     8621     24764    -16681       332      3823  
  -24512      1885    -23220     -4807      6096   ...    -8275    -30532    -27433      4428     32495  
    8256     31581      3404     18233     12240   ...   -25171    -20292     27351      8524     -4369  
  -24512     -4259     30028    -24263     18384   ...    23469    -10052     16599     12620     24303  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2275.00us.
Avg NPU gflops: 176.99

Min NPU matmul time: 2275.00us.
Max NPU gflops: 176.99

Max NPU matmul time: 2275.00us.
Min NPU gflops: 176.99

Error count: 131072


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1536 -N 768 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1536x768_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1536x768_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1536x768_64x64x64_4c.txt ../build/aie_256x1536x768_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x768_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x768_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x768_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1536x768_64x64x64_4c.xclbin -i build/insts_256x1536x768_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1536 -N 768 --b_col_maj 0
Final M=256
Final K=1536
Final N=768
Matrix has been padded

Avg NPU matmul time: 2566us.
Avg NPU gflops: 235.378

Min NPU matmul time: 2566us.
Max NPU gflops: 235.378

Max NPU matmul time: 2566us.
Min NPU gflops: 235.378

PASS!

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1536 -N 1024 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1536x1024_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1536x1024_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1536x1024_64x64x64_4c.txt ../build/aie_256x1536x1024_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x1024_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x1024_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x1024_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1536x1024_64x64x64_4c.xclbin -i build/insts_256x1536x1024_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1536 -N 1024 --b_col_maj 0
Final M=256
Final K=1536
Final N=1152
Matrix has been padded
[    0,     0] -26368.00 =!= -3072.00
[    0,     1] 32748.00 =!= 23339.00
[    0,     2] -11260.00 =!= -1130.00
[    0,     3] -3393.00 =!= 16550.00
[    0,     4] -30476.00 =!= -7592.00
[    0,     5] -16035.00 =!= 58.00
[    0,     6] -8166.00 =!= 2042.00
[    0,     7] -3599.00 =!= -8173.00
[    0,     8] 23568.00 =!= 16072.00
[    0,     9] -12063.00 =!= -14036.00
[    0,    10] -24846.00 =!= 1878.00
[    0,    11] 31913.00 =!= 22284.00
[    0,    12] 16020.00 =!= 30044.00
[    0,    13] -19677.00 =!= 20147.00
[    0,    14] -30766.00 =!= -4194.00
[    0,    15] 27561.00 =!= 23032.00
[    0,    16] -19296.00 =!= 21824.00
[    0,    17] -18665.00 =!= 3494.00
[    0,    18] -3720.00 =!= -4844.00
[    0,    19] 31981.00 =!= -10820.00
[    0,    20] 27144.00 =!= -3992.00
[    0,    21] 31554.00 =!= 10073.00
[    0,    22] -26412.00 =!= -31214.00
[    0,    23] 22894.00 =!= 10980.00
[    0,    24] -832.00 =!= 8632.00
[    0,    25] 7023.00 =!= 28180.00
[    0,    26] 9830.00 =!= -15714.00
[    0,    27] -8079.00 =!= 19424.00
[    0,    28] -29376.00 =!= -13736.00
[    0,    29] 27600.00 =!= 9121.00
[    0,    30] -16104.00 =!= -7416.00
[    0,    31] 20615.00 =!= 32052.00
...and 262110 further errors.
Maximum relative error: 100%

Reference:
   -3072     23339     -1130     16550     -7592   ...     -138    -16452     -5104      4610     21924  
   -3072     -5333     29590      -346    -19880   ...    13174    -16452      -496     25090     -3164  
   -3072     31531     -5226    -17242    -32168   ...    26486    -16452      4112    -19966    -28252  
   -3072      2859     25494     31398     21080   ...   -25738    -16452      8720       514     12196  
   -3072    -25813     -9322     14502      8792   ...   -12426    -16452     13328     20994    -12892  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   -3072    -29909    -23658    -30042    -11688   ...    -1162    -16452    -28144    -32254     16292  
   -3072      6955      7062     18598    -23976   ...    12150    -16452    -23536    -11774     -8796  
   -3072    -21717    -27754      1702     29272   ...    25462    -16452    -18928      8706     31652  
   -3072     15147      2966    -15194     16984   ...   -26762    -16452    -14320     29186      6564  
   -3072    -13525    -31850    -32090      4696   ...   -13450    -16452     -9712    -15870    -18524  

Output:
  -26368     32748    -11260     -3393    -30476   ...   -19306    -25804     -8968    -20164     17878  
  -26368    -10772     23556    -20801    -14092   ...   -32106    -11468     -1800    -19140    -21546  
  -26368     11244     -7164     27327      2292   ...    20630      2868      5368    -18116      4566  
  -26368    -32276     27652      9919     18676   ...     7830     17204     12536    -17092     30678  
  -26368    -10260     -3068     -7489    -30476   ...    -4970     31540     19704    -16068     -8746  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2672.00us.
Avg NPU gflops: 301.39

Min NPU matmul time: 2672.00us.
Max NPU gflops: 301.39

Max NPU matmul time: 2672.00us.
Min NPU gflops: 301.39

Error count: 262142


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1536 -N 1280 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1536x1280_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1536x1280_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1536x1280_64x64x64_4c.txt ../build/aie_256x1536x1280_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x1280_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x1280_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x1280_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.3s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1536x1280_64x64x64_4c.xclbin -i build/insts_256x1536x1280_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1536 -N 1280 --b_col_maj 0
Final M=256
Final K=1536
Final N=1344
Matrix has been padded
[    0,     0] -26112.00 =!= -21504.00
[    0,     1] 9147.00 =!= -27201.00
[    0,     2] 6614.00 =!= -8572.00
[    0,     3] -7977.00 =!= -9289.00
[    0,     4] -17512.00 =!= 24448.00
[    0,     5] -975.00 =!= 29169.00
[    0,     6] -23444.00 =!= 2476.00
[    0,     7] 22240.00 =!= -29338.00
[    0,     8] 6232.00 =!= 7040.00
[    0,     9] 31262.00 =!= 8999.00
[    0,    10] -9864.00 =!= 4468.00
[    0,    11] 22546.00 =!= 25079.00
[    0,    12] 32564.00 =!= 27412.00
[    0,    13] -26687.00 =!= 11639.00
[    0,    14] 15658.00 =!= -19808.00
[    0,    15] 3183.00 =!= -3336.00
[    0,    16] -15536.00 =!= -17248.00
[    0,    17] 19292.00 =!= 5261.00
[    0,    18] 24404.00 =!= 13890.00
[    0,    19] 11695.00 =!= -9996.00
[    0,    20] 27252.00 =!= -16932.00
[    0,    21] 18260.00 =!= 2041.00
[    0,    22] -30624.00 =!= 29628.00
[    0,    23] -2904.00 =!= 32619.00
[    0,    24] -2336.00 =!= 2448.00
[    0,    25] 8217.00 =!= -14514.00
[    0,    26] 19598.00 =!= 7354.00
[    0,    27] -3390.00 =!= 11607.00
[    0,    28] 29016.00 =!= -18348.00
[    0,    29] -30134.00 =!= 1942.00
[    0,    30] 9104.00 =!= -6840.00
[    0,    31] -21763.00 =!= 25886.00
...and 327638 further errors.
Maximum relative error: 200%

Reference:
  -21504    -27201     -8572     -9289     24448   ...   -27124     17468    -18325     -5808    -22377  
  -21504     -5697      4740    -10313      1920   ...    29196     11324    -21397    -32432    -21353  
  -21504     15807     18052    -11337    -20608   ...    19980      5180    -24469      6480    -20329  
  -21504    -28225     31364    -12361     22400   ...    10764      -964    -27541    -20144    -19305  
  -21504     -6721    -20860    -13385      -128   ...     1548     -7108    -30613     18768    -18281  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
  -21504     -3649     -9596     -4169      6016   ...    18956    -17348     -2965     -3760    -27497  
  -21504     17855      3716     -5193    -16512   ...     9740    -23492     -6037    -30384    -26473  
  -21504    -26177     17028     -6217     26496   ...      524    -29636     -9109      8528    -25449  
  -21504     -4673     30340     -7241      3968   ...    -8692     29756    -12181    -18096    -24425  
  -21504     16831    -21884     -8265    -18560   ...   -17908     23612    -15253     20816    -23401  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1536 -N 1536 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1536x1536_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1536x1536_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1536x1536_64x64x64_4c.txt ../build/aie_256x1536x1536_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x1536_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x1536_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x1536_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1536x1536_64x64x64_4c.xclbin -i build/insts_256x1536x1536_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1536 -N 1536 --b_col_maj 0
Final M=256
Final K=1536
Final N=1536
Matrix has been padded

Avg NPU matmul time: 3013us.
Avg NPU gflops: 400.916

Min NPU matmul time: 3013us.
Max NPU gflops: 400.916

Max NPU matmul time: 3013us.
Min NPU gflops: 400.916

PASS!

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1536 -N 1792 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1536x1792_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1536x1792_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1536x1792_64x64x64_4c.txt ../build/aie_256x1536x1792_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x1792_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x1792_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x1792_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1536x1792_64x64x64_4c.xclbin -i build/insts_256x1536x1792_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1536 -N 1792 --b_col_maj 0
Final M=256
Final K=1536
Final N=1920
Matrix has been padded
[    0,     0] 13568.00 =!= -30976.00
[    0,     1] -7972.00 =!= 15315.00
[    0,     2] 13270.00 =!= 28032.00
[    0,     3] 10143.00 =!= -15959.00
[    0,     4] -2544.00 =!= 29360.00
[    0,     5] -10014.00 =!= 24933.00
[    0,     6] -16140.00 =!= -24844.00
[    0,     7] -16522.00 =!= 28146.00
[    0,     8] -9264.00 =!= -24968.00
[    0,     9] 32031.00 =!= -2522.00
[    0,    10] 18354.00 =!= -32198.00
[    0,    11] -26458.00 =!= -9252.00
[    0,    12] -10096.00 =!= -3288.00
[    0,    13] 24868.00 =!= 22234.00
[    0,    14] -22186.00 =!= -17564.00
[    0,    15] 28110.00 =!= -29664.00
[    0,    16] 31376.00 =!= -5648.00
[    0,    17] 20749.00 =!= 1700.00
[    0,    18] -10382.00 =!= 11086.00
[    0,    19] 2009.00 =!= 13431.00
[    0,    20] -30628.00 =!= 52.00
[    0,    21] 17037.00 =!= 17931.00
[    0,    22] 26534.00 =!= 30000.00
[    0,    23] 21902.00 =!= -14812.00
[    0,    24] -3648.00 =!= 15528.00
[    0,    25] -17810.00 =!= 6352.00
[    0,    26] -26434.00 =!= 2088.00
[    0,    27] -17376.00 =!= -32402.00
[    0,    28] -21592.00 =!= 28336.00
[    0,    29] 26900.00 =!= -7333.00
[    0,    30] 22130.00 =!= -12664.00
[    0,    31] 24318.00 =!= 29720.00
...and 458644 further errors.
Maximum relative error: 200%

Reference:
  -30976     15315     28032    -15959     29360   ...    28310     30188     18626     26886     -3099  
  -30976     11219      7552     26025    -15696   ...    14486     17900    -26430     28934    -29723  
  -30976      7123    -12928      2473      4784   ...      662      5612     -5950     30982      9189  
  -30976      3027     32128    -21079     25264   ...   -13162     -6676     14530    -32506    -17435  
  -30976     -1069     11648     20905    -19792   ...   -26986    -18964    -30526    -30458     21477  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
  -30976    -29741      -640    -29271     -7504   ...    31894     26092    -18238     16646     -1051  
  -30976     31699    -21120     12713     12976   ...    18070     13804      2242     18694    -27675  
  -30976     27603     23936    -10839    -32080   ...     4246      1516     22722     20742     11237  
  -30976     23507      3456     31145    -11600   ...    -9578    -10772    -22334     22790    -15387  
  -30976     19411    -17024      7593      8880   ...   -23402    -23060     -1854     24838     23525  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1536 -N 2048 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1536x2048_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1536x2048_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1536x2048_64x64x64_4c.txt ../build/aie_256x1536x2048_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x2048_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x2048_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x2048_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1536x2048_64x64x64_4c.xclbin -i build/insts_256x1536x2048_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1536 -N 2048 --b_col_maj 0
Final M=256
Final K=1536
Final N=2112
Matrix has been padded
[    0,     0] -18432.00 =!= 16384.00
[    0,     1] 10644.00 =!= 5113.00
[    0,     2] -24884.00 =!= 22120.00
[    0,     3] 7365.00 =!= -6234.00
[    0,     4] -5488.00 =!= 19488.00
[    0,     5] -13920.00 =!= -19870.00
[    0,     6] 1364.00 =!= -19292.00
[    0,     7] 21825.00 =!= 5730.00
[    0,     8] -30176.00 =!= 2728.00
[    0,     9] 28421.00 =!= -12461.00
[    0,    10] 26916.00 =!= -15652.00
[    0,    11] 11398.00 =!= -2306.00
[    0,    12] 5820.00 =!= 12696.00
[    0,    13] 8387.00 =!= 27199.00
[    0,    14] 11312.00 =!= -25068.00
[    0,    15] 17627.00 =!= -5531.00
[    0,    16] -1568.00 =!= -13296.00
[    0,    17] 30352.00 =!= 16951.00
[    0,    18] 18206.00 =!= 7454.00
[    0,    19] 13801.00 =!= -17868.00
[    0,    20] 30560.00 =!= -26516.00
[    0,    21] -20923.00 =!= -11911.00
[    0,    22] -26994.00 =!= 15148.00
[    0,    23] -9967.00 =!= -32680.00
[    0,    24] 26280.00 =!= -18792.00
[    0,    25] -29802.00 =!= 1647.00
[    0,    26] -25310.00 =!= -25888.00
[    0,    27] -15698.00 =!= -26671.00
[    0,    28] -844.00 =!= -29184.00
[    0,    29] -22552.00 =!= 9794.00
[    0,    30] -1314.00 =!= 7982.00
[    0,    31] 31256.00 =!= 31239.00
...and 524230 further errors.
Maximum relative error: 200%

Reference:
   16384      5113     22120     -6234     19488   ...   -30251     14288       -27      6540    -25388  
   16384    -13319     31336    -16986     13344   ...   -16427     26576    -28699     14732     29908  
   16384    -31751    -24984    -27738      7200   ...    -2603    -26672      8165     22924     19668  
   16384     15353    -15768     27046      1056   ...    11221    -14384    -20507     31116      9428  
   16384     -3079     -6552     16294     -5088   ...    25045     -2096     16357    -26228      -812  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   16384     31737    -23960    -18010    -15328   ...    31701     18384     12261     31116     25812  
   16384     13305    -14744    -28762    -21472   ...   -20011     30672    -16411    -26228     15572  
   16384     -5127     -5528     26022    -27616   ...    -6187    -22576     20453    -18036      5332  
   16384    -23559      3688     15270     31776   ...     7637    -10288     -8219     -9844     -4908  
   16384     23545     12904      4518     25632   ...    21461      2000     28645     -1652    -15148  

Output:
  -18432     10644    -24884      7365     -5488   ...    20855     15264     31644    -20556    -15686  
   14336     15252     19148     30917    -13680   ...    -9353    -11360     17820    -26700     -5446  
  -18432     19860     -2356    -11067    -21872   ...    25975     27552      3996     32692      4794  
   14336     24468    -23860     12485    -30064   ...    -4233       928     -9828     26548     15034  
  -18432     29076     20172    -29499     27280   ...    31095    -25696    -23652     20404     25274  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 3284.00us.
Avg NPU gflops: 490.44

Min NPU matmul time: 3284.00us.
Max NPU gflops: 490.44

Max NPU matmul time: 3284.00us.
Min NPU gflops: 490.44

Error count: 524262


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1536 -N 2304 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1536x2304_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1536x2304_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1536x2304_64x64x64_4c.txt ../build/aie_256x1536x2304_64x64x64_4c.mlir
[AIE ERROR] _XAie_LoadProgMemSection():231: Overflow of program memory
XAie_LoadElf failed with XAIE_INVALID_ELFFound xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x2304_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Traceback (most recent call last):
  File "/home/mliraie/mlir-aie/my_install/mlir_aie/bin/aiecc.py", line 12, in <module>
    main()
  File "/home/mliraie/mlir-aie/my_install/mlir_aie/python/aie/compiler/aiecc/main.py", line 1280, in main
    run(module_str)
  File "/home/mliraie/mlir-aie/my_install/mlir_aie/python/aie/compiler/aiecc/main.py", line 1254, in run
    asyncio.run(runner.run_flow())
  File "/usr/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/base_events.py", line 687, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/home/mliraie/mlir-aie/my_install/mlir_aie/python/aie/compiler/aiecc/main.py", line 1168, in run_flow
    await self.process_cdo()
  File "/home/mliraie/mlir-aie/my_install/mlir_aie/python/aie/compiler/aiecc/main.py", line 580, in process_cdo
    generate_cdo(input_physical.operation, self.tmpdirname)
ValueError: Failed to generate cdo because: 
make: *** [/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../makefile-common-padding:107: build/final_256x1536x2304_64x64x64_4c.xclbin] Error 1
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1536x2304_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1536x2304_64x64x64_4c.txt ../build/aie_256x1536x2304_64x64x64_4c.mlir
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x2304_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1536 -N 2560 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1536x2560_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1536x2560_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1536x2560_64x64x64_4c.txt ../build/aie_256x1536x2560_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x2560_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x2560_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x2560_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1536x2560_64x64x64_4c.xclbin -i build/insts_256x1536x2560_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1536 -N 2560 --b_col_maj 0
Final M=256
Final K=1536
Final N=2688
Matrix has been padded
[    0,     0] -1664.00 =!= -20992.00
[    0,     1] -10223.00 =!= 7254.00
[    0,     2] 684.00 =!= 26430.00
[    0,     3] 13649.00 =!= -21782.00
[    0,     4] -13428.00 =!= -14760.00
[    0,     5] 12715.00 =!= 23355.00
[    0,     6] -12498.00 =!= 4456.00
[    0,     7] -10084.00 =!= 2454.00
[    0,     8] -22880.00 =!= 27872.00
[    0,     9] -24390.00 =!= 3634.00
[    0,    10] 7166.00 =!= -13156.00
[    0,    11] -18373.00 =!= 30173.00
[    0,    12] 12756.00 =!= 31288.00
[    0,    13] 26865.00 =!= -27243.00
[    0,    14] 17812.00 =!= 17808.00
[    0,    15] 9190.00 =!= -18076.00
[    0,    16] 21824.00 =!= 3104.00
[    0,    17] 6243.00 =!= 10234.00
[    0,    18] 29776.00 =!= 26748.00
[    0,    19] 17260.00 =!= 32596.00
[    0,    20] 5984.00 =!= -19888.00
[    0,    21] 20907.00 =!= -1377.00
[    0,    22] 22830.00 =!= 9238.00
[    0,    23] 18154.00 =!= 23032.00
[    0,    24] -13680.00 =!= 40.00
[    0,    25] -9942.00 =!= -30586.00
[    0,    26] -17714.00 =!= -21614.00
[    0,    27] 32569.00 =!= -18154.00
[    0,    28] -1376.00 =!= -7268.00
[    0,    29] -4643.00 =!= 10957.00
[    0,    30] -10414.00 =!= -19982.00
[    0,    31] 12842.00 =!= -6468.00
...and 655316 further errors.
Maximum relative error: 200%

Reference:
  -20992      7254     26430    -21782    -14760   ...    13877    -14448      9544      7524    -25704  
  -20992     18518      4926    -22294     32344   ...     9269     28560     30024     24932    -14952  
  -20992     29782    -16578    -22806     13912   ...     4661      6032    -15032    -23196     -4200  
  -20992    -24490     27454    -23318     -4520   ...       53    -16496      5448     -5788      6552  
  -20992    -13226      5950    -23830    -22952   ...    -4555     26512     25928     11620     17304  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
  -20992     16470      2878    -19222     11864   ...   -28619     32656    -27320    -13980    -13928  
  -20992     27734    -18626    -19734     -6568   ...    32309     10128     -6840      3428     -3176  
  -20992    -26538     25406    -20246    -25000   ...    27701    -12400     13640     20836      7576  
  -20992    -15274      3902    -20758     22104   ...    23093     30608    -31416    -27292     18328  
  -20992     -4010    -17602    -21270      3672   ...    18485      8080    -10936     -9884     29080  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1536 -N 2816 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1536x2816_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1536x2816_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1536x2816_64x64x64_4c.txt ../build/aie_256x1536x2816_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x2816_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x2816_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x2816_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.3s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1536x2816_64x64x64_4c.xclbin -i build/insts_256x1536x2816_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1536 -N 2816 --b_col_maj 0
Final M=256
Final K=1536
Final N=2880
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1536 -N 3072 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1536x3072_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1536x3072_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1536x3072_64x64x64_4c.txt ../build/aie_256x1536x3072_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x3072_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x3072_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x3072_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1536x3072_64x64x64_4c.xclbin -i build/insts_256x1536x3072_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1536 -N 3072 --b_col_maj 0
Final M=256
Final K=1536
Final N=3072
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1536 -N 3328 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1536x3328_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1536x3328_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1536x3328_64x64x64_4c.txt ../build/aie_256x1536x3328_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x3328_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x3328_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x3328_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.3s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1536x3328_64x64x64_4c.xclbin -i build/insts_256x1536x3328_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1536 -N 3328 --b_col_maj 0
Final M=256
Final K=1536
Final N=3456
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1536 -N 3584 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1536x3584_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1536x3584_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1536x3584_64x64x64_4c.txt ../build/aie_256x1536x3584_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x3584_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x3584_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x3584_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1536x3584_64x64x64_4c.xclbin -i build/insts_256x1536x3584_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1536 -N 3584 --b_col_maj 0
Final M=256
Final K=1536
Final N=3648
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1536 -N 3840 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1536x3840_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1536x3840_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1536x3840_64x64x64_4c.txt ../build/aie_256x1536x3840_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x3840_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x3840_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x3840_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1536x3840_64x64x64_4c.xclbin -i build/insts_256x1536x3840_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1536 -N 3840 --b_col_maj 0
Final M=256
Final K=1536
Final N=3840
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1536 -N 4096 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1536x4096_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1536x4096_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1536x4096_64x64x64_4c.txt ../build/aie_256x1536x4096_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x4096_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x4096_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1536x4096_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1536x4096_64x64x64_4c.xclbin -i build/insts_256x1536x4096_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1536 -N 4096 --b_col_maj 0
Final M=256
Final K=1536
Final N=4224
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1792 -N 256 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1792x256_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1792x256_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1792x256_64x64x64_4c.txt ../build/aie_256x1792x256_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x256_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x256_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x256_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1792x256_64x64x64_4c.xclbin -i build/insts_256x1792x256_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1792 -N 256 --b_col_maj 0
Final M=256
Final K=1792
Final N=384
Matrix has been padded
[    0,     0] 23424.00 =!= -14848.00
[    0,     1] -26729.00 =!= 9127.00
[    0,     2] 14432.00 =!= 5150.00
[    0,     3] 11579.00 =!= -11974.00
[    0,     4] 484.00 =!= -5560.00
[    0,     5] 6132.00 =!= 25774.00
[    0,     6] -9800.00 =!= 28180.00
[    0,     7] 31220.00 =!= -24633.00
[    0,     8] -2640.00 =!= 14256.00
[    0,     9] -21085.00 =!= 4915.00
[    0,    10] -4614.00 =!= 8620.00
[    0,    11] 23984.00 =!= -10820.00
[    0,    12] -4812.00 =!= 28196.00
[    0,    13] -16440.00 =!= -5272.00
[    0,    14] 20888.00 =!= 29256.00
[    0,    15] -32289.00 =!= 19242.00
[    0,    16] -12384.00 =!= -3424.00
[    0,    17] -24798.00 =!= 11037.00
[    0,    18] -17780.00 =!= 2594.00
[    0,    19] -23054.00 =!= -26149.00
[    0,    20] -7040.00 =!= 16864.00
[    0,    21] 22553.00 =!= -29045.00
[    0,    22] 24304.00 =!= -18514.00
[    0,    23] -10473.00 =!= -13943.00
[    0,    24] 11824.00 =!= 5936.00
[    0,    25] -31619.00 =!= 10017.00
[    0,    26] -27688.00 =!= -11890.00
[    0,    27] -26971.00 =!= -28268.00
[    0,    28] -29424.00 =!= 6436.00
[    0,    29] 582.00 =!= 13694.00
[    0,    30] -25228.00 =!= 29454.00
[    0,    31] 12556.00 =!= -30880.00
...and 65504 further errors.
Maximum relative error: 100%

Reference:
  -14848      9127      5150    -11974     -5560   ...    -7785     21340     30510     -7638    -29699  
  -14848      -601    -11746    -26310    -28088   ...    -4201     14172     10286    -32214      7933  
  -14848    -10329    -28642     24890     14920   ...     -617      7004     -9938      8746    -19971  
  -14848    -20057     19998     10554     -7608   ...     2967      -164    -30162    -15830     17661  
  -14848    -29785      3102     -3782    -30136   ...     6551     -7332     15150     25130    -10243  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
  -14848     -7769     24094     -5830    -23992   ...   -25705     -8356       558    -15830    -21251  
  -14848    -17497      7198    -20166     19016   ...   -22121    -15524    -19666     25130     16381  
  -14848    -27225     -9698     31034     -3512   ...   -18537    -22692     25646       554    -11523  
  -14848     28583    -26594     16698    -26040   ...   -14953    -29860      5422    -24022     26109  
  -14848     18855     22046      2362     16968   ...   -11369     28508    -14802     16938     -1795  

Output:
   23424    -26729     14432     11579       484   ...    -8249     -9884     -8495    -19432    -32498  
   -9344     -9321    -17312    -11461     20964   ...     9671      1380     26065     26136      -498  
   23424      8087     16480     31035    -24092   ...    27591     12644     -4911      6168     31502  
   -9344     25495    -15264      7995     -3612   ...   -20025     23908     29649    -13800     -2034  
   23424    -22633     18528    -15045     16868   ...    -2105    -30364     -1327     31768     29966  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2217.00us.
Avg NPU gflops: 105.95

Min NPU matmul time: 2217.00us.
Max NPU gflops: 105.95

Max NPU matmul time: 2217.00us.
Min NPU gflops: 105.95

Error count: 65536


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1792 -N 512 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1792x512_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1792x512_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1792x512_64x64x64_4c.txt ../build/aie_256x1792x512_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x512_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x512_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x512_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1792x512_64x64x64_4c.xclbin -i build/insts_256x1792x512_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1792 -N 512 --b_col_maj 0
Final M=256
Final K=1792
Final N=576
Matrix has been padded
[    0,     0] 22144.00 =!= -11264.00
[    0,     1] 32036.00 =!= -31765.00
[    0,     2] 23622.00 =!= 6252.00
[    0,     3] 32249.00 =!= 4702.00
[    0,     4] -25192.00 =!= -30744.00
[    0,     5] 15251.00 =!= 21645.00
[    0,     6] -15564.00 =!= -27772.00
[    0,     7] -28459.00 =!= 25656.00
[    0,     8] -21096.00 =!= -25528.00
[    0,     9] -18311.00 =!= -28209.00
[    0,    10] -528.00 =!= -27302.00
[    0,    11] -17426.00 =!= -1517.00
[    0,    12] 17944.00 =!= -26696.00
[    0,    13] -5751.00 =!= 28273.00
[    0,    14] -30244.00 =!= -26296.00
[    0,    15] 19700.00 =!= 2449.00
[    0,    16] 26000.00 =!= -19168.00
[    0,    17] 2578.00 =!= -24350.00
[    0,    18] 12344.00 =!= 3414.00
[    0,    19] -14149.00 =!= -21761.00
[    0,    20] 31008.00 =!= 28408.00
[    0,    21] -10608.00 =!= -12021.00
[    0,    22] -30748.00 =!= 29100.00
[    0,    23] 6722.00 =!= -9430.00
[    0,    24] 19040.00 =!= -13128.00
[    0,    25] 9728.00 =!= -9801.00
[    0,    26] -2428.00 =!= -21412.00
[    0,    27] -14417.00 =!= 22434.00
[    0,    28] -152.00 =!= -17080.00
[    0,    29] -29647.00 =!= 31737.00
[    0,    30] 23374.00 =!= 27900.00
[    0,    31] 17042.00 =!= -11327.00
...and 131039 further errors.
Maximum relative error: 200%

Reference:
  -11264    -31765      6252      4702    -30744   ...     -407     13756     21039     11160      7567  
  -11264     30443       620      2910    -24600   ...   -16023    -12868     -9169     26520     -6257  
  -11264     27115     -5012      1118    -18456   ...   -31639     26044     26159    -23656    -20081  
  -11264     23787    -10644      -674    -12312   ...    18281      -580     -4049     -8296     31631  
  -11264     20459    -16276     -2466     -6168   ...     2665    -27204     31279      7064     17807  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
  -11264    -15125    -31124     13662      4072   ...    12137     15804    -24529      -104     11151  
  -11264    -18453     28780     11870     10216   ...    -3479    -10820     10799     15256     -2673  
  -11264    -21781     23148     10078     16360   ...   -19095     28092    -19409     30616    -16497  
  -11264    -25109     17516      8286     22504   ...    30825      1468     15919    -19560    -30321  
  -11264    -28437     11884      6494     28648   ...    15209    -25156    -14289     -4200     21391  

Output:
   22144     32036     23622     32249    -25192   ...    31782    -29580     24231     20228     28042  
  -10624     11556    -18362     -9735    -17000   ...    -1754     -7052     16551     -5884     -3958  
   22144     -8924      5190     13817     -8808   ...    30246     15476      8871    -31996     29578  
  -10624    -29404     28742    -28167      -616   ...    -3290    -27532      1191      7428     -2422  
   22144     15652    -13242     -4615      7576   ...    28710     -5004     -6489    -18684     31114  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2381.00us.
Avg NPU gflops: 197.30

Min NPU matmul time: 2381.00us.
Max NPU gflops: 197.30

Max NPU matmul time: 2381.00us.
Min NPU gflops: 197.30

Error count: 131071


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1792 -N 768 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1792x768_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1792x768_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1792x768_64x64x64_4c.txt ../build/aie_256x1792x768_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x768_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x768_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x768_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1792x768_64x64x64_4c.xclbin -i build/insts_256x1792x768_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1792 -N 768 --b_col_maj 0
Final M=256
Final K=1792
Final N=768
Matrix has been padded

Avg NPU matmul time: 2621us.
Avg NPU gflops: 268.845

Min NPU matmul time: 2621us.
Max NPU gflops: 268.845

Max NPU matmul time: 2621us.
Min NPU gflops: 268.845

PASS!

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1792 -N 1024 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1792x1024_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1792x1024_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1792x1024_64x64x64_4c.txt ../build/aie_256x1792x1024_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x1024_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x1024_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x1024_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1792x1024_64x64x64_4c.xclbin -i build/insts_256x1792x1024_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1792 -N 1024 --b_col_maj 0
Final M=256
Final K=1792
Final N=1152
Matrix has been padded
[    0,     0] -7296.00 =!= 3072.00
[    0,     1] -20078.00 =!= -13899.00
[    0,     2] 21054.00 =!= 22382.00
[    0,     3] 15436.00 =!= -23365.00
[    0,     4] 27348.00 =!= -22484.00
[    0,     5] 8315.00 =!= -18631.00
[    0,     6] 22046.00 =!= 3064.00
[    0,     7] 19535.00 =!= -298.00
[    0,     8] 344.00 =!= 7568.00
[    0,     9] -2794.00 =!= -9443.00
[    0,    10] -28018.00 =!= 3462.00
[    0,    11] -14076.00 =!= 20640.00
[    0,    12] -24484.00 =!= -14632.00
[    0,    13] 14556.00 =!= -31054.00
[    0,    14] 29262.00 =!= 32278.00
[    0,    15] 12922.00 =!= 26220.00
[    0,    16] -5856.00 =!= 16240.00
[    0,    17] -8737.00 =!= -18410.00
[    0,    18] 5566.00 =!= -3104.00
[    0,    19] -26530.00 =!= 11464.00
[    0,    20] -4376.00 =!= 23180.00
[    0,    21] -29500.00 =!= -8476.00
[    0,    22] -1374.00 =!= 11896.00
[    0,    23] 32074.00 =!= -22958.00
[    0,    24] -224.00 =!= 22088.00
[    0,    25] 32118.00 =!= 12321.00
[    0,    26] 21788.00 =!= -5304.00
[    0,    27] 23711.00 =!= 7067.00
[    0,    28] 21636.00 =!= -2644.00
[    0,    29] -22292.00 =!= 21638.00
[    0,    30] 7240.00 =!= 2682.00
[    0,    31] -31406.00 =!= 30299.00
...and 262088 further errors.
Maximum relative error: 100%

Reference:
    3072    -13899     22382    -23365    -22484   ...    18689     27136     -3526    -21482     -3070  
    3072     11189      2926    -25669     -7124   ...   -23807     31232     -8390     -3562    -10750  
    3072    -29259    -16530    -27973      8236   ...     -767    -30208    -13254     14358    -18430  
    3072     -4171     29550    -30277     23596   ...    22273    -26112    -18118     32278    -26110  
    3072     20917     10094    -32581    -26580   ...   -20223    -22016    -22982    -15338     31746  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
    3072     -8267    -11410    -11845     31788   ...   -30975      6656     20794     19990    -30206  
    3072     16821    -30866    -14149    -18388   ...    -7935     10752     15930    -27626     27650  
    3072    -23627     15214    -16453     -3028   ...    15105     14848     11066     -9706     19970  
    3072      1461     -4242    -18757     12332   ...   -27391     18944      6202      8214     12290  
    3072     26549    -23698    -21061     27692   ...    -4351     23040      1338     26134      4610  

Output:
   -7296    -20078     21054     15436     27348   ...    17461      8696     20956     14940    -31206  
   25472     -1134    -23490     15692      4820   ...     2869      5624    -16676     28764    -14310  
   -7296     17810     -2498     15948    -17708   ...   -11723      2552     11228    -22948      2586  
   25472    -28782     18494     16204     25300   ...   -26315      -520    -26404     -9124     19482  
   -7296     -9838    -26050     16460      2772   ...    24629     -3592      1500      4700    -29158  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2788.00us.
Avg NPU gflops: 336.99

Min NPU matmul time: 2788.00us.
Max NPU gflops: 336.99

Max NPU matmul time: 2788.00us.
Min NPU gflops: 336.99

Error count: 262120


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1792 -N 1280 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1792x1280_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1792x1280_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1792x1280_64x64x64_4c.txt ../build/aie_256x1792x1280_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x1280_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x1280_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x1280_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1792x1280_64x64x64_4c.xclbin -i build/insts_256x1792x1280_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1792 -N 1280 --b_col_maj 0
Final M=256
Final K=1792
Final N=1344
Matrix has been padded
[    0,     0] -27776.00 =!= 26880.00
[    0,     1] -5266.00 =!= -28916.00
[    0,     2] -26308.00 =!= 28132.00
[    0,     3] -32766.00 =!= -23581.00
[    0,     4] 1376.00 =!= -13808.00
[    0,     5] 12442.00 =!= 16707.00
[    0,     6] -2456.00 =!= 18180.00
[    0,     7] -4889.00 =!= 25224.00
[    0,     8] 18600.00 =!= 10960.00
[    0,     9] 4744.00 =!= -17142.00
[    0,    10] 23118.00 =!= 7070.00
[    0,    11] -17889.00 =!= -30539.00
[    0,    12] -4744.00 =!= 9644.00
[    0,    13] -27829.00 =!= 27966.00
[    0,    14] -9328.00 =!= 19748.00
[    0,    15] 23641.00 =!= -25621.00
[    0,    16] 19088.00 =!= -4320.00
[    0,    17] 17886.00 =!= -24436.00
[    0,    18] -1034.00 =!= 13440.00
[    0,    19] 30947.00 =!= 19380.00
[    0,    20] -25400.00 =!= 12952.00
[    0,    21] 20784.00 =!= -9318.00
[    0,    22] 20890.00 =!= 3408.00
[    0,    23] 6638.00 =!= -14514.00
[    0,    24] 11232.00 =!= 18848.00
[    0,    25] 8569.00 =!= 21899.00
[    0,    26] 25358.00 =!= -29362.00
[    0,    27] -19129.00 =!= 15092.00
[    0,    28] -15832.00 =!= -27368.00
[    0,    29] -15692.00 =!= -13544.00
[    0,    30] 22244.00 =!= 14452.00
[    0,    31] 31672.00 =!= -11193.00
...and 327599 further errors.
Maximum relative error: 200%

Reference:
   26880    -28916     28132    -23581    -13808   ...    23992     29180     31587     -5552       779  
   26880     -9460      3556       -29    -28144   ...    -1864    -16900    -13213      -944    -23029  
   26880      9996    -21020     23523     23056   ...   -27720      2556      7523      3664     18699  
   26880     29452     19940    -18461      8720   ...    11960     22012     28259      8272     -5109  
   26880    -16628     -4636      5091     -5616   ...   -13896    -24068    -16541     12880    -28917  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   26880      4876     19940    -10269     -7664   ...    22200     -2564     -6557    -28592    -11253  
   26880     24332     -4636     13283    -22000   ...    -3656     16892     14179    -23984     30475  
   26880    -21748    -29212    -28701     29200   ...   -29512    -29188    -30621    -19376      6667  
   26880     -2292     11748     -5149     14864   ...    10168     -9732     -9885    -14768    -17141  
   26880     17164    -12828     18403       528   ...   -15688      9724     10851    -10160     24587  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1792 -N 1536 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1792x1536_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1792x1536_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1792x1536_64x64x64_4c.txt ../build/aie_256x1792x1536_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x1536_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x1536_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x1536_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1792x1536_64x64x64_4c.xclbin -i build/insts_256x1792x1536_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1792 -N 1536 --b_col_maj 0
Final M=256
Final K=1792
Final N=1536
Matrix has been padded

Avg NPU matmul time: 3211us.
Avg NPU gflops: 438.893

Min NPU matmul time: 3211us.
Max NPU gflops: 438.893

Max NPU matmul time: 3211us.
Min NPU gflops: 438.893

PASS!

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1792 -N 1792 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1792x1792_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1792x1792_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1792x1792_64x64x64_4c.txt ../build/aie_256x1792x1792_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x1792_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x1792_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x1792_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1792x1792_64x64x64_4c.xclbin -i build/insts_256x1792x1792_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1792 -N 1792 --b_col_maj 0
Final M=256
Final K=1792
Final N=1920
Matrix has been padded
[    0,     0] -24192.00 =!= -14848.00
[    0,     1] 8335.00 =!= 31604.00
[    0,     2] 6924.00 =!= 27746.00
[    0,     3] 21289.00 =!= 29550.00
[    0,     4] -22380.00 =!= 10496.00
[    0,     5] -16649.00 =!= -1131.00
[    0,     6] 17310.00 =!= -6742.00
[    0,     7] 23872.00 =!= -26643.00
[    0,     8] 21320.00 =!= 28984.00
[    0,     9] -25292.00 =!= -29616.00
[    0,    10] 20760.00 =!= -30698.00
[    0,    11] -24684.00 =!= -389.00
[    0,    12] 28004.00 =!= -3060.00
[    0,    13] 27734.00 =!= 15776.00
[    0,    14] 16752.00 =!= 8372.00
[    0,    15] -21473.00 =!= -1768.00
[    0,    16] -8272.00 =!= -18864.00
[    0,    17] -2518.00 =!= -20425.00
[    0,    18] -27786.00 =!= 29300.00
[    0,    19] -4502.00 =!= -23597.00
[    0,    20] 18424.00 =!= -7488.00
[    0,    21] 25081.00 =!= -14657.00
[    0,    22] 6198.00 =!= -8318.00
[    0,    23] -12068.00 =!= 26070.00
[    0,    24] -11592.00 =!= 6120.00
[    0,    25] 14150.00 =!= -252.00
[    0,    26] 14314.00 =!= 7774.00
[    0,    27] -27896.00 =!= 11262.00
[    0,    28] -18644.00 =!= 10300.00
[    0,    29] 17292.00 =!= 5740.00
[    0,    30] 21968.00 =!= -22904.00
[    0,    31] 5079.00 =!= -18392.00
...and 458718 further errors.
Maximum relative error: 200%

Reference:
  -14848     31604     27746     29550     10496   ...   -23156      -484     21611    -32568     28236  
  -14848     32372    -10654     28014    -16128   ...    -2932     -5604    -24469     -4408    -24500  
  -14848    -32396     16482     26478     22784   ...    17292    -10724     -5013     23752    -11700  
  -14848    -31628    -21918     24942     -3840   ...   -28020    -15844     14443    -13624      1100  
  -14848    -30860      5218     23406    -30464   ...    -7796    -20964    -31637     14536     13900  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
  -14848     27764     23138    -28306     12544   ...     6796     25116    -10133     23240     29772  
  -14848     28532    -15262    -29842    -14080   ...    27020     19996      9323    -14136    -22964  
  -14848     29300     11874    -31378     24832   ...   -18292     14876     28779     14024    -10164  
  -14848     30068    -26526     32622     -1792   ...     1932      9756    -17301    -23352      2636  
  -14848     30836       610     31086    -28416   ...    22156      4636      2155      4808     15436  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1792 -N 2048 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1792x2048_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1792x2048_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1792x2048_64x64x64_4c.txt ../build/aie_256x1792x2048_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x2048_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x2048_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x2048_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1792x2048_64x64x64_4c.xclbin -i build/insts_256x1792x2048_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1792 -N 2048 --b_col_maj 0
Final M=256
Final K=1792
Final N=2112
Matrix has been padded
[    0,     0] 13632.00 =!= 28672.00
[    0,     1] 5663.00 =!= 8373.00
[    0,     2] 23442.00 =!= -21680.00
[    0,     3] 21550.00 =!= -23236.00
[    0,     4] 3504.00 =!= -2624.00
[    0,     5] 28310.00 =!= -19471.00
[    0,     6] 32016.00 =!= -24362.00
[    0,     7] 8257.00 =!= 8145.00
[    0,     8] 4296.00 =!= -20944.00
[    0,     9] -25045.00 =!= 3156.00
[    0,    10] 18090.00 =!= -15938.00
[    0,    11] 11249.00 =!= -9726.00
[    0,    12] 26088.00 =!= 31932.00
[    0,    13] 20570.00 =!= -10892.00
[    0,    14] -16618.00 =!= -19988.00
[    0,    15] -12435.00 =!= -8243.00
[    0,    16] 9984.00 =!= 13280.00
[    0,    17] 10772.00 =!= -25666.00
[    0,    18] -4608.00 =!= -3280.00
[    0,    19] -26251.00 =!= 20594.00
[    0,    20] 20196.00 =!= 10972.00
[    0,    21] -12287.00 =!= 18450.00
[    0,    22] 5794.00 =!= 11128.00
[    0,    23] 10928.00 =!= -25565.00
[    0,    24] 7152.00 =!= 26352.00
[    0,    25] -14306.00 =!= -16287.00
[    0,    26] 20738.00 =!= -2422.00
[    0,    27] -20733.00 =!= 16727.00
[    0,    28] 10852.00 =!= -29428.00
[    0,    29] 26948.00 =!= 23211.00
[    0,    30] 5906.00 =!= 30924.00
[    0,    31] 17210.00 =!= -13694.00
...and 524207 further errors.
Maximum relative error: 200%

Reference:
   28672      8373    -21680    -23236     -2624   ...    23213      4628      4846     -9984      3581  
   28672     11189    -27824    -18372     13760   ...    26029    -30188     21742     20224     12541  
   28672     14005     31568    -13508     30144   ...    28845       532    -26898    -15104     21501  
   28672     16821     25424     -8644    -19008   ...    31661     31252    -10002     15104     30461  
   28672     19637     19280     -3780     -2624   ...   -31059     -3564      6894    -20224    -26115  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   28672     -5707      9040     17980    -19008   ...     9133    -17900    -14098    -29952     24317  
   28672     -2891      2896     22844     -2624   ...    11949     12820      2798       256    -32259  
   28672       -75     -3248     27708     13760   ...    14765    -21996     19694     30464    -23299  
   28672      2741     -9392     32572     30144   ...    17581      8724    -28946     -4864    -14339  
   28672      5557    -15536    -28100    -19008   ...    20397    -26092    -12050     25344     -5379  

Output:
   13632      5663     23442     21550      3504   ...    -2084    -29868    -22663    -11230     19864  
  -19136     -5345    -21102    -14546      8624   ...   -17956     -2220    -20103    -31710     -9064  
   13632    -16353      -110     14894     13744   ...    31708     25428    -17543     13346     27544  
  -19136    -27361     20882    -21202     18864   ...    15836    -12460    -14983     -7134     -1384  
   13632     27167    -23662      8238     23984   ...      -36     15188    -12423    -27614    -30312  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 3416.00us.
Avg NPU gflops: 550.07

Min NPU matmul time: 3416.00us.
Max NPU gflops: 550.07

Max NPU matmul time: 3416.00us.
Min NPU gflops: 550.07

Error count: 524239


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1792 -N 2304 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1792x2304_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1792x2304_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1792x2304_64x64x64_4c.txt ../build/aie_256x1792x2304_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x2304_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x2304_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x2304_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.3s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1792x2304_64x64x64_4c.xclbin -i build/insts_256x1792x2304_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1792 -N 2304 --b_col_maj 0
Final M=256
Final K=1792
Final N=2304
Matrix has been padded

Avg NPU matmul time: 3663us.
Avg NPU gflops: 577.103

Min NPU matmul time: 3663us.
Max NPU gflops: 577.103

Max NPU matmul time: 3663us.
Min NPU gflops: 577.103

PASS!

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1792 -N 2560 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1792x2560_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1792x2560_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1792x2560_64x64x64_4c.txt ../build/aie_256x1792x2560_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x2560_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x2560_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x2560_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1792x2560_64x64x64_4c.xclbin -i build/insts_256x1792x2560_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1792 -N 2560 --b_col_maj 0
Final M=256
Final K=1792
Final N=2688
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1792 -N 2816 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1792x2816_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1792x2816_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1792x2816_64x64x64_4c.txt ../build/aie_256x1792x2816_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x2816_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x2816_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x2816_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1792x2816_64x64x64_4c.xclbin -i build/insts_256x1792x2816_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1792 -N 2816 --b_col_maj 0
Final M=256
Final K=1792
Final N=2880
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1792 -N 3072 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1792x3072_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1792x3072_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1792x3072_64x64x64_4c.txt ../build/aie_256x1792x3072_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x3072_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x3072_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x3072_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1792x3072_64x64x64_4c.xclbin -i build/insts_256x1792x3072_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1792 -N 3072 --b_col_maj 0
Final M=256
Final K=1792
Final N=3072
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1792 -N 3328 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1792x3328_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1792x3328_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1792x3328_64x64x64_4c.txt ../build/aie_256x1792x3328_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x3328_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x3328_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x3328_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1792x3328_64x64x64_4c.xclbin -i build/insts_256x1792x3328_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1792 -N 3328 --b_col_maj 0
Final M=256
Final K=1792
Final N=3456
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1792 -N 3584 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1792x3584_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1792x3584_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1792x3584_64x64x64_4c.txt ../build/aie_256x1792x3584_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x3584_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x3584_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x3584_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1792x3584_64x64x64_4c.xclbin -i build/insts_256x1792x3584_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1792 -N 3584 --b_col_maj 0
Final M=256
Final K=1792
Final N=3648
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1792 -N 3840 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1792x3840_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1792x3840_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1792x3840_64x64x64_4c.txt ../build/aie_256x1792x3840_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x3840_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x3840_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x3840_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1792x3840_64x64x64_4c.xclbin -i build/insts_256x1792x3840_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1792 -N 3840 --b_col_maj 0
Final M=256
Final K=1792
Final N=3840
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 1792 -N 4096 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x1792x4096_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x1792x4096_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x1792x4096_64x64x64_4c.txt ../build/aie_256x1792x4096_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x4096_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x4096_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x1792x4096_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x1792x4096_64x64x64_4c.xclbin -i build/insts_256x1792x4096_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 1792 -N 4096 --b_col_maj 0
Final M=256
Final K=1792
Final N=4224
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2048 -N 256 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2048x256_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2048x256_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2048x256_64x64x64_4c.txt ../build/aie_256x2048x256_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x256_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x256_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x256_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2048x256_64x64x64_4c.xclbin -i build/insts_256x2048x256_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2048 -N 256 --b_col_maj 0
Final M=256
Final K=2048
Final N=384
Matrix has been padded
[    0,     0] -17920.00 =!= -23040.00
[    0,     1] -4758.00 =!= 1702.00
[    0,     2] 25714.00 =!= 10332.00
[    0,     3] -8198.00 =!= -29978.00
[    0,     4] 15508.00 =!= -32760.00
[    0,     5] -20889.00 =!= -26595.00
[    0,     6] -19240.00 =!= 13942.00
[    0,     7] -25352.00 =!= 19811.00
[    0,     8] -23384.00 =!= -27248.00
[    0,     9] -3326.00 =!= -24854.00
[    0,    10] -12870.00 =!= 31842.00
[    0,    11] -18798.00 =!= 6241.00
[    0,    12] -17184.00 =!= 20112.00
[    0,    13] 7607.00 =!= -23860.00
[    0,    14] 30540.00 =!= -11208.00
[    0,    15] 16156.00 =!= 22337.00
[    0,    16] -3600.00 =!= 23504.00
[    0,    17] 14739.00 =!= 27535.00
[    0,    18] 23484.00 =!= -14070.00
[    0,    19] 21289.00 =!= 14146.00
[    0,    20] -17200.00 =!= 21680.00
[    0,    21] -5875.00 =!= 19330.00
[    0,    22] 2242.00 =!= 10052.00
[    0,    23] 25590.00 =!= 3724.00
[    0,    24] -29088.00 =!= 20616.00
[    0,    25] -30589.00 =!= 5089.00
[    0,    26] 13130.00 =!= 26546.00
[    0,    27] -19309.00 =!= 31837.00
[    0,    28] -8384.00 =!= 5800.00
[    0,    29] 28026.00 =!= -32171.00
[    0,    30] 3572.00 =!= 14898.00
[    0,    31] 19091.00 =!= 18174.00
...and 65496 further errors.
Maximum relative error: 100%

Reference:
  -23040      1702     10332    -29978    -32760   ...    -3539    -26340      7187      4200     31713  
  -23040     30374      6236     23270    -16376   ...    18989     14620    -19437     28776    -29727  
  -23040     -6490      2140     10982         8   ...   -24019     -9956     19475    -12184    -25631  
  -23040     22182     -1956     -1306     16392   ...    -1491     31004     -7149     12392    -21535  
  -23040    -14682     -6052    -13594    -32760   ...    21037      6428     31763    -28568    -17439  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
  -23040    -10586     30812     31462     16392   ...    14893     31004      9235     12392     11233  
  -23040     18086     26716     19174    -32760   ...   -28115      6428    -17389    -28568     15329  
  -23040    -18778     22620      6886    -16376   ...    -5587    -18148     21523     -3992     19425  
  -23040      9894     18524     -5402         8   ...    16941     22812     -5101     20584     23521  
  -23040    -26970     14428    -17690     16392   ...   -26067     -1764    -31725    -20376     27617  

Output:
  -17920     -4758     25714     -8198     15508   ...    -6048     17552    -26660       392      5639  
  -17920    -23190      1138     32762     31892   ...   -30624      9360     32732       392     11783  
  -17920     23914    -23438      8186    -17260   ...    10336      1168     26588       392     17927  
  -17920      5482     17522    -16390      -876   ...   -14240     -7024     20444       392     24071  
  -17920    -12950     -7054     24570     15508   ...    26720    -15216     14300       392     30215  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2239.00us.
Avg NPU gflops: 119.89

Min NPU matmul time: 2239.00us.
Max NPU gflops: 119.89

Max NPU matmul time: 2239.00us.
Min NPU gflops: 119.89

Error count: 65528


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2048 -N 512 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2048x512_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2048x512_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2048x512_64x64x64_4c.txt ../build/aie_256x2048x512_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x512_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x512_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x512_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2048x512_64x64x64_4c.xclbin -i build/insts_256x2048x512_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2048 -N 512 --b_col_maj 0
Final M=256
Final K=2048
Final N=576
Matrix has been padded
[    0,     0] -19776.00 =!= 20992.00
[    0,     1] -29001.00 =!= -9895.00
[    0,     2] 9654.00 =!= 786.00
[    0,     3] -1730.00 =!= 14334.00
[    0,     4] 10932.00 =!= 19068.00
[    0,     5] -7949.00 =!= -2451.00
[    0,     6] 14956.00 =!= 29498.00
[    0,     7] 27417.00 =!= -17836.00
[    0,     8] -7656.00 =!= -3944.00
[    0,     9] -7369.00 =!= -13618.00
[    0,    10] 6706.00 =!= -184.00
[    0,    11] 6296.00 =!= 23207.00
[    0,    12] 25008.00 =!= 19568.00
[    0,    13] 2274.00 =!= 7479.00
[    0,    14] -5026.00 =!= 16164.00
[    0,    15] 13176.00 =!= 20796.00
[    0,    16] -7632.00 =!= -29008.00
[    0,    17] 15793.00 =!= -32656.00
[    0,    18] 15068.00 =!= -20916.00
[    0,    19] -30325.00 =!= -2449.00
[    0,    20] 7208.00 =!= 27232.00
[    0,    21] 28142.00 =!= 3931.00
[    0,    22] 23554.00 =!= -4600.00
[    0,    23] -4598.00 =!= -13549.00
[    0,    24] -2728.00 =!= -4328.00
[    0,    25] -32351.00 =!= 8171.00
[    0,    26] -30480.00 =!= -24018.00
[    0,    27] -22004.00 =!= 13250.00
[    0,    28] 10320.00 =!= -17768.00
[    0,    29] -27860.00 =!= -20949.00
[    0,    30] -18806.00 =!= 7282.00
[    0,    31] 14306.00 =!= -13481.00
...and 130912 further errors.
Maximum relative error: 100%

Reference:
   20992     -9895       786     14334     19068   ...    20974     10864    -29265    -16972     19780  
   20992      8537     -7406     -6146    -21892   ...    25070     10864    -12881      3508      -700  
   20992     26969    -15598    -26626      2684   ...    29166     10864      3503     23988    -21180  
   20992    -20135    -23790     18430     27260   ...   -32274     10864     19887    -21068     23876  
   20992     -1703    -31982     -2050    -13700   ...   -28178     10864    -29265      -588      3396  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   20992     29017    -23790    -14338     27260   ...      494     10864     19887     11700     -8892  
   20992    -18087    -31982     30718    -13700   ...     4590     10864    -29265     32180    -29372  
   20992       345     25362     10238     10876   ...     8686     10864    -12881    -12876     15684  
   20992     18777     17170    -10242    -30084   ...    12782     10864      3503      7604     -4796  
   20992    -28327      8978    -30722     -5508   ...    16878     10864     19887     28084    -25276  

Output:
  -19776    -29001      9654     -1730     10932   ...     7701     -3596     23247     13000     -6287  
  -19776     28343      1462    -22210     27316   ...   -10731     12788    -19761    -15672    -12431  
  -19776     20151     -6730     22846    -21836   ...   -29163     29172      2767     21192    -18575  
  -19776     11959    -14922      2366     -5452   ...    17941    -19980     25295     -7480    -24719  
  -19776      3767    -23114    -18114     10932   ...     -491     -3596    -17713     29384    -30863  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2487.00us.
Avg NPU gflops: 215.87

Min NPU matmul time: 2487.00us.
Max NPU gflops: 215.87

Max NPU matmul time: 2487.00us.
Min NPU gflops: 215.87

Error count: 130944


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2048 -N 768 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2048x768_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2048x768_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2048x768_64x64x64_4c.txt ../build/aie_256x2048x768_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x768_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x768_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x768_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2048x768_64x64x64_4c.xclbin -i build/insts_256x2048x768_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2048 -N 768 --b_col_maj 0
Final M=256
Final K=2048
Final N=768
Matrix has been padded

Avg NPU matmul time: 3463us.
Avg NPU gflops: 232.546

Min NPU matmul time: 3463us.
Max NPU gflops: 232.546

Max NPU matmul time: 3463us.
Min NPU gflops: 232.546

PASS!

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2048 -N 1024 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2048x1024_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2048x1024_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2048x1024_64x64x64_4c.txt ../build/aie_256x2048x1024_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x1024_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x1024_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x1024_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2048x1024_64x64x64_4c.xclbin -i build/insts_256x2048x1024_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2048 -N 1024 --b_col_maj 0
Final M=256
Final K=2048
Final N=1152
Matrix has been padded
[    0,     0] 10624.00 =!= 0.00
[    0,     1] -17185.00 =!= 28109.00
[    0,     2] 20554.00 =!= 20760.00
[    0,     3] -25307.00 =!= 30012.00
[    0,     4] 4944.00 =!= -20088.00
[    0,     5] -24256.00 =!= -18875.00
[    0,     6] 10532.00 =!= 18550.00
[    0,     7] -6384.00 =!= 23437.00
[    0,     8] 17712.00 =!= -18488.00
[    0,     9] 22817.00 =!= 2421.00
[    0,    10] -11014.00 =!= -13182.00
[    0,    11] -1664.00 =!= -24353.00
[    0,    12] -19168.00 =!= 3088.00
[    0,    13] -26970.00 =!= 9640.00
[    0,    14] -9800.00 =!= -9894.00
[    0,    15] -6407.00 =!= 12945.00
[    0,    16] -22784.00 =!= -20160.00
[    0,    17] 16591.00 =!= -16661.00
[    0,    18] -26098.00 =!= -10316.00
[    0,    19] 19773.00 =!= -26500.00
[    0,    20] -9984.00 =!= -6212.00
[    0,    21] 32431.00 =!= -12322.00
[    0,    22] -28066.00 =!= 18194.00
[    0,    23] 13572.00 =!= -14234.00
[    0,    24] 11896.00 =!= 29336.00
[    0,    25] -1456.00 =!= -24769.00
[    0,    26] 18504.00 =!= -1520.00
[    0,    27] 21019.00 =!= -11619.00
[    0,    28] -22168.00 =!= -18800.00
[    0,    29] 23605.00 =!= 32275.00
[    0,    30] 22656.00 =!= 31178.00
[    0,    31] 7115.00 =!= -15532.00
...and 262112 further errors.
Maximum relative error: 100%

Reference:
       0     28109     20760     30012    -20088   ...    11889      1268    -25365    -26488    -30303  
       0     13773     12568      -708      4488   ...   -14735    -31500      9451    -26488      4513  
       0      -563      4376    -31428     29064   ...    24177      1268    -21269    -26488    -26207  
       0    -14899     -3816      3388    -11896   ...    -2447    -31500     13547    -26488      8609  
       0    -29235    -12008    -27332     12680   ...   -29071      1268    -17173    -26488    -22111  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0    -31283     -3816    -12996    -11896   ...    13937    -31500     -2837    -26488     -7775  
       0     19917    -12008     21820     12680   ...   -12687      1268     31979    -26488     27041  
       0      5581    -20200     -8900    -28280   ...    26225    -31500      1259    -26488     -3679  
       0     -8755    -28392     25916     -3704   ...     -399      1268    -29461    -26488     31137  
       0    -23091     28952     -4804     20872   ...   -27023    -31500      5355    -26488       417  

Output:
   10624    -17185     20554    -25307      4944   ...    15376     16896      -702     -7176    -12196  
   10624     -4897    -28598     -8923     29520   ...    -9200    -15872     13634     -7176     20572  
   10624      7391    -12214      7461    -11440   ...    31760     16896     27970     -7176    -12196  
   10624     19679      4170     23845     13136   ...     7184    -15872    -23230     -7176     20572  
   10624     31967     20554    -25307    -27824   ...   -17392     16896     -8894     -7176    -12196  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2905.00us.
Avg NPU gflops: 369.62

Min NPU matmul time: 2905.00us.
Max NPU gflops: 369.62

Max NPU matmul time: 2905.00us.
Min NPU gflops: 369.62

Error count: 262144


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2048 -N 1280 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2048x1280_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2048x1280_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2048x1280_64x64x64_4c.txt ../build/aie_256x2048x1280_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x1280_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x1280_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x1280_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2048x1280_64x64x64_4c.xclbin -i build/insts_256x2048x1280_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2048 -N 1280 --b_col_maj 0
Final M=256
Final K=2048
Final N=1344
Matrix has been padded
[    0,     0] -22080.00 =!= -9216.00
[    0,     1] 7997.00 =!= 27575.00
[    0,     2] -4006.00 =!= -752.00
[    0,     3] 759.00 =!= -10558.00
[    0,     4] 25056.00 =!= 26644.00
[    0,     5] 11388.00 =!= 26140.00
[    0,     6] -23648.00 =!= 16402.00
[    0,     7] 4863.00 =!= -19924.00
[    0,     8] -32384.00 =!= -9728.00
[    0,     9] 23216.00 =!= -24375.00
[    0,    10] 290.00 =!= -15826.00
[    0,    11] -18038.00 =!= -13643.00
[    0,    12] 25844.00 =!= 5616.00
[    0,    13] -17182.00 =!= -5123.00
[    0,    14] -20544.00 =!= -12760.00
[    0,    15] 18809.00 =!= 2565.00
[    0,    16] -12976.00 =!= -9600.00
[    0,    17] -5992.00 =!= -28974.00
[    0,    18] -14170.00 =!= -9258.00
[    0,    19] 18841.00 =!= -7570.00
[    0,    20] -7376.00 =!= -23480.00
[    0,    21] 20926.00 =!= -1863.00
[    0,    22] 13174.00 =!= 18636.00
[    0,    23] 4581.00 =!= 12910.00
[    0,    24] 18088.00 =!= 2456.00
[    0,    25] 19661.00 =!= -13943.00
[    0,    26] -9992.00 =!= -15760.00
[    0,    27] -12904.00 =!= 25670.00
[    0,    28] -3328.00 =!= -21800.00
[    0,    29] 22206.00 =!= 8552.00
[    0,    30] -14794.00 =!= 22562.00
[    0,    31] 19263.00 =!= -111.00
...and 327648 further errors.
Maximum relative error: 100%

Reference:
   -9216     27575      -752    -10558     26644   ...   -20217    -28044    -19569    -13778     22155  
   -9216    -27721    -13040    -10558     10260   ...    28935     21108     -7281     18990    -29045  
   -9216    -17481    -25328    -10558     -6124   ...    12551      4724      5007    -13778    -14709  
   -9216     -7241     27920    -10558    -22508   ...    -3833    -11660     17295     18990      -373  
   -9216      2999     15632    -10558     26644   ...   -20217    -28044     29583    -13778     13963  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   -9216    -23625     -4848    -10558    -22508   ...    -3833    -11660    -15473     18990     16011  
   -9216    -13385    -17136    -10558     26644   ...   -20217    -28044     -3185    -13778     30347  
   -9216     -3145    -29424    -10558     10260   ...    28935     21108      9103     18990    -20853  
   -9216      7095     23824    -10558     -6124   ...    12551      4724     21391    -13778     -6517  
   -9216     17335     11536    -10558    -22508   ...    -3833    -11660    -31857     18990      7819  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2048 -N 1536 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2048x1536_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2048x1536_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2048x1536_64x64x64_4c.txt ../build/aie_256x2048x1536_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x1536_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x1536_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x1536_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2048x1536_64x64x64_4c.xclbin -i build/insts_256x2048x1536_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2048 -N 1536 --b_col_maj 0
Final M=256
Final K=2048
Final N=1536
Matrix has been padded

Avg NPU matmul time: 3367us.
Avg NPU gflops: 478.352

Min NPU matmul time: 3367us.
Max NPU gflops: 478.352

Max NPU matmul time: 3367us.
Min NPU gflops: 478.352

PASS!

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2048 -N 1792 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2048x1792_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2048x1792_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2048x1792_64x64x64_4c.txt ../build/aie_256x2048x1792_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x1792_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x1792_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x1792_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.3s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2048x1792_64x64x64_4c.xclbin -i build/insts_256x2048x1792_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2048 -N 1792 --b_col_maj 0
Final M=256
Final K=2048
Final N=1920
Matrix has been padded
[    0,     0] -4480.00 =!= -24832.00
[    0,     1] 2972.00 =!= -22371.00
[    0,     2] -29390.00 =!= -13846.00
[    0,     3] -4944.00 =!= -11474.00
[    0,     4] 2860.00 =!= -21976.00
[    0,     5] -31174.00 =!= -19846.00
[    0,     6] 28996.00 =!= 10830.00
[    0,     7] -26900.00 =!= -23403.00
[    0,     8] -32496.00 =!= 29696.00
[    0,     9] 11938.00 =!= 9330.00
[    0,    10] 17282.00 =!= -28204.00
[    0,    11] -8200.00 =!= 17553.00
[    0,    12] 2796.00 =!= 19012.00
[    0,    13] -21533.00 =!= -12140.00
[    0,    14] -28888.00 =!= -3772.00
[    0,    15] -13202.00 =!= -2856.00
[    0,    16] 6608.00 =!= 16800.00
[    0,    17] 13801.00 =!= -11349.00
[    0,    18] -17766.00 =!= -16752.00
[    0,    19] 4341.00 =!= -6262.00
[    0,    20] 6840.00 =!= -29256.00
[    0,    21] -9451.00 =!= 19283.00
[    0,    22] -17258.00 =!= -6872.00
[    0,    23] -12482.00 =!= -10960.00
[    0,    24] -29368.00 =!= -11896.00
[    0,    25] -30839.00 =!= 16896.00
[    0,    26] 20764.00 =!= -21820.00
[    0,    27] 22307.00 =!= -28129.00
[    0,    28] 18956.00 =!= -17280.00
[    0,    29] -2279.00 =!= -3010.00
[    0,    30] -31222.00 =!= -19092.00
[    0,    31] 4336.00 =!= 7836.00
...and 458712 further errors.
Maximum relative error: 200%

Reference:
  -24832    -22371    -13846    -11474    -21976   ...    21664     -1924     -6113     31046    -14672  
  -24832     26781    -17942     21294    -21976   ...    -2912      6268     16415     22854     11952  
  -24832     10397    -22038    -11474    -21976   ...   -27488     14460    -26593     14662    -26960  
  -24832     -5987    -26134     21294    -21976   ...    13472     22652     -4065      6470      -336  
  -24832    -22371    -30230    -11474    -21976   ...   -11104     30844     18463     -1722     26288  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
  -24832     -5987      6634     21294    -21976   ...    13472     22652     12319      6470    -16720  
  -24832    -22371      2538    -11474    -21976   ...   -11104     30844    -30689     -1722      9904  
  -24832     26781     -1558     21294    -21976   ...    29856    -26500     -8161     -9914    -29008  
  -24832     10397     -5654    -11474    -21976   ...     5280    -18308     14367    -18106     -2384  
  -24832     -5987     -9750     21294    -21976   ...   -19296    -10116    -28641    -26298     24240  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2048 -N 2048 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2048x2048_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2048x2048_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2048x2048_64x64x64_4c.txt ../build/aie_256x2048x2048_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x2048_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x2048_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x2048_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2048x2048_64x64x64_4c.xclbin -i build/insts_256x2048x2048_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2048 -N 2048 --b_col_maj 0
Final M=256
Final K=2048
Final N=2112
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2048 -N 2304 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2048x2304_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2048x2304_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2048x2304_64x64x64_4c.txt ../build/aie_256x2048x2304_64x64x64_4c.mlir
[AIE ERROR] _XAie_LoadProgMemSection():231: Overflow of program memory
XAie_LoadElf failed with XAIE_INVALID_ELFFound xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x2304_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Traceback (most recent call last):
  File "/home/mliraie/mlir-aie/my_install/mlir_aie/bin/aiecc.py", line 12, in <module>
    main()
  File "/home/mliraie/mlir-aie/my_install/mlir_aie/python/aie/compiler/aiecc/main.py", line 1280, in main
    run(module_str)
  File "/home/mliraie/mlir-aie/my_install/mlir_aie/python/aie/compiler/aiecc/main.py", line 1254, in run
    asyncio.run(runner.run_flow())
  File "/usr/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/base_events.py", line 687, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/home/mliraie/mlir-aie/my_install/mlir_aie/python/aie/compiler/aiecc/main.py", line 1168, in run_flow
    await self.process_cdo()
  File "/home/mliraie/mlir-aie/my_install/mlir_aie/python/aie/compiler/aiecc/main.py", line 580, in process_cdo
    generate_cdo(input_physical.operation, self.tmpdirname)
ValueError: Failed to generate cdo because: 
make: *** [/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../makefile-common-padding:107: build/final_256x2048x2304_64x64x64_4c.xclbin] Error 1
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2048x2304_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2048x2304_64x64x64_4c.txt ../build/aie_256x2048x2304_64x64x64_4c.mlir
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x2304_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2048 -N 2560 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2048x2560_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2048x2560_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2048x2560_64x64x64_4c.txt ../build/aie_256x2048x2560_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x2560_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x2560_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x2560_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2048x2560_64x64x64_4c.xclbin -i build/insts_256x2048x2560_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2048 -N 2560 --b_col_maj 0
Final M=256
Final K=2048
Final N=2688
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2048 -N 2816 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2048x2816_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2048x2816_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2048x2816_64x64x64_4c.txt ../build/aie_256x2048x2816_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x2816_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x2816_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x2816_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2048x2816_64x64x64_4c.xclbin -i build/insts_256x2048x2816_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2048 -N 2816 --b_col_maj 0
Final M=256
Final K=2048
Final N=2880
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2048 -N 3072 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2048x3072_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2048x3072_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2048x3072_64x64x64_4c.txt ../build/aie_256x2048x3072_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x3072_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x3072_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x3072_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2048x3072_64x64x64_4c.xclbin -i build/insts_256x2048x3072_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2048 -N 3072 --b_col_maj 0
Final M=256
Final K=2048
Final N=3072
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2048 -N 3328 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2048x3328_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2048x3328_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2048x3328_64x64x64_4c.txt ../build/aie_256x2048x3328_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x3328_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x3328_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x3328_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2048x3328_64x64x64_4c.xclbin -i build/insts_256x2048x3328_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2048 -N 3328 --b_col_maj 0
Final M=256
Final K=2048
Final N=3456
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2048 -N 3584 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2048x3584_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2048x3584_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2048x3584_64x64x64_4c.txt ../build/aie_256x2048x3584_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x3584_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x3584_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x3584_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2048x3584_64x64x64_4c.xclbin -i build/insts_256x2048x3584_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2048 -N 3584 --b_col_maj 0
Final M=256
Final K=2048
Final N=3648
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2048 -N 3840 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2048x3840_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2048x3840_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2048x3840_64x64x64_4c.txt ../build/aie_256x2048x3840_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x3840_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x3840_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x3840_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2048x3840_64x64x64_4c.xclbin -i build/insts_256x2048x3840_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2048 -N 3840 --b_col_maj 0
Final M=256
Final K=2048
Final N=3840
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2048 -N 4096 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2048x4096_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2048x4096_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2048x4096_64x64x64_4c.txt ../build/aie_256x2048x4096_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x4096_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x4096_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2048x4096_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2048x4096_64x64x64_4c.xclbin -i build/insts_256x2048x4096_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2048 -N 4096 --b_col_maj 0
Final M=256
Final K=2048
Final N=4224
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2304 -N 256 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2304x256_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2304x256_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2304x256_64x64x64_4c.txt ../build/aie_256x2304x256_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x256_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x256_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x256_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2304x256_64x64x64_4c.xclbin -i build/insts_256x2304x256_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2304 -N 256 --b_col_maj 0
Final M=256
Final K=2304
Final N=384
Matrix has been padded
[    0,     0] 6656.00 =!= 14080.00
[    0,     1] -28303.00 =!= 24167.00
[    0,     2] 18170.00 =!= 6150.00
[    0,     3] -7502.00 =!= -17711.00
[    0,     4] -3300.00 =!= -16312.00
[    0,     5] -22147.00 =!= 17696.00
[    0,     6] 19108.00 =!= 30288.00
[    0,     7] 26400.00 =!= 4513.00
[    0,     8] -30928.00 =!= 30104.00
[    0,     9] 26994.00 =!= 12299.00
[    0,    10] -29066.00 =!= 11200.00
[    0,    11] -26841.00 =!= 20765.00
[    0,    12] 2104.00 =!= 13116.00
[    0,    13] 23842.00 =!= -21141.00
[    0,    14] 14548.00 =!= 24244.00
[    0,    15] -2137.00 =!= 29392.00
[    0,    16] -496.00 =!= 21248.00
[    0,    17] 32063.00 =!= -19725.00
[    0,    18] 5138.00 =!= 8302.00
[    0,    19] -25881.00 =!= -20458.00
[    0,    20] -16880.00 =!= -30932.00
[    0,    21] -10453.00 =!= -31157.00
[    0,    22] 31606.00 =!= 5764.00
[    0,    23] -1905.00 =!= 892.00
[    0,    24] -17728.00 =!= -16728.00
[    0,    25] -1041.00 =!= 12323.00
[    0,    26] -21780.00 =!= -240.00
[    0,    27] 1397.00 =!= 26526.00
[    0,    28] -14244.00 =!= -14544.00
[    0,    29] -9194.00 =!= 17875.00
[    0,    30] 1188.00 =!= -20004.00
[    0,    31] -6350.00 =!= 22988.00
...and 65504 further errors.
Maximum relative error: 200%

Reference:
   14080     24167      6150    -17711    -16312   ...    25373    -27968      4228     16922     22773  
   14080     -1433     31238    -23855     28744   ...    28957     28352     17540    -11750    -19211  
   14080    -27033     -9210    -29999      8264   ...    32541     19136     30852     25114      4341  
   14080     12903     15878     29393    -12216   ...   -29411      9920    -21372     -3558     27893  
   14080    -12697    -24570     23249    -32696   ...   -25827       704     -8060    -32230    -14091  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   14080     21095     11782     13009     20552   ...     7453     18112      3204     29210    -29451  
   14080     -4505    -28666      6865        72   ...    11037      8896     16516       538     -5899  
   14080    -30105     -3578       721    -20408   ...    14621      -320     29828    -28134     17653  
   14080      9831     21510     -5423     24648   ...    18205     -9536    -22396      8730    -24331  
   14080    -15769    -18938    -11567      4168   ...    21789    -18752     -9084    -19942      -779  

Output:
    6656    -28303     18170     -7502     -3300   ...   -32146     31656    -19148     10956    -24496  
  -26112     31089    -20230    -32078    -22756   ...     3438     30632    -15308    -25908     21584  
    6656     24945      6906      8882     23324   ...   -26514     29608    -11468      2764      2128  
  -26112     18801    -31494    -15694      3868   ...     9070     28584     -7628     31436    -17328  
    6656     12657     -4358     25266    -15588   ...   -20882     27560     -3788     -5428     28752  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2350.00us.
Avg NPU gflops: 128.51

Min NPU matmul time: 2350.00us.
Max NPU gflops: 128.51

Max NPU matmul time: 2350.00us.
Min NPU gflops: 128.51

Error count: 65536


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2304 -N 512 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2304x512_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2304x512_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2304x512_64x64x64_4c.txt ../build/aie_256x2304x512_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x512_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x512_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x512_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2304x512_64x64x64_4c.xclbin -i build/insts_256x2304x512_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2304 -N 512 --b_col_maj 0
Final M=256
Final K=2304
Final N=576
Matrix has been padded
[    0,     0] 17536.00 =!= -10752.00
[    0,     1] -13055.00 =!= -30649.00
[    0,     2] 12578.00 =!= 31452.00
[    0,     3] -871.00 =!= 24426.00
[    0,     4] -28576.00 =!= 10916.00
[    0,     5] 1828.00 =!= 17467.00
[    0,     6] -21102.00 =!= -22512.00
[    0,     7] 931.00 =!= 11867.00
[    0,     8] 20520.00 =!= 26960.00
[    0,     9] -16557.00 =!= -8052.00
[    0,    10] -15520.00 =!= 22040.00
[    0,    11] 10616.00 =!= 12784.00
[    0,    12] 120.00 =!= -8500.00
[    0,    13] -12781.00 =!= 5755.00
[    0,    14] -22340.00 =!= -22282.00
[    0,    15] -16301.00 =!= 26361.00
[    0,    16] 8608.00 =!= -2704.00
[    0,    17] 32142.00 =!= 22201.00
[    0,    18] -26326.00 =!= 11142.00
[    0,    19] 27655.00 =!= 19879.00
[    0,    20] -7880.00 =!= -28560.00
[    0,    21] 11776.00 =!= -5452.00
[    0,    22] 7394.00 =!= 510.00
[    0,    23] 10203.00 =!= 14091.00
[    0,    24] 24056.00 =!= -20984.00
[    0,    25] -10763.00 =!= 30250.00
[    0,    26] 22874.00 =!= -29550.00
[    0,    27] 20298.00 =!= -19659.00
[    0,    28] 30920.00 =!= 2372.00
[    0,    29] 4062.00 =!= -2251.00
[    0,    30] 15838.00 =!= -13520.00
[    0,    31] -31305.00 =!= 32742.00
...and 131040 further errors.
Maximum relative error: 100%

Reference:
  -10752    -30649     31452     24426     10916   ...    30334     26088     -5843     -4012      6716  
  -10752     22599     22748    -13974    -15708   ...   -31874     -4632    -28115     24148      5180  
  -10752     10311     14044     13162     23204   ...   -28546     30184     15149    -13228      3644  
  -10752     -1977      5340    -25238     -3420   ...   -25218      -536     -7123     14932      2108  
  -10752    -14265     -3364      1898    -30044   ...   -21890    -31256    -29395    -22444       572  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
  -10752     30791      9436     19818     12964   ...    13694    -16920    -25555    -13740     14396  
  -10752     18503       732    -18582    -13660   ...    17022     17896     17709     14420     12860  
  -10752      6215     -7972      8554     25252   ...    20350    -12824     -4563    -22956     11324  
  -10752     -6073    -16676    -29846     -1372   ...    23678     21992    -26835      5204      9788  
  -10752    -18361    -25380     -2710    -27996   ...    27006     -8728     16429    -32172      8252  

Output:
   17536    -13055     12578      -871    -28576   ...    -6742    -16276    -24824      7442       344  
    1152     -6399     -4318     15257     17504   ...   -27478     18540    -21240    -24302     10584  
  -15232       257    -21214     31385     -1952   ...    17322    -12180    -17656      9490     20824  
  -31616      6913     27426    -18023    -21408   ...    -3414     22636    -14072    -22254     31064  
   17536     13569     10530     -1895     24672   ...   -24150     -8084    -10488     11538    -24232  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2583.00us.
Avg NPU gflops: 233.83

Min NPU matmul time: 2583.00us.
Max NPU gflops: 233.83

Max NPU matmul time: 2583.00us.
Min NPU gflops: 233.83

Error count: 131072


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2304 -N 768 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2304x768_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2304x768_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2304x768_64x64x64_4c.txt ../build/aie_256x2304x768_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x768_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x768_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x768_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2304x768_64x64x64_4c.xclbin -i build/insts_256x2304x768_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2304 -N 768 --b_col_maj 0
Final M=256
Final K=2304
Final N=768
Matrix has been padded

Avg NPU matmul time: 2724us.
Avg NPU gflops: 332.588

Min NPU matmul time: 2724us.
Max NPU gflops: 332.588

Max NPU matmul time: 2724us.
Min NPU gflops: 332.588

PASS!

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2304 -N 1024 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2304x1024_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2304x1024_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2304x1024_64x64x64_4c.txt ../build/aie_256x2304x1024_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x1024_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x1024_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x1024_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2304x1024_64x64x64_4c.xclbin -i build/insts_256x2304x1024_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2304 -N 1024 --b_col_maj 0
Final M=256
Final K=2304
Final N=1152
Matrix has been padded
[    0,     0] -1152.00 =!= -1024.00
[    0,     1] -12472.00 =!= -26810.00
[    0,     2] 28132.00 =!= -5508.00
[    0,     3] -31769.00 =!= -29317.00
[    0,     4] -29688.00 =!= -180.00
[    0,     5] 22720.00 =!= -8152.00
[    0,     6] -20390.00 =!= 6148.00
[    0,     7] -27435.00 =!= -29945.00
[    0,     8] 11912.00 =!= 16640.00
[    0,     9] -27727.00 =!= -26688.00
[    0,    10] 7054.00 =!= -31984.00
[    0,    11] 29541.00 =!= -8168.00
[    0,    12] -19572.00 =!= -14084.00
[    0,    13] -19213.00 =!= -24133.00
[    0,    14] 2998.00 =!= -18338.00
[    0,    15] 29522.00 =!= 3069.00
[    0,    16] 20928.00 =!= 23536.00
[    0,    17] 31271.00 =!= 11750.00
[    0,    18] -21298.00 =!= -25626.00
[    0,    19] 3859.00 =!= 23691.00
[    0,    20] 12060.00 =!= -26244.00
[    0,    21] 11454.00 =!= -30859.00
[    0,    22] -8550.00 =!= -4074.00
[    0,    23] -18320.00 =!= -23406.00
[    0,    24] 18648.00 =!= -3344.00
[    0,    25] -7710.00 =!= -7970.00
[    0,    26] 12004.00 =!= 24334.00
[    0,    27] -11582.00 =!= -26400.00
[    0,    28] -15996.00 =!= 13096.00
[    0,    29] 31726.00 =!= -5596.00
[    0,    30] 9948.00 =!= 9602.00
[    0,    31] -30204.00 =!= -17329.00
...and 262104 further errors.
Maximum relative error: 200%

Reference:
   -1024    -26810     -5508    -29317      -180   ...   -24244     -5052     10323      9988     -9682  
   -1024      3142     -7556    -27013     15180   ...    10572      8260    -10669     -8956    -16338  
   -1024    -32442     -9604    -24709     30540   ...   -20148     21572    -31661    -27900    -22994  
   -1024     -2490    -11652    -22405    -19636   ...    14668    -30652     12883     18692    -29650  
   -1024     27462    -13700    -20101     -4276   ...   -16052    -17340     -8109      -252     29230  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   -1024     20038      4732     24699    -11444   ...    -1716     -6076    -15789    -26364     23598  
   -1024    -15546      2684     27003      3916   ...   -32436      7236     28755     20228     16942  
   -1024     14406       636     29307     19276   ...     2380     20548      7763      1284     10286  
   -1024    -21178     -1412     31611    -30900   ...   -28340    -31676    -13229    -17660      3630  
   -1024      8774     -3460    -31621    -15540   ...     6476    -18364     31315     28932     -3026  

Output:
   -1152    -12472     28132    -31769    -29688   ...     9352    -22932     -7436     -2290     31064  
   -1152      2632     -5660    -15641     24584   ...    19592     10860    -24588     17166    -19880  
   -1152     17736     26084       487     13320   ...    29832    -20884     23796    -28914     -5288  
   -1152    -32696     -7708     16615      2056   ...   -25464     12908      6644     -9458      9304  
   -1152    -17592     24036     32743     -9208   ...   -15224    -18836    -10508      9998     23896  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2999.00us.
Avg NPU gflops: 402.79

Min NPU matmul time: 2999.00us.
Max NPU gflops: 402.79

Max NPU matmul time: 2999.00us.
Min NPU gflops: 402.79

Error count: 262136


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2304 -N 1280 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2304x1280_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2304x1280_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2304x1280_64x64x64_4c.txt ../build/aie_256x2304x1280_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x1280_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x1280_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x1280_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.3s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2304x1280_64x64x64_4c.xclbin -i build/insts_256x2304x1280_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2304 -N 1280 --b_col_maj 0
Final M=256
Final K=2304
Final N=1344
Matrix has been padded
[    0,     0] 30144.00 =!= 7168.00
[    0,     1] 11341.00 =!= 2984.00
[    0,     2] -818.00 =!= 12302.00
[    0,     3] 29631.00 =!= -4735.00
[    0,     4] 9792.00 =!= 12332.00
[    0,     5] 7103.00 =!= -5405.00
[    0,     6] 12808.00 =!= -8990.00
[    0,     7] 13215.00 =!= -2534.00
[    0,     8] -7864.00 =!= -28480.00
[    0,     9] -8744.00 =!= 16588.00
[    0,    10] 26088.00 =!= 25680.00
[    0,    11] -705.00 =!= 18308.00
[    0,    12] -15936.00 =!= -29200.00
[    0,    13] -8907.00 =!= -20646.00
[    0,    14] -8208.00 =!= 10476.00
[    0,    15] -31254.00 =!= -32172.00
[    0,    16] -11344.00 =!= 30352.00
[    0,    17] -6463.00 =!= -16140.00
[    0,    18] 27050.00 =!= 22964.00
[    0,    19] -28336.00 =!= 4964.00
[    0,    20] -29440.00 =!= 7880.00
[    0,    21] -16494.00 =!= 5817.00
[    0,    22] 28672.00 =!= -20228.00
[    0,    23] -6696.00 =!= 25248.00
[    0,    24] -248.00 =!= 20344.00
[    0,    25] -21513.00 =!= -18342.00
[    0,    26] -22752.00 =!= 32068.00
[    0,    27] -26591.00 =!= -15198.00
[    0,    28] -25648.00 =!= -12268.00
[    0,    29] -20893.00 =!= 24057.00
[    0,    30] 15042.00 =!= -28380.00
[    0,    31] 19799.00 =!= 22166.00
...and 327615 further errors.
Maximum relative error: 200%

Reference:
    7168      2984     12302     -4735     12332   ...    -5824    -29604     -7476      2040    -17231  
    7168     13480     29710    -10111     23596   ...   -19136      9308     -2612     27128     -7759  
    7168     23976    -18418    -15487    -30676   ...   -32448    -17316      2252    -13320      1713  
    7168    -31064     -1010    -20863    -19412   ...    19776     21596      7116     11768     11185  
    7168    -20568     16398    -26239     -8148   ...     6464     -5028     11980    -28680     20657  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
    7168     16040     -9202     22145     21548   ...    -4800    -27556    -31796      7672       945  
    7168     26536      8206     16769    -32724   ...   -18112     11356    -26932     32760     10417  
    7168    -28504     25614     11393    -21460   ...   -31424    -15268    -22068     -7688     19889  
    7168    -18008    -22514      6017    -10196   ...    20800     23644    -17204     17400     29361  
    7168     -7512     -5106       641      1068   ...     7488     -2980    -12340    -23048    -26703  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2304 -N 1536 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2304x1536_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2304x1536_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2304x1536_64x64x64_4c.txt ../build/aie_256x2304x1536_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x1536_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x1536_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x1536_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2304x1536_64x64x64_4c.xclbin -i build/insts_256x2304x1536_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2304 -N 1536 --b_col_maj 0
Final M=256
Final K=2304
Final N=1536
Matrix has been padded

Avg NPU matmul time: 3413us.
Avg NPU gflops: 530.893

Min NPU matmul time: 3413us.
Max NPU gflops: 530.893

Max NPU matmul time: 3413us.
Min NPU gflops: 530.893

PASS!

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2304 -N 1792 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2304x1792_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2304x1792_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2304x1792_64x64x64_4c.txt ../build/aie_256x2304x1792_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x1792_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x1792_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x1792_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.3s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2304x1792_64x64x64_4c.xclbin -i build/insts_256x2304x1792_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2304 -N 1792 --b_col_maj 0
Final M=256
Final K=2304
Final N=1920
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2304 -N 2048 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2304x2048_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2304x2048_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2304x2048_64x64x64_4c.txt ../build/aie_256x2304x2048_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x2048_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x2048_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x2048_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2304x2048_64x64x64_4c.xclbin -i build/insts_256x2304x2048_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2304 -N 2048 --b_col_maj 0
Final M=256
Final K=2304
Final N=2112
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2304 -N 2304 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2304x2304_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2304x2304_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2304x2304_64x64x64_4c.txt ../build/aie_256x2304x2304_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x2304_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x2304_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x2304_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.3s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2304x2304_64x64x64_4c.xclbin -i build/insts_256x2304x2304_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2304 -N 2304 --b_col_maj 0
Final M=256
Final K=2304
Final N=2304
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2304 -N 2560 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2304x2560_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2304x2560_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2304x2560_64x64x64_4c.txt ../build/aie_256x2304x2560_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x2560_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x2560_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x2560_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2304x2560_64x64x64_4c.xclbin -i build/insts_256x2304x2560_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2304 -N 2560 --b_col_maj 0
Final M=256
Final K=2304
Final N=2688
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2304 -N 2816 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2304x2816_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2304x2816_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2304x2816_64x64x64_4c.txt ../build/aie_256x2304x2816_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x2816_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x2816_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x2816_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2304x2816_64x64x64_4c.xclbin -i build/insts_256x2304x2816_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2304 -N 2816 --b_col_maj 0
Final M=256
Final K=2304
Final N=2880
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2304 -N 3072 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2304x3072_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2304x3072_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2304x3072_64x64x64_4c.txt ../build/aie_256x2304x3072_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x3072_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x3072_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x3072_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2304x3072_64x64x64_4c.xclbin -i build/insts_256x2304x3072_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2304 -N 3072 --b_col_maj 0
Final M=256
Final K=2304
Final N=3072
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2304 -N 3328 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2304x3328_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2304x3328_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2304x3328_64x64x64_4c.txt ../build/aie_256x2304x3328_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x3328_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x3328_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x3328_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.3s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2304x3328_64x64x64_4c.xclbin -i build/insts_256x2304x3328_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2304 -N 3328 --b_col_maj 0
Final M=256
Final K=2304
Final N=3456
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2304 -N 3584 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2304x3584_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2304x3584_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2304x3584_64x64x64_4c.txt ../build/aie_256x2304x3584_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x3584_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x3584_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x3584_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2304x3584_64x64x64_4c.xclbin -i build/insts_256x2304x3584_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2304 -N 3584 --b_col_maj 0
Final M=256
Final K=2304
Final N=3648
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2304 -N 3840 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2304x3840_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2304x3840_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2304x3840_64x64x64_4c.txt ../build/aie_256x2304x3840_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x3840_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x3840_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x3840_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2304x3840_64x64x64_4c.xclbin -i build/insts_256x2304x3840_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2304 -N 3840 --b_col_maj 0
Final M=256
Final K=2304
Final N=3840
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2304 -N 4096 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2304x4096_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2304x4096_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2304x4096_64x64x64_4c.txt ../build/aie_256x2304x4096_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x4096_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x4096_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2304x4096_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2304x4096_64x64x64_4c.xclbin -i build/insts_256x2304x4096_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2304 -N 4096 --b_col_maj 0
Final M=256
Final K=2304
Final N=4224
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2560 -N 256 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2560x256_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2560x256_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2560x256_64x64x64_4c.txt ../build/aie_256x2560x256_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x256_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x256_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x256_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2560x256_64x64x64_4c.xclbin -i build/insts_256x2560x256_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2560 -N 256 --b_col_maj 0
Final M=256
Final K=2560
Final N=384
Matrix has been padded
[    0,     0] -22016.00 =!= -20992.00
[    0,     1] -29475.00 =!= -27854.00
[    0,     2] -7328.00 =!= -13170.00
[    0,     3] -17475.00 =!= 15671.00
[    0,     4] -7520.00 =!= -22052.00
[    0,     5] 29194.00 =!= -4544.00
[    0,     6] 5618.00 =!= 30028.00
[    0,     7] -5398.00 =!= -18231.00
[    0,     8] -21552.00 =!= -21160.00
[    0,     9] 32274.00 =!= -12799.00
[    0,    10] 17464.00 =!= -8946.00
[    0,    11] -9470.00 =!= 28888.00
[    0,    12] 27744.00 =!= 18936.00
[    0,    13] -28979.00 =!= -19265.00
[    0,    14] 5992.00 =!= -20488.00
[    0,    15] 12097.00 =!= -12395.00
[    0,    16] -18832.00 =!= -176.00
[    0,    17] -11071.00 =!= 20828.00
[    0,    18] 7748.00 =!= 19132.00
[    0,    19] 6762.00 =!= -14994.00
[    0,    20] -4536.00 =!= 15724.00
[    0,    21] -6256.00 =!= -32460.00
[    0,    22] 21132.00 =!= -23708.00
[    0,    23] 20403.00 =!= 12886.00
[    0,    24] 8256.00 =!= 32152.00
[    0,    25] -17598.00 =!= -11371.00
[    0,    26] -21130.00 =!= -14768.00
[    0,    27] -29143.00 =!= 22261.00
[    0,    28] -12036.00 =!= 20204.00
[    0,    29] 6033.00 =!= -15705.00
[    0,    30] 8158.00 =!= 19410.00
[    0,    31] -21547.00 =!= 26421.00
...and 65504 further errors.
Maximum relative error: 100%

Reference:
  -20992    -27854    -13170     15671    -22052   ...     8070    -29520    -23544     12152     27394  
  -20992    -12494    -27506    -30921     12764   ...    -7802    -17232      8712     -5256     32002  
  -20992      2866     23694    -11977    -17956   ...   -23674     -4944    -24568    -22664    -28926  
  -20992     18226      9358      6967     16860   ...    25990      7344      7688     25464    -24318  
  -20992    -31950     -4978     25911    -13860   ...    10118     19632    -25592      8056    -19710  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
  -20992     26418     -7026    -13513       476   ...    21894    -25424     11784    -31880      4354  
  -20992    -23758    -21362      5431    -30244   ...     6022    -13136    -21496     16248      8962  
  -20992     -8398     29838     24375      4572   ...    -9850      -848     10760     -1160     13570  
  -20992      6962     15502    -22217    -26148   ...   -25722     11440    -22520    -18568     18178  
  -20992     22322      1166     -3273      8668   ...    23942     23728      9736     29560     22786  

Output:
  -22016    -29475     -7328    -17475     -7520   ...    14615     19964     11147     16210      -109  
  -22016     27869     14176    -24643     -3424   ...   -28905     -8708     22923     18258    -22637  
  -22016     19677    -29856    -31811       672   ...    -6889     28156    -30837     20306     20371  
  -22016     11485     -8352     26557      4768   ...    15127      -516    -19061     22354     -2157  
  -22016      3293     13152     19389      8864   ...   -28393    -29188     -7285     24402    -24685  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2230.00us.
Avg NPU gflops: 150.47

Min NPU matmul time: 2230.00us.
Max NPU gflops: 150.47

Max NPU matmul time: 2230.00us.
Min NPU gflops: 150.47

Error count: 65536


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2560 -N 512 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2560x512_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2560x512_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2560x512_64x64x64_4c.txt ../build/aie_256x2560x512_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x512_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x512_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x512_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2560x512_64x64x64_4c.xclbin -i build/insts_256x2560x512_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2560 -N 512 --b_col_maj 0
Final M=256
Final K=2560
Final N=576
Matrix has been padded
[    0,     0] 23424.00 =!= 4096.00
[    0,     1] 12573.00 =!= -16122.00
[    0,     2] -6920.00 =!= -32572.00
[    0,     3] -20092.00 =!= -43.00
[    0,     4] 19776.00 =!= -9640.00
[    0,     5] 31348.00 =!= 14308.00
[    0,     6] -28800.00 =!= -20580.00
[    0,     7] 7707.00 =!= -32301.00
[    0,     8] -1344.00 =!= -22640.00
[    0,     9] 8852.00 =!= -26899.00
[    0,    10] 28460.00 =!= 18412.00
[    0,    11] -18229.00 =!= -29734.00
[    0,    12] -25748.00 =!= 14060.00
[    0,    13] 17000.00 =!= 16650.00
[    0,    14] -1612.00 =!= -32318.00
[    0,    15] 8461.00 =!= 20671.00
[    0,    16] -31168.00 =!= 5904.00
[    0,    17] 20862.00 =!= -14043.00
[    0,    18] 24198.00 =!= -10506.00
[    0,    19] 29659.00 =!= -6791.00
[    0,    20] -5216.00 =!= -10408.00
[    0,    21] -17840.00 =!= 15596.00
[    0,    22] -628.00 =!= 12138.00
[    0,    23] 13289.00 =!= 10388.00
[    0,    24] 8336.00 =!= 32512.00
[    0,    25] -27293.00 =!= -1739.00
[    0,    26] 10960.00 =!= -31488.00
[    0,    27] 20435.00 =!= 29812.00
[    0,    28] 2600.00 =!= 14612.00
[    0,    29] 18157.00 =!= 29780.00
[    0,    30] -26996.00 =!= 18486.00
[    0,    31] -3600.00 =!= 27447.00
...and 131040 further errors.
Maximum relative error: 200%

Reference:
    4096    -16122    -32572       -43     -9640   ...   -16388     22016      4453       836     24443  
    4096     23814     24772     12245     -9640   ...    15868      3584     20325     28484    -16005  
    4096     -1786     16580     24533     -9640   ...   -17412    -14848    -29339     -9404      9083  
    4096    -27386      8388    -28715     -9640   ...    14844     32256    -13467     18244    -31365  
    4096     12550       196    -16427     -9640   ...   -18436     13824      2405    -19644     -6277  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
    4096    -19194      8388      4053     -9640   ...    18940    -16896     -9371     -6332     30075  
    4096     20742       196     16341     -9640   ...   -14340     30208      6501     21316    -10373  
    4096     -4858     -7996     28629     -9640   ...    17916     11776     22373    -16572     14715  
    4096    -30458    -16188    -24619     -9640   ...   -15364     -6656    -27291     11076    -25733  
    4096      9478    -24380    -12331     -9640   ...    16892    -25088    -11419    -26812      -645  

Output:
   23424     12573     -6920    -20092     19776   ...    -4541    -14508     -7530    -19076     12815  
   23424    -14051    -27400    -18044     21824   ...    11843    -30892      1174    -30340     31247  
   23424     24861     17656    -15996     23872   ...    28227     18260      9878     23932    -15857  
   23424     -1763     -2824    -13948     25920   ...   -20925      1876     18582     12668      2575  
   23424    -28387    -23304    -11900     27968   ...    -4541    -14508     27286      1404     21007  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2602.00us.
Avg NPU gflops: 257.91

Min NPU matmul time: 2602.00us.
Max NPU gflops: 257.91

Max NPU matmul time: 2602.00us.
Min NPU gflops: 257.91

Error count: 131072


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2560 -N 768 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2560x768_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2560x768_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2560x768_64x64x64_4c.txt ../build/aie_256x2560x768_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x768_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x768_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x768_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2560x768_64x64x64_4c.xclbin -i build/insts_256x2560x768_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2560 -N 768 --b_col_maj 0
Final M=256
Final K=2560
Final N=768
Matrix has been padded

Avg NPU matmul time: 2737us.
Avg NPU gflops: 367.787

Min NPU matmul time: 2737us.
Max NPU gflops: 367.787

Max NPU matmul time: 2737us.
Min NPU gflops: 367.787

PASS!

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2560 -N 1024 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2560x1024_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2560x1024_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2560x1024_64x64x64_4c.txt ../build/aie_256x2560x1024_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x1024_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x1024_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x1024_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2560x1024_64x64x64_4c.xclbin -i build/insts_256x2560x1024_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2560 -N 1024 --b_col_maj 0
Final M=256
Final K=2560
Final N=1152
Matrix has been padded
[    0,     0] -13568.00 =!= -7168.00
[    0,     1] 2061.00 =!= 8105.00
[    0,     2] -14752.00 =!= -22678.00
[    0,     3] 9991.00 =!= 3817.00
[    0,     4] 2336.00 =!= -11632.00
[    0,     5] 27137.00 =!= -17660.00
[    0,     6] 27020.00 =!= 11058.00
[    0,     7] -490.00 =!= -9561.00
[    0,     8] 4928.00 =!= -13392.00
[    0,     9] -7770.00 =!= -25483.00
[    0,    10] -19164.00 =!= 21922.00
[    0,    11] -1378.00 =!= -32078.00
[    0,    12] 19608.00 =!= -488.00
[    0,    13] -6940.00 =!= 28112.00
[    0,    14] 7042.00 =!= 24156.00
[    0,    15] 18127.00 =!= -7368.00
[    0,    16] 32272.00 =!= 23584.00
[    0,    17] 28310.00 =!= 15744.00
[    0,    18] 30386.00 =!= 17344.00
[    0,    19] -14338.00 =!= -28865.00
[    0,    20] -31380.00 =!= 1524.00
[    0,    21] -7054.00 =!= 29320.00
[    0,    22] -29012.00 =!= 30758.00
[    0,    23] -24423.00 =!= 1252.00
[    0,    24] 7280.00 =!= 25184.00
[    0,    25] 1357.00 =!= -18137.00
[    0,    26] 3426.00 =!= -25624.00
[    0,    27] 19407.00 =!= 3596.00
[    0,    28] -6196.00 =!= 32316.00
[    0,    29] -7048.00 =!= 26159.00
[    0,    30] 17080.00 =!= -1454.00
[    0,    31] 9306.00 =!= -31949.00
...and 262112 further errors.
Maximum relative error: 200%

Reference:
   -7168      8105    -22678      3817    -11632   ...    32513    -32624    -17665     23304    -31802  
   -7168      8617      7018      3305     -7536   ...   -21247    -10096      8447    -10488    -31802  
   -7168      9129    -28822      2793     -3440   ...    -9471     12432    -30977     21256    -31802  
   -7168      9641       874      2281       656   ...     2305    -30576     -4865    -12536    -31802  
   -7168     10153     30570      1769      4752   ...    14081     -8048     21247     19208    -31802  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   -7168      5545     25450      6377    -32112   ...   -26367    -14192    -17153     -4344    -31802  
   -7168      6057    -10390      5865    -28016   ...   -14591      8336      8959     27400    -31802  
   -7168      6569     19306      5353    -23920   ...    -2815     30864    -30465     -6392    -31802  
   -7168      7081    -16534      4841    -19824   ...     8961    -12144     -4353     25352    -31802  
   -7168      7593     13162      4329    -15728   ...    20737     10384     21759     -8440    -31802  

Output:
  -13568      2061    -14752      9991      2336   ...    14086    -22364     17956     -2518      4281  
  -13568     26637     11872    -23289     26912   ...   -11002     20644      2084    -32214      -327  
  -13568    -14323    -27040      8967    -14048   ...    29446     -1884    -13788      3626     -4935  
  -13568     10253      -416    -24313     10528   ...     4358    -24412    -29660    -26070     -9543  
  -13568    -30707     26208      7943    -30432   ...   -20730     18596     20004      9770    -14151  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 3136.00us.
Avg NPU gflops: 427.99

Min NPU matmul time: 3136.00us.
Max NPU gflops: 427.99

Max NPU matmul time: 3136.00us.
Min NPU gflops: 427.99

Error count: 262144


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2560 -N 1280 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2560x1280_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2560x1280_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2560x1280_64x64x64_4c.txt ../build/aie_256x2560x1280_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x1280_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x1280_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x1280_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.3s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2560x1280_64x64x64_4c.xclbin -i build/insts_256x2560x1280_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2560 -N 1280 --b_col_maj 0
Final M=256
Final K=2560
Final N=1344
Matrix has been padded
[    0,     0] 3968.00 =!= -18688.00
[    0,     1] 4774.00 =!= 26054.00
[    0,     2] -18352.00 =!= -10230.00
[    0,     3] -3070.00 =!= -26114.00
[    0,     4] 15164.00 =!= -18792.00
[    0,     5] -26360.00 =!= -27453.00
[    0,     6] 10688.00 =!= 14034.00
[    0,     7] -8669.00 =!= 29554.00
[    0,     8] -22072.00 =!= 1952.00
[    0,     9] -19212.00 =!= -19441.00
[    0,    10] -22788.00 =!= -13000.00
[    0,    11] 16116.00 =!= -7431.00
[    0,    12] -8840.00 =!= 16380.00
[    0,    13] 18759.00 =!= -2524.00
[    0,    14] 32682.00 =!= -18798.00
[    0,    15] 15799.00 =!= -11843.00
[    0,    16] 14464.00 =!= -28464.00
[    0,    17] -24440.00 =!= 2432.00
[    0,    18] -22944.00 =!= -31750.00
[    0,    19] -26149.00 =!= 4328.00
[    0,    20] -2156.00 =!= -23348.00
[    0,    21] -231.00 =!= -31630.00
[    0,    22] -2800.00 =!= 13370.00
[    0,    23] 31688.00 =!= -2350.00
[    0,    24] 6520.00 =!= -20280.00
[    0,    25] -13650.00 =!= -21222.00
[    0,    26] -24520.00 =!= -17342.00
[    0,    27] 6847.00 =!= 32605.00
[    0,    28] 1764.00 =!= -16536.00
[    0,    29] -25398.00 =!= 26625.00
[    0,    30] -26952.00 =!= 15764.00
[    0,    31] 18113.00 =!= -15656.00
...and 327608 further errors.
Maximum relative error: 200%

Reference:
  -18688     26054    -10230    -26114    -18792   ...    24864     26584     27475     -4040    -15420  
  -18688     31174     21514     21502    -14696   ...    17696    -24616    -15021     -7112      8644  
  -18688    -29242    -12278      3582    -10600   ...    10528    -10280      8019    -10184     32708  
  -18688    -24122     19466    -14338     -6504   ...     3360      4056     31059    -13256     -8764  
  -18688    -19002    -14326    -32258     -2408   ...    -3808     18392    -11437    -16328     15300  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
  -18688       454     27658     -2050     26264   ...    -4832     20440    -22189     11320     -4668  
  -18688      5574     -6134    -19970     30360   ...   -12000    -30760       851      8248     19396  
  -18688     10694     25610     27646    -31080   ...   -19168    -16424     23891      5176    -22076  
  -18688     15814     -8182      9726    -26984   ...   -26336     -2088    -18605      2104      1988  
  -18688     20934     23562     -8194    -22888   ...    32032     12248      4435      -968     26052  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2560 -N 1536 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2560x1536_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2560x1536_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2560x1536_64x64x64_4c.txt ../build/aie_256x2560x1536_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x1536_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x1536_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x1536_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2560x1536_64x64x64_4c.xclbin -i build/insts_256x2560x1536_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2560 -N 1536 --b_col_maj 0
Final M=256
Final K=2560
Final N=1536
Matrix has been padded

Avg NPU matmul time: 3448us.
Avg NPU gflops: 583.894

Min NPU matmul time: 3448us.
Max NPU gflops: 583.894

Max NPU matmul time: 3448us.
Min NPU gflops: 583.894

PASS!

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2560 -N 1792 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2560x1792_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2560x1792_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2560x1792_64x64x64_4c.txt ../build/aie_256x2560x1792_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x1792_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x1792_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x1792_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2560x1792_64x64x64_4c.xclbin -i build/insts_256x2560x1792_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2560 -N 1792 --b_col_maj 0
Final M=256
Final K=2560
Final N=1920
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2560 -N 2048 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2560x2048_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2560x2048_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2560x2048_64x64x64_4c.txt ../build/aie_256x2560x2048_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x2048_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x2048_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x2048_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2560x2048_64x64x64_4c.xclbin -i build/insts_256x2560x2048_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2560 -N 2048 --b_col_maj 0
Final M=256
Final K=2560
Final N=2112
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2560 -N 2304 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2560x2304_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2560x2304_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2560x2304_64x64x64_4c.txt ../build/aie_256x2560x2304_64x64x64_4c.mlir
[AIE ERROR] _XAie_LoadProgMemSection():231: Overflow of program memory
XAie_LoadElf failed with XAIE_INVALID_ELFFound xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x2304_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Traceback (most recent call last):
  File "/home/mliraie/mlir-aie/my_install/mlir_aie/bin/aiecc.py", line 12, in <module>
    main()
  File "/home/mliraie/mlir-aie/my_install/mlir_aie/python/aie/compiler/aiecc/main.py", line 1280, in main
    run(module_str)
  File "/home/mliraie/mlir-aie/my_install/mlir_aie/python/aie/compiler/aiecc/main.py", line 1254, in run
    asyncio.run(runner.run_flow())
  File "/usr/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/base_events.py", line 687, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/home/mliraie/mlir-aie/my_install/mlir_aie/python/aie/compiler/aiecc/main.py", line 1168, in run_flow
    await self.process_cdo()
  File "/home/mliraie/mlir-aie/my_install/mlir_aie/python/aie/compiler/aiecc/main.py", line 580, in process_cdo
    generate_cdo(input_physical.operation, self.tmpdirname)
ValueError: Failed to generate cdo because: 
make: *** [/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../makefile-common-padding:107: build/final_256x2560x2304_64x64x64_4c.xclbin] Error 1
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.3s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2560x2304_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2560x2304_64x64x64_4c.txt ../build/aie_256x2560x2304_64x64x64_4c.mlir
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x2304_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2560 -N 2560 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2560x2560_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2560x2560_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2560x2560_64x64x64_4c.txt ../build/aie_256x2560x2560_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x2560_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x2560_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x2560_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2560x2560_64x64x64_4c.xclbin -i build/insts_256x2560x2560_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2560 -N 2560 --b_col_maj 0
Final M=256
Final K=2560
Final N=2688
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2560 -N 2816 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2560x2816_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2560x2816_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2560x2816_64x64x64_4c.txt ../build/aie_256x2560x2816_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x2816_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x2816_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x2816_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2560x2816_64x64x64_4c.xclbin -i build/insts_256x2560x2816_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2560 -N 2816 --b_col_maj 0
Final M=256
Final K=2560
Final N=2880
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2560 -N 3072 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2560x3072_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2560x3072_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2560x3072_64x64x64_4c.txt ../build/aie_256x2560x3072_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x3072_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x3072_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x3072_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2560x3072_64x64x64_4c.xclbin -i build/insts_256x2560x3072_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2560 -N 3072 --b_col_maj 0
Final M=256
Final K=2560
Final N=3072
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2560 -N 3328 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2560x3328_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2560x3328_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2560x3328_64x64x64_4c.txt ../build/aie_256x2560x3328_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x3328_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x3328_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x3328_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2560x3328_64x64x64_4c.xclbin -i build/insts_256x2560x3328_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2560 -N 3328 --b_col_maj 0
Final M=256
Final K=2560
Final N=3456
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2560 -N 3584 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2560x3584_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2560x3584_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2560x3584_64x64x64_4c.txt ../build/aie_256x2560x3584_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x3584_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x3584_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x3584_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2560x3584_64x64x64_4c.xclbin -i build/insts_256x2560x3584_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2560 -N 3584 --b_col_maj 0
Final M=256
Final K=2560
Final N=3648
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2560 -N 3840 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2560x3840_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2560x3840_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2560x3840_64x64x64_4c.txt ../build/aie_256x2560x3840_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x3840_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x3840_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x3840_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2560x3840_64x64x64_4c.xclbin -i build/insts_256x2560x3840_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2560 -N 3840 --b_col_maj 0
Final M=256
Final K=2560
Final N=3840
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2560 -N 4096 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2560x4096_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2560x4096_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2560x4096_64x64x64_4c.txt ../build/aie_256x2560x4096_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x4096_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x4096_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2560x4096_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2560x4096_64x64x64_4c.xclbin -i build/insts_256x2560x4096_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2560 -N 4096 --b_col_maj 0
Final M=256
Final K=2560
Final N=4224
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2816 -N 256 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2816x256_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2816x256_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2816x256_64x64x64_4c.txt ../build/aie_256x2816x256_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x256_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x256_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x256_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2816x256_64x64x64_4c.xclbin -i build/insts_256x2816x256_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2816 -N 256 --b_col_maj 0
Final M=256
Final K=2816
Final N=384
Matrix has been padded
[    0,     0] -27264.00 =!= 26112.00
[    0,     1] 13080.00 =!= -22633.00
[    0,     2] 20598.00 =!= -6982.00
[    0,     3] -26678.00 =!= -9283.00
[    0,     4] 5448.00 =!= -2656.00
[    0,     5] -21403.00 =!= -31067.00
[    0,     6] 20984.00 =!= -5764.00
[    0,     7] -13194.00 =!= -181.00
[    0,     8] 13160.00 =!= 1664.00
[    0,     9] 23522.00 =!= 4070.00
[    0,    10] 3534.00 =!= 26152.00
[    0,    11] 6056.00 =!= 11562.00
[    0,    12] -26424.00 =!= -6396.00
[    0,    13] 15655.00 =!= -9280.00
[    0,    14] 10096.00 =!= -1866.00
[    0,    15] -23895.00 =!= -24450.00
[    0,    16] -18272.00 =!= 880.00
[    0,    17] 12809.00 =!= -4099.00
[    0,    18] 8870.00 =!= 12042.00
[    0,    19] 11087.00 =!= 16216.00
[    0,    20] 19412.00 =!= 21936.00
[    0,    21] 7697.00 =!= 32717.00
[    0,    22] 18802.00 =!= -22378.00
[    0,    23] 13672.00 =!= 2477.00
[    0,    24] 2472.00 =!= 28032.00
[    0,    25] 27074.00 =!= 25940.00
[    0,    26] 6710.00 =!= -20474.00
[    0,    27] 25426.00 =!= -15758.00
[    0,    28] -2588.00 =!= 2720.00
[    0,    29] 5280.00 =!= -29144.00
[    0,    30] -17028.00 =!= 12858.00
[    0,    31] -14717.00 =!= -1747.00
...and 65504 further errors.
Maximum relative error: 100%

Reference:
   26112    -22633     -6982     -9283     -2656   ...    19200      2748      4594     -6592      6526  
   26112      1687      8378     24509     19872   ...    24320     28348    -22798     21056    -23170  
   26112     26007     23738     -7235    -23136   ...    29440    -11588     15346    -16832     12670  
   26112    -15209    -26438     26557      -608   ...   -30976     14012    -12046     10816    -17026  
   26112      9111    -11078     -5187     21920   ...   -25856    -25924     26098    -27072     18814  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   26112    -13161    -18246     18365     15776   ...    -6400      5820     10482    -13760     23934  
   26112     11159     -2886    -13379    -27232   ...    -1280     31420    -16910     13888     -5762  
   26112    -30057     12474     20413     -4704   ...     3840     -8516     21234    -24000     30078  
   26112     -5737     27834    -11331     17824   ...     8960     17084     -6158      3648       382  
   26112     18583    -22342     22461    -25184   ...    14080    -22852     31986     31296    -29314  

Output:
  -27264     13080     20598    -26678      5448   ...   -20828     -3320    -13870    -21700    -32110  
    5504    -14824      5750     -9014    -30392   ...   -10588      1800    -26158    -20676     11154  
  -27264     22808     -9098      8650      -696   ...     -348      6920     27090    -19652    -11118  
    5504     -5096    -23946     26314     29000   ...     9892     12040     14802    -18628     32146  
  -27264     32536     26742    -21558     -6840   ...    20132     17160      2514    -17604      9874  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2305.00us.
Avg NPU gflops: 160.13

Min NPU matmul time: 2305.00us.
Max NPU gflops: 160.13

Max NPU matmul time: 2305.00us.
Min NPU gflops: 160.13

Error count: 65536


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2816 -N 512 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2816x512_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2816x512_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2816x512_64x64x64_4c.txt ../build/aie_256x2816x512_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x512_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x512_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x512_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2816x512_64x64x64_4c.xclbin -i build/insts_256x2816x512_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2816 -N 512 --b_col_maj 0
Final M=256
Final K=2816
Final N=576
Matrix has been padded
[    0,     0] -7424.00 =!= 29696.00
[    0,     1] -127.00 =!= 4415.00
[    0,     2] -22974.00 =!= -22422.00
[    0,     3] 6731.00 =!= 14465.00
[    0,     4] -20296.00 =!= -2348.00
[    0,     5] -3255.00 =!= 8078.00
[    0,     6] 1182.00 =!= 2326.00
[    0,     7] -26602.00 =!= 16563.00
[    0,     8] 22648.00 =!= 7288.00
[    0,     9] -4661.00 =!= 23425.00
[    0,    10] 31692.00 =!= -22546.00
[    0,    11] 20730.00 =!= -10399.00
[    0,    12] 5888.00 =!= -28200.00
[    0,    13] -23051.00 =!= -17161.00
[    0,    14] -16538.00 =!= 16594.00
[    0,    15] 22369.00 =!= -8454.00
[    0,    16] -5264.00 =!= -18512.00
[    0,    17] 22582.00 =!= 29311.00
[    0,    18] -1862.00 =!= 15026.00
[    0,    19] 2476.00 =!= 24095.00
[    0,    20] -29072.00 =!= -15852.00
[    0,    21] 2156.00 =!= 1940.00
[    0,    22] 31632.00 =!= 15822.00
[    0,    23] 13955.00 =!= -4912.00
[    0,    24] 23848.00 =!= 20328.00
[    0,    25] 24279.00 =!= -10491.00
[    0,    26] 16216.00 =!= -19236.00
[    0,    27] -9409.00 =!= 18425.00
[    0,    28] -28888.00 =!= -772.00
[    0,    29] -22250.00 =!= -26366.00
[    0,    30] 16064.00 =!= -908.00
[    0,    31] -7327.00 =!= 13355.00
...and 131040 further errors.
Maximum relative error: 200%

Reference:
   29696      4415    -22422     14465     -2348   ...     4601      9896    -29542      7044    -10650  
   29696      9535    -14230    -31103     -7468   ...   -17671     17064    -17510     19844     17510  
   29696     14655     -6038    -11135    -12588   ...    25593     24232     -5478     32644    -19866  
   29696     19775      2154      8833    -17708   ...     3321     31400      6554    -20092      8294  
   29696     24895     10346     28801    -22828   ...   -18951    -26968     18586     -7292    -29082  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   29696    -21185      2154    -19839     23252   ...   -15111    -25944    -24166      8580    -20378  
   29696    -16065     10346       129     18132   ...    28153    -18776    -12134     21380      7782  
   29696    -10945     18538     20097     13012   ...     5881    -11608      -102    -31356    -29594  
   29696     -5825     26730    -25471      7892   ...   -16391     -4440     11930    -18556     -1434  
   29696      -705    -30614     -5503      2772   ...    26873      2728     23962     -5756     26726  

Output:
   -7424      -127    -22974      6731    -20296   ...     3429     11980     29760    -31006     32481  
   -7424    -10879     -2494      5707      9400   ...      357     19148       576    -14110    -12063  
   -7424    -21631     17986      4683    -26440   ...    -2715     26316    -28608      2786      8929  
   -7424    -32383    -27070      3659      3256   ...    -5787    -32052      7744     19682     29921  
   -7424     22401     -6590      2635    -32584   ...    -8859    -24884    -21440    -28958    -14623  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2646.00us.
Avg NPU gflops: 278.99

Min NPU matmul time: 2646.00us.
Max NPU gflops: 278.99

Max NPU matmul time: 2646.00us.
Min NPU gflops: 278.99

Error count: 131072


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2816 -N 768 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2816x768_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2816x768_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2816x768_64x64x64_4c.txt ../build/aie_256x2816x768_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x768_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x768_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x768_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2816x768_64x64x64_4c.xclbin -i build/insts_256x2816x768_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2816 -N 768 --b_col_maj 0
Final M=256
Final K=2816
Final N=768
Matrix has been padded

Avg NPU matmul time: 3832us.
Avg NPU gflops: 288.96

Min NPU matmul time: 3832us.
Max NPU gflops: 288.96

Max NPU matmul time: 3832us.
Min NPU gflops: 288.96

PASS!

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2816 -N 1024 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2816x1024_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2816x1024_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2816x1024_64x64x64_4c.txt ../build/aie_256x2816x1024_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x1024_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x1024_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x1024_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2816x1024_64x64x64_4c.xclbin -i build/insts_256x2816x1024_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2816 -N 1024 --b_col_maj 0
Final M=256
Final K=2816
Final N=1152
Matrix has been padded
[    0,     0] -12928.00 =!= 21504.00
[    0,     1] -15180.00 =!= 18828.00
[    0,     2] -17454.00 =!= 17302.00
[    0,     3] -7731.00 =!= -15880.00
[    0,     4] 30424.00 =!= -28980.00
[    0,     5] -21263.00 =!= 19897.00
[    0,     6] 10646.00 =!= 19662.00
[    0,     7] 29619.00 =!= 11894.00
[    0,     8] 26264.00 =!= -40.00
[    0,     9] 2520.00 =!= -3076.00
[    0,    10] -22764.00 =!= -18136.00
[    0,    11] 5528.00 =!= 12578.00
[    0,    12] -24328.00 =!= -12972.00
[    0,    13] 18832.00 =!= -17658.00
[    0,    14] -11592.00 =!= 7168.00
[    0,    15] -22230.00 =!= 28292.00
[    0,    16] -31168.00 =!= 8352.00
[    0,    17] -12519.00 =!= 24860.00
[    0,    18] 27808.00 =!= -19400.00
[    0,    19] 4915.00 =!= 9771.00
[    0,    20] -4144.00 =!= -20180.00
[    0,    21] 29110.00 =!= 2641.00
[    0,    22] 19096.00 =!= 14972.00
[    0,    23] -28241.00 =!= -25939.00
[    0,    24] -27776.00 =!= -20712.00
[    0,    25] -5678.00 =!= -892.00
[    0,    26] 18418.00 =!= 424.00
[    0,    27] -4616.00 =!= -16511.00
[    0,    28] 3436.00 =!= -26744.00
[    0,    29] -607.00 =!= 28679.00
[    0,    30] -32164.00 =!= 22090.00
[    0,    31] -20925.00 =!= -3256.00
...and 262088 further errors.
Maximum relative error: 200%

Reference:
   21504     18828     17302    -15880    -28980   ...    27861     29652      3531    -23086     -1309  
   21504    -15476     29078    -20488     32460   ...    25301     20436     31691       978     30435  
   21504     15756    -24682    -25096     28364   ...    22741     11220     -5685     25042     -3357  
   21504    -18548    -12906    -29704     24268   ...    20181      2004     22475    -16430     28387  
   21504     12684     -1130     31224     20172   ...    17621     -7212    -14901      7634     -5405  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   21504     -6260     23958      7160     -8500   ...   -24875     10196     -6197    -12334    -28957  
   21504     24972    -29802      2552    -12596   ...   -27435       980     21963     11730      2787  
   21504     -9332    -18026     -2056    -16692   ...   -29995     -8236    -15413    -29742    -31005  
   21504     21900     -6250     -6664    -20788   ...   -32555    -17452     12747     -5678       739  
   21504    -12404      5526    -11272    -24884   ...    30421    -26668    -24629     18386     32483  

Output:
  -12928    -15180    -17454     -7731     30424   ...   -23675      9428     12920     14016    -32115  
   19840     10932     17362     -4403     14040   ...   -29307     30932    -26760    -13632    -22643  
  -12928    -28492    -13358     -1075     -2344   ...    30597    -13100      -904     24256    -13171  
   19840     -2380     21458      2253    -18728   ...    24965      8404     24952     -3392     -3699  
  -12928     23732     -9262      5581     30424   ...    19333     29908    -14728    -31040      5773  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 3085.00us.
Avg NPU gflops: 478.57

Min NPU matmul time: 3085.00us.
Max NPU gflops: 478.57

Max NPU matmul time: 3085.00us.
Min NPU gflops: 478.57

Error count: 262120


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2816 -N 1280 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2816x1280_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2816x1280_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2816x1280_64x64x64_4c.txt ../build/aie_256x2816x1280_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x1280_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x1280_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x1280_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2816x1280_64x64x64_4c.xclbin -i build/insts_256x2816x1280_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2816 -N 1280 --b_col_maj 0
Final M=256
Final K=2816
Final N=1344
Matrix has been padded
[    0,     0] -24704.00 =!= -9984.00
[    0,     1] 15093.00 =!= 10652.00
[    0,     2] -24596.00 =!= -12338.00
[    0,     3] 12875.00 =!= 4541.00
[    0,     4] 23692.00 =!= 23648.00
[    0,     5] -3178.00 =!= 5570.00
[    0,     6] -10624.00 =!= 10608.00
[    0,     7] 14307.00 =!= -6594.00
[    0,     8] 2432.00 =!= -19416.00
[    0,     9] 28310.00 =!= 22190.00
[    0,    10] 11896.00 =!= 2954.00
[    0,    11] -22425.00 =!= -3050.00
[    0,    12] -28140.00 =!= 5232.00
[    0,    13] 30256.00 =!= 28260.00
[    0,    14] -3570.00 =!= -18382.00
[    0,    15] -19943.00 =!= 1774.00
[    0,    16] -32736.00 =!= -8832.00
[    0,    17] -1506.00 =!= 20804.00
[    0,    18] 19136.00 =!= 5170.00
[    0,    19] 2265.00 =!= 28211.00
[    0,    20] -22644.00 =!= -18348.00
[    0,    21] 12572.00 =!= -7126.00
[    0,    22] 6342.00 =!= -19658.00
[    0,    23] 10802.00 =!= 5630.00
[    0,    24] 10344.00 =!= 10480.00
[    0,    25] 19921.00 =!= 21948.00
[    0,    26] -6254.00 =!= 13832.00
[    0,    27] -3021.00 =!= -11106.00
[    0,    28] -17960.00 =!= -12344.00
[    0,    29] 12639.00 =!= 5267.00
[    0,    30] 31808.00 =!= -4584.00
[    0,    31] 24825.00 =!= -15513.00
...and 327586 further errors.
Maximum relative error: 200%

Reference:
   -9984     10652    -12338      4541     23648   ...    21054     -3168     13420    -28416      -417  
   -9984     -5732     -6706    -24131     14432   ...     2110     21408    -28564     -8448    -15521  
   -9984    -22116     -1074     12733      5216   ...   -16834    -19552     -5012     11520    -30625  
   -9984     27036      4558    -15939     -4000   ...    29758      5024     18540     31488     19807  
   -9984     10652     10190     20925    -13216   ...    10814     29600    -23444    -14080      4703  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   -9984     27036     25038     16829      4192   ...   -15298      5024     26732      2816      9567  
   -9984     10652     30670    -11843     -5024   ...    31294     29600    -15252     22784     -5537  
   -9984     -5732    -29234     25021    -14240   ...    12350    -11360      8300    -22784    -20641  
   -9984    -22116    -23602     -3651    -23456   ...    -6594     13216     31852     -2816     29791  
   -9984     27036    -17970    -32323    -32672   ...   -25538    -27744    -10132     17152     14687  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2816 -N 1536 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2816x1536_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2816x1536_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2816x1536_64x64x64_4c.txt ../build/aie_256x2816x1536_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x1536_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x1536_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x1536_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2816x1536_64x64x64_4c.xclbin -i build/insts_256x2816x1536_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2816 -N 1536 --b_col_maj 0
Final M=256
Final K=2816
Final N=1536
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2816 -N 1792 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2816x1792_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2816x1792_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2816x1792_64x64x64_4c.txt ../build/aie_256x2816x1792_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x1792_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x1792_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x1792_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2816x1792_64x64x64_4c.xclbin -i build/insts_256x2816x1792_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2816 -N 1792 --b_col_maj 0
Final M=256
Final K=2816
Final N=1920
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2816 -N 2048 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2816x2048_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2816x2048_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2816x2048_64x64x64_4c.txt ../build/aie_256x2816x2048_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x2048_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x2048_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x2048_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2816x2048_64x64x64_4c.xclbin -i build/insts_256x2816x2048_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2816 -N 2048 --b_col_maj 0
Final M=256
Final K=2816
Final N=2112
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2816 -N 2304 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2816x2304_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2816x2304_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2816x2304_64x64x64_4c.txt ../build/aie_256x2816x2304_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x2304_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x2304_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x2304_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2816x2304_64x64x64_4c.xclbin -i build/insts_256x2816x2304_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2816 -N 2304 --b_col_maj 0
Final M=256
Final K=2816
Final N=2304
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2816 -N 2560 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2816x2560_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2816x2560_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2816x2560_64x64x64_4c.txt ../build/aie_256x2816x2560_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x2560_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x2560_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x2560_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2816x2560_64x64x64_4c.xclbin -i build/insts_256x2816x2560_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2816 -N 2560 --b_col_maj 0
Final M=256
Final K=2816
Final N=2688
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2816 -N 2816 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2816x2816_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2816x2816_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2816x2816_64x64x64_4c.txt ../build/aie_256x2816x2816_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x2816_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x2816_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x2816_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2816x2816_64x64x64_4c.xclbin -i build/insts_256x2816x2816_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2816 -N 2816 --b_col_maj 0
Final M=256
Final K=2816
Final N=2880
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2816 -N 3072 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2816x3072_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2816x3072_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2816x3072_64x64x64_4c.txt ../build/aie_256x2816x3072_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x3072_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x3072_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x3072_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2816x3072_64x64x64_4c.xclbin -i build/insts_256x2816x3072_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2816 -N 3072 --b_col_maj 0
Final M=256
Final K=2816
Final N=3072
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2816 -N 3328 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2816x3328_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2816x3328_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2816x3328_64x64x64_4c.txt ../build/aie_256x2816x3328_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x3328_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x3328_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x3328_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2816x3328_64x64x64_4c.xclbin -i build/insts_256x2816x3328_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2816 -N 3328 --b_col_maj 0
Final M=256
Final K=2816
Final N=3456
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2816 -N 3584 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2816x3584_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2816x3584_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2816x3584_64x64x64_4c.txt ../build/aie_256x2816x3584_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x3584_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x3584_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x3584_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2816x3584_64x64x64_4c.xclbin -i build/insts_256x2816x3584_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2816 -N 3584 --b_col_maj 0
Final M=256
Final K=2816
Final N=3648
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2816 -N 3840 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2816x3840_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2816x3840_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2816x3840_64x64x64_4c.txt ../build/aie_256x2816x3840_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x3840_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x3840_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x3840_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2816x3840_64x64x64_4c.xclbin -i build/insts_256x2816x3840_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2816 -N 3840 --b_col_maj 0
Final M=256
Final K=2816
Final N=3840
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 2816 -N 4096 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x2816x4096_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x2816x4096_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x2816x4096_64x64x64_4c.txt ../build/aie_256x2816x4096_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x4096_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x4096_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x2816x4096_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x2816x4096_64x64x64_4c.xclbin -i build/insts_256x2816x4096_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 2816 -N 4096 --b_col_maj 0
Final M=256
Final K=2816
Final N=4224
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 3072 -N 256 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x3072x256_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x3072x256_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x3072x256_64x64x64_4c.txt ../build/aie_256x3072x256_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x256_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x256_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x256_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x3072x256_64x64x64_4c.xclbin -i build/insts_256x3072x256_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 3072 -N 256 --b_col_maj 0
Final M=256
Final K=3072
Final N=384
Matrix has been padded
[    0,     0] -1536.00 =!= 24320.00
[    0,     1] -25867.00 =!= 25714.00
[    0,     2] 4098.00 =!= -490.00
[    0,     3] -2638.00 =!= -23473.00
[    0,     4] 13780.00 =!= -7492.00
[    0,     5] 27152.00 =!= -20937.00
[    0,     6] 29882.00 =!= -27092.00
[    0,     7] 18812.00 =!= -24729.00
[    0,     8] 30488.00 =!= -26040.00
[    0,     9] -14223.00 =!= -3234.00
[    0,    10] -23304.00 =!= -8038.00
[    0,    11] -17969.00 =!= 2189.00
[    0,    12] -2100.00 =!= -13576.00
[    0,    13] 9431.00 =!= -1307.00
[    0,    14] -12750.00 =!= -22832.00
[    0,    15] -6665.00 =!= 28316.00
[    0,    16] 28112.00 =!= 18496.00
[    0,    17] -13130.00 =!= 19252.00
[    0,    18] -6136.00 =!= 30562.00
[    0,    19] -6849.00 =!= -12744.00
[    0,    20] -11620.00 =!= 27496.00
[    0,    21] 101.00 =!= 12972.00
[    0,    22] -23424.00 =!= -19470.00
[    0,    23] -19010.00 =!= -6017.00
[    0,    24] 1024.00 =!= 864.00
[    0,    25] 5570.00 =!= -10972.00
[    0,    26] 24474.00 =!= -28502.00
[    0,    27] -9997.00 =!= -10465.00
[    0,    28] 26316.00 =!= -32180.00
[    0,    29] -15394.00 =!= 29639.00
[    0,    30] -6430.00 =!= 26738.00
[    0,    31] -31284.00 =!= 18945.00
...and 65504 further errors.
Maximum relative error: 100%

Reference:
   24320     25714      -490    -23473     -7492   ...     9172     31004     17936    -24132     -2446  
   24320     21618      1558     31823       700   ...    27604      2332     23056     -9796     -7566  
   24320     17522      3606     21583      8892   ...   -19500    -26340     28176      4540    -12686  
   24320     13426      5654     11343     17084   ...    -1068     10524    -32240     18876    -17806  
   24320      9330      7702      1103     25276   ...    17364    -18148    -27120    -32324    -22926  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   24320    -19342    -10730     27727     17084   ...   -17452    -22244     -7664    -30276     23154  
   24320    -23438     -8682     17487     25276   ...      980     14620     -2544    -15940     18034  
   24320    -27534     -6634      7247    -32068   ...    19412    -14052      2576     -1604     12914  
   24320    -31630     -4586     -2993    -23876   ...   -27692     22812      7696     12732      7794  
   24320     29810     -2538    -13233    -15684   ...    -9260     -5860     12816     27068      2674  

Output:
   -1536    -25867      4098     -2638     13780   ...     4127     17116     20621     31684     18113  
   -1536    -24843     -2046     28082    -18988   ...   -11233    -32036     13453     25540     18113  
   -1536    -23819     -8190     -6734     13780   ...   -26593    -15652      6285     19396     18113  
   -1536    -22795    -14334     23986    -18988   ...    23583       732      -883     13252     18113  
   -1536    -21771    -20478    -10830     13780   ...     8223     17116     -8051      7108     18113  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2345.00us.
Avg NPU gflops: 171.71

Min NPU matmul time: 2345.00us.
Max NPU gflops: 171.71

Max NPU matmul time: 2345.00us.
Min NPU gflops: 171.71

Error count: 65536


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 3072 -N 512 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x3072x512_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x3072x512_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x3072x512_64x64x64_4c.txt ../build/aie_256x3072x512_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x512_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x512_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x512_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x3072x512_64x64x64_4c.xclbin -i build/insts_256x3072x512_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 3072 -N 512 --b_col_maj 0
Final M=256
Final K=3072
Final N=576
Matrix has been padded
[    0,     0] 31168.00 =!= 9728.00
[    0,     1] -22908.00 =!= -14834.00
[    0,     2] -10976.00 =!= -22726.00
[    0,     3] 13311.00 =!= 11726.00
[    0,     4] -5364.00 =!= -20596.00
[    0,     5] -32088.00 =!= 16940.00
[    0,     6] -23274.00 =!= 10288.00
[    0,     7] -29017.00 =!= 24192.00
[    0,     8] -14648.00 =!= 3088.00
[    0,     9] -28096.00 =!= 32279.00
[    0,    10] -4108.00 =!= -8200.00
[    0,    11] -23070.00 =!= -7575.00
[    0,    12] 6304.00 =!= 2864.00
[    0,    13] -10802.00 =!= 10547.00
[    0,    14] -15176.00 =!= 30498.00
[    0,    15] 10741.00 =!= 14813.00
[    0,    16] -14128.00 =!= -10720.00
[    0,    17] -6575.00 =!= -9440.00
[    0,    18] -24300.00 =!= -22318.00
[    0,    19] -12901.00 =!= 13233.00
[    0,    20] 16672.00 =!= 31604.00
[    0,    21] -21590.00 =!= 7391.00
[    0,    22] -8844.00 =!= 29734.00
[    0,    23] -19362.00 =!= 23137.00
[    0,    24] -11080.00 =!= 17592.00
[    0,    25] 6792.00 =!= 4783.00
[    0,    26] -1222.00 =!= 14740.00
[    0,    27] 31102.00 =!= 18365.00
[    0,    28] -23140.00 =!= -32576.00
[    0,    29] 13472.00 =!= -22672.00
[    0,    30] -31648.00 =!= -6080.00
[    0,    31] -31882.00 =!= 19464.00
...and 131040 further errors.
Maximum relative error: 100%

Reference:
    9728    -14834    -22726     11726    -20596   ...    -2614     -1064     19331     20148      2627  
    9728     17934     -8390     16846     -8308   ...   -20022    -29736    -16509    -14668    -28093  
    9728    -14834      5946     21966      3980   ...    28106      7128     13187     16052      6723  
    9728     17934     20282     27086     16268   ...    10698    -21544    -22653    -18764    -23997  
    9728    -14834    -30918     32206     28556   ...    -6710     15320      7043     11956     10819  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
    9728     17934    -28870    -13874    -16500   ...    18890     11224      1923     -2380     25155  
    9728    -14834    -14534     -8754     -4212   ...     1482    -17448     31619     28340     -5565  
    9728     17934      -198     -3634      8076   ...   -15926     19416     -4221     -6476     29251  
    9728    -14834     14138      1486     20364   ...    32202     -9256     25475     24244     -1469  
    9728     17934     28474      6606     32652   ...    14794     27608    -10365    -10572    -32189  

Output:
   31168    -22908    -10976     13311     -5364   ...    -9737     26828        50    -16100     15486  
   31168    -21884     32032     25599     31500   ...   -31241    -22324    -25550      2332    -12162  
   31168    -20860      9504    -27649      2828   ...    12791     -5940     14386     20764     25726  
   31168    -19836    -13024    -15361    -25844   ...    -8713     10444    -11214    -26340     -1922  
   31168    -18812     29984     -3073     11020   ...   -30217     26828     28722     -7908    -29570  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2730.00us.
Avg NPU gflops: 294.98

Min NPU matmul time: 2730.00us.
Max NPU gflops: 294.98

Max NPU matmul time: 2730.00us.
Min NPU gflops: 294.98

Error count: 131072


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 3072 -N 768 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x3072x768_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x3072x768_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x3072x768_64x64x64_4c.txt ../build/aie_256x3072x768_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x768_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x768_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x768_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x3072x768_64x64x64_4c.xclbin -i build/insts_256x3072x768_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 3072 -N 768 --b_col_maj 0
Final M=256
Final K=3072
Final N=768
Matrix has been padded

Avg NPU matmul time: 3002us.
Avg NPU gflops: 402.385

Min NPU matmul time: 3002us.
Max NPU gflops: 402.385

Max NPU matmul time: 3002us.
Min NPU gflops: 402.385

PASS!

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 3072 -N 1024 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x3072x1024_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x3072x1024_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x3072x1024_64x64x64_4c.txt ../build/aie_256x3072x1024_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x1024_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x1024_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x1024_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x3072x1024_64x64x64_4c.xclbin -i build/insts_256x3072x1024_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 3072 -N 1024 --b_col_maj 0
Final M=256
Final K=3072
Final N=1152
Matrix has been padded
[    0,     0] -3968.00 =!= 18432.00
[    0,     1] -27194.00 =!= 31968.00
[    0,     2] -27688.00 =!= 17446.00
[    0,     3] 8812.00 =!= -16280.00
[    0,     4] -10812.00 =!= 1336.00
[    0,     5] 4293.00 =!= 31062.00
[    0,     6] 8190.00 =!= -30512.00
[    0,     7] 19797.00 =!= -9539.00
[    0,     8] -8632.00 =!= 536.00
[    0,     9] -30757.00 =!= -21989.00
[    0,    10] 18920.00 =!= 1806.00
[    0,    11] 15440.00 =!= -4878.00
[    0,    12] -12688.00 =!= -30408.00
[    0,    13] 23329.00 =!= 15566.00
[    0,    14] -9488.00 =!= 24700.00
[    0,    15] -1711.00 =!= -24715.00
[    0,    16] -13488.00 =!= -28192.00
[    0,    17] 27432.00 =!= 23104.00
[    0,    18] -1728.00 =!= 28172.00
[    0,    19] 9491.00 =!= -18614.00
[    0,    20] 32016.00 =!= -6056.00
[    0,    21] -30182.00 =!= 15082.00
[    0,    22] -26212.00 =!= 26522.00
[    0,    23] -21173.00 =!= 28680.00
[    0,    24] -8472.00 =!= 12688.00
[    0,    25] 31007.00 =!= 11148.00
[    0,    26] 16700.00 =!= -18900.00
[    0,    27] -28154.00 =!= 6039.00
[    0,    28] -30088.00 =!= 32512.00
[    0,    29] 2504.00 =!= 9163.00
[    0,    30] 12662.00 =!= 2614.00
[    0,    31] 3860.00 =!= -25728.00
...and 262080 further errors.
Maximum relative error: 200%

Reference:
   18432     31968     17446    -16280      1336   ...    -2137     26880     11594     27164    -24382  
   18432     23776    -15322    -21400    -27336   ...   -17497      2304       330    -13796     14530  
   18432     15584     17446    -26520      9528   ...    32679    -22272    -10934     10780    -12094  
   18432      7392    -15322    -31640    -19144   ...    17319     18688    -22198    -30180     26818  
   18432      -800     17446     28776     17720   ...     1959     -5888     32074     -5604       194  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   18432      7392    -15322      9320     13624   ...     9127     18688      2378    -30180    -22334  
   18432      -800     17446      4200    -15048   ...    -6233     -5888     -8886     -5604     16578  
   18432     -8992    -15322      -920     21816   ...   -21593    -30464    -20150     18972    -10046  
   18432    -17184     17446     -6040     -6856   ...    28583     10496    -31414    -21988     28866  
   18432    -25376    -15322    -11160     30008   ...    13223    -14080     22858      2588      2242  

Output:
   -3968    -27194    -27688      8812    -10812   ...   -31941     15636      6784     17106      8907  
   -3968     -5690     -3112      9836      9668   ...    12091     11540     20096     15058    -20789  
   -3968     15814     21464     10860     30148   ...    -9413      7444    -32128     13010     15051  
   -3968    -28218    -19496     11884    -14908   ...   -30917      3348    -18816     10962    -14645  
   -3968     -6714      5080     12908      5572   ...    13115      -748     -5504      8914     21195  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 3239.00us.
Avg NPU gflops: 497.26

Min NPU matmul time: 3239.00us.
Max NPU gflops: 497.26

Max NPU matmul time: 3239.00us.
Min NPU gflops: 497.26

Error count: 262112


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 3072 -N 1280 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x3072x1280_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x3072x1280_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x3072x1280_64x64x64_4c.txt ../build/aie_256x3072x1280_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x1280_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x1280_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x1280_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x3072x1280_64x64x64_4c.xclbin -i build/insts_256x3072x1280_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 3072 -N 1280 --b_col_maj 0
Final M=256
Final K=3072
Final N=1344
Matrix has been padded
[    0,     0] 960.00 =!= 18432.00
[    0,     1] -12750.00 =!= 25066.00
[    0,     2] -25552.00 =!= 29292.00
[    0,     3] 23724.00 =!= 25443.00
[    0,     4] -7960.00 =!= 27236.00
[    0,     5] 13329.00 =!= 5842.00
[    0,     6] 7060.00 =!= -10652.00
[    0,     7] -4973.00 =!= 9992.00
[    0,     8] 18000.00 =!= -7072.00
[    0,     9] 18570.00 =!= -1174.00
[    0,    10] 58.00 =!= -10942.00
[    0,    11] -2667.00 =!= -22367.00
[    0,    12] -4420.00 =!= -5336.00
[    0,    13] 12797.00 =!= -12405.00
[    0,    14] 32318.00 =!= -16086.00
[    0,    15] 14571.00 =!= -11263.00
[    0,    16] -10544.00 =!= 7344.00
[    0,    17] 12962.00 =!= 29034.00
[    0,    18] -32642.00 =!= -530.00
[    0,    19] -14527.00 =!= -9088.00
[    0,    20] -24724.00 =!= -12572.00
[    0,    21] 25021.00 =!= 11457.00
[    0,    22] 30432.00 =!= 10044.00
[    0,    23] -17605.00 =!= 31524.00
[    0,    24] -19760.00 =!= 5064.00
[    0,    25] -26842.00 =!= -23042.00
[    0,    26] 14464.00 =!= -9274.00
[    0,    27] -30068.00 =!= 22021.00
[    0,    28] 1728.00 =!= -1848.00
[    0,    29] 25354.00 =!= 25284.00
[    0,    30] 19422.00 =!= -24102.00
[    0,    31] -32293.00 =!= -13313.00
...and 327640 further errors.
Maximum relative error: 200%

Reference:
   18432     25066     29292     25443     27236   ...    -5339     16860    -20760    -30778    -16277  
   18432     12778    -17812    -27805    -21916   ...    15141    -15908     24296    -22586      1131  
   18432       490       620    -15517     -5532   ...   -29915     16860      3816    -14394     18539  
   18432    -11798     19052     -3229     10852   ...    -9435    -15908    -16664     -6202    -29589  
   18432    -24086    -28052      9059     27236   ...    11045     16860     28392      1990    -12181  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   18432     20970      2668     29539     10852   ...    23333    -15908     16104     -6202     27755  
   18432      8682     21100    -23709     27236   ...   -21723     16860     -4376      1990    -20373  
   18432     -3606    -26004    -11421    -21916   ...    -1243    -15908    -24856     10182     -2965  
   18432    -15894     -7572       867     -5532   ...    19237     16860     20200     18374     14443  
   18432    -28182     10860     13155     10852   ...   -25819    -15908      -280     26566     31851  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 3072 -N 1536 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x3072x1536_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x3072x1536_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x3072x1536_64x64x64_4c.txt ../build/aie_256x3072x1536_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x1536_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x1536_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x1536_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x3072x1536_64x64x64_4c.xclbin -i build/insts_256x3072x1536_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 3072 -N 1536 --b_col_maj 0
Final M=256
Final K=3072
Final N=1536
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 3072 -N 1792 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x3072x1792_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x3072x1792_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x3072x1792_64x64x64_4c.txt ../build/aie_256x3072x1792_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x1792_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x1792_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x1792_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x3072x1792_64x64x64_4c.xclbin -i build/insts_256x3072x1792_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 3072 -N 1792 --b_col_maj 0
Final M=256
Final K=3072
Final N=1920
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 3072 -N 2048 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x3072x2048_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x3072x2048_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x3072x2048_64x64x64_4c.txt ../build/aie_256x3072x2048_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x2048_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x2048_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x2048_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x3072x2048_64x64x64_4c.xclbin -i build/insts_256x3072x2048_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 3072 -N 2048 --b_col_maj 0
Final M=256
Final K=3072
Final N=2112
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 3072 -N 2304 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x3072x2304_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x3072x2304_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x3072x2304_64x64x64_4c.txt ../build/aie_256x3072x2304_64x64x64_4c.mlir
[AIE ERROR] _XAie_LoadProgMemSection():231: Overflow of program memory
XAie_LoadElf failed with XAIE_INVALID_ELFFound xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x2304_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Traceback (most recent call last):
  File "/home/mliraie/mlir-aie/my_install/mlir_aie/bin/aiecc.py", line 12, in <module>
    main()
  File "/home/mliraie/mlir-aie/my_install/mlir_aie/python/aie/compiler/aiecc/main.py", line 1280, in main
    run(module_str)
  File "/home/mliraie/mlir-aie/my_install/mlir_aie/python/aie/compiler/aiecc/main.py", line 1254, in run
    asyncio.run(runner.run_flow())
  File "/usr/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/base_events.py", line 687, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/home/mliraie/mlir-aie/my_install/mlir_aie/python/aie/compiler/aiecc/main.py", line 1168, in run_flow
    await self.process_cdo()
  File "/home/mliraie/mlir-aie/my_install/mlir_aie/python/aie/compiler/aiecc/main.py", line 580, in process_cdo
    generate_cdo(input_physical.operation, self.tmpdirname)
ValueError: Failed to generate cdo because: 
make: *** [/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../makefile-common-padding:107: build/final_256x3072x2304_64x64x64_4c.xclbin] Error 1
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x3072x2304_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x3072x2304_64x64x64_4c.txt ../build/aie_256x3072x2304_64x64x64_4c.mlir
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x2304_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 3072 -N 2560 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x3072x2560_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x3072x2560_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x3072x2560_64x64x64_4c.txt ../build/aie_256x3072x2560_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x2560_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x2560_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x2560_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x3072x2560_64x64x64_4c.xclbin -i build/insts_256x3072x2560_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 3072 -N 2560 --b_col_maj 0
Final M=256
Final K=3072
Final N=2688
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 3072 -N 2816 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x3072x2816_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x3072x2816_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x3072x2816_64x64x64_4c.txt ../build/aie_256x3072x2816_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x2816_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x2816_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x2816_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x3072x2816_64x64x64_4c.xclbin -i build/insts_256x3072x2816_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 3072 -N 2816 --b_col_maj 0
Final M=256
Final K=3072
Final N=2880
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 3072 -N 3072 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x3072x3072_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x3072x3072_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x3072x3072_64x64x64_4c.txt ../build/aie_256x3072x3072_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x3072_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x3072_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x3072_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x3072x3072_64x64x64_4c.xclbin -i build/insts_256x3072x3072_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 3072 -N 3072 --b_col_maj 0
Final M=256
Final K=3072
Final N=3072
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 3072 -N 3328 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x3072x3328_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x3072x3328_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x3072x3328_64x64x64_4c.txt ../build/aie_256x3072x3328_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x3328_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x3328_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x3328_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x3072x3328_64x64x64_4c.xclbin -i build/insts_256x3072x3328_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 3072 -N 3328 --b_col_maj 0
Final M=256
Final K=3072
Final N=3456
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 3072 -N 3584 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x3072x3584_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x3072x3584_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x3072x3584_64x64x64_4c.txt ../build/aie_256x3072x3584_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x3584_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x3584_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x3584_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x3072x3584_64x64x64_4c.xclbin -i build/insts_256x3072x3584_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 3072 -N 3584 --b_col_maj 0
Final M=256
Final K=3072
Final N=3648
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 3072 -N 3840 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x3072x3840_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x3072x3840_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x3072x3840_64x64x64_4c.txt ../build/aie_256x3072x3840_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x3840_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x3840_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x3072x3840_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
SHELL=/bin/bash
JUPYTERHUB_SERVICE_URL=http://0.0.0.0:8888/user/ucsd-mlir-ajay-ramesh-ranganathan/
HOSTNAME=27abf39e880d
LANGUAGE=en_US:en
JUPYTERHUB_API_TOKEN=ad846a95990d4d6d8257e53ad1c6c4d3
JUPYTERHUB_BASE_URL=/
JUPYTERHUB_PUBLIC_URL=
XILINX_XRT=/opt/xilinx/xrt
n_aie_cols=4
PWD=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad
JUPYTER_SERVER_URL=http://27abf39e880d:8888/user/ucsd-mlir-ajay-ramesh-ranganathan/
JUPYTERHUB_SERVER_NAME=
LINES=35
n=64
m=64
k=64
XRT_HACK_UNSECURE_LOADING_XCLBIN=1
HOME=/home/mliraie
LANG=en_US.UTF-8
PEANO_INSTALL_DIR=/home/mliraie/mlir-aie/my_install/llvm-aie
LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=00:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.avif=01;35:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:*~=00;90:*#=00;90:*.bak=00;90:*.crdownload=00;90:*.dpkg-dist=00;90:*.dpkg-new=00;90:*.dpkg-old=00;90:*.dpkg-tmp=00;90:*.old=00;90:*.orig=00;90:*.part=00;90:*.rej=00;90:*.rpmnew=00;90:*.rpmorig=00;90:*.rpmsave=00;90:*.swp=00;90:*.tmp=00;90:*.ucf-dist=00;90:*.ucf-new=00;90:*.ucf-old=00;90:
JPY_API_TOKEN=ad846a95990d4d6d8257e53ad1c6c4d3
COLUMNS=133
VIRTUAL_ENV=/home/mliraie/mlir-aie/ironenv
JUPYTERHUB_SERVICE_PREFIX=/user/ucsd-mlir-ajay-ramesh-ranganathan/
XILINXD_LICENSE_FILE=/opt/Xilinx.lic
JUPYTERHUB_OAUTH_CALLBACK_URL=/user/ucsd-mlir-ajay-ramesh-ranganathan/oauth_callback
JUPYTERHUB_ROOT_DIR=/notebooks
JUPYTERHUB_OAUTH_CLIENT_ALLOWED_SCOPES=[]
JUPYTER_IMAGE_SPEC=mlir-aie:latest
LIC_MAC=58:47:ca:71:b3:c0
LESSCLOSE=/usr/bin/lesspipe %s %s
JUPYTER_SERVER_ROOT=/notebooks
PYTHONPATH=/home/mliraie/mlir-aie/my_install/mlir_aie/python:/opt/xilinx/xrt/python
TERM=xterm-256color
LESSOPEN=| /usr/bin/lesspipe %s
JUPYTERHUB_OAUTH_ACCESS_SCOPES=["access:servers!server=ucsd-mlir-ajay-ramesh-ranganathan/", "access:servers!user=ucsd-mlir-ajay-ramesh-ranganathan"]
JUPYTERHUB_COOKIE_HOST_PREFIX_ENABLED=0
SHLVL=2
PYXTERM_DIMENSIONS=80x25
JUPYTERHUB_API_URL=http://192.168.252.2:8081/hub/api
JUPYTERHUB_CLIENT_ID=jupyterhub-user-ucsd-mlir-ajay-ramesh-ranganathan
JUPYTERHUB_OAUTH_SCOPES=["access:servers!server=ucsd-mlir-ajay-ramesh-ranganathan/", "access:servers!user=ucsd-mlir-ajay-ramesh-ranganathan"]
JUPYTERHUB_PUBLIC_HUB_URL=
VIRTUAL_ENV_PROMPT=(ironenv) 
JUPYTERHUB_HOST=
JUPYTERHUB_DEBUG=1
LD_LIBRARY_PATH=/home/mliraie/mlir-aie/my_install/llvm-aie/lib:/home/mliraie/mlir-aie/my_install/mlir_aie/lib:/home/mliraie/mlir-aie/my_install/mlir/lib:/opt/xilinx/xrt/lib
dtype_out=i16
DEBUGINFOD_URLS=https://debuginfod.ubuntu.com 
LC_ALL=en_US.UTF-8
PATH=/home/mliraie/mlir-aie/my_install/llvm-aie/bin:/home/mliraie/mlir-aie/my_install/mlir_aie/bin:/home/mliraie/mlir-aie/my_install/mlir/bin:/home/mliraie/mlir-aie/ironenv/bin:/opt/vitis_aie_essentials/bin/:/opt/xilinx/xrt/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
dtype_in=i16
JUPYTERHUB_USER=ucsd-mlir-ajay-ramesh-ranganathan
JUPYTERHUB_ACTIVITY_URL=http://192.168.252.2:8081/hub/api/users/ucsd-mlir-ajay-ramesh-ranganathan/activity
OLDPWD=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication
_=/usr/bin/env
##===- Makefile -----------------------------------------------------------===##
# 
# This file licensed under the Apache License v2.0 with LLVM Exceptions.
# See https://llvm.org/LICENSE.txt for license information.
# SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception
#
# Copyright (C) 2024, Advanced Micro Devices, Inc.
# 
##===----------------------------------------------------------------------===##
srcdir := $(shell dirname $(realpath $(firstword $(MAKEFILE_LIST))))
subdir=whole_array_pad
targetname=matrixMultiplicationPadded

M?=256
K?=256
N?=256
m?=16
k?=32
n?=48
n_aie_cols?=2
b_col_maj?=0

kernels=mm_${m}x${k}x${n}
aieargs+=-m $m -k $k -n $n --n-aie-cols ${n_aie_cols} --b-col-maj ${b_col_maj}
runargs+=--b_col_maj ${b_col_maj}
target_suffix=${M}x${K}x${N}_${m}x${k}x${n}_${n_aie_cols}c

include ${srcdir}/../makefile-common-padding

build/mm_b_row_maj_${m}x${k}x${n}.o: ${kernels_dir}/mm.cc
	mkdir -p ${@D}
	cd ${@D} && ${PEANO_INSTALL_DIR}/bin/clang++ ${PEANOWRAP2_FLAGS} -DBIT_WIDTH=8 -D${dtype_in}_${dtype_out}_ONLY -DDIM_M=${m} -DDIM_K=${k} -DDIM_N=${n} -c $< -o ${@F}

build/mm_b_col_maj_${m}x${k}x${n}.o: ${kernels_dir}/mm_b_col_maj.cc
	mkdir -p ${@D}
	cd ${@D} && ${PEANO_INSTALL_DIR}/bin/clang++ ${PEANOWRAP2_FLAGS} -DBIT_WIDTH=8 -DDIM_M=${m} -DDIM_K=${k} -DDIM_N=${n} -c $< -o ${@F}

ifneq (${b_col_maj}, 1)
build/mm_${m}x${k}x${n}.o: build/mm_b_row_maj_${m}x${k}x${n}.o 
	mkdir -p ${@D}
	ar rvs $@ $^
else
build/mm_${m}x${k}x${n}.o: build/mm_b_col_maj_${m}x${k}x${n}.o
	mkdir -p ${@D}
	ar rvs $@ $^
endifrm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 256 -N 256 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x256x256_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x256x256_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x256x256_64x64x64_4c.txt ../build/aie_256x256x256_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x256_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x256_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x256_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x256x256_64x64x64_4c.xclbin -i build/insts_256x256x256_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 256 -N 256 --b_col_maj 0
Final M=256
Final K=256
Final N=384
Matrix has been padded
[    0,     0] -3712.00 =!= 6144.00
[    0,     1] -9589.00 =!= -11750.00
[    0,     2] -32046.00 =!= 21034.00
[    0,     3] -7168.00 =!= -11809.00
[    0,     4] 12976.00 =!= 20792.00
[    0,     5] -27902.00 =!= -11893.00
[    0,     6] 18942.00 =!= -7040.00
[    0,     7] -23029.00 =!= -16112.00
[    0,     8] -19872.00 =!= -19472.00
[    0,     9] -8384.00 =!= -16286.00
[    0,    10] 19258.00 =!= 25422.00
[    0,    11] 23826.00 =!= 14412.00
[    0,    12] -21152.00 =!= 25556.00
[    0,    13] 3796.00 =!= 9334.00
[    0,    14] 23024.00 =!= -31326.00
[    0,    15] 24013.00 =!= 1626.00
[    0,    16] -20704.00 =!= 32608.00
[    0,    17] -31035.00 =!= 11693.00
[    0,    18] -30442.00 =!= -2142.00
[    0,    19] 26163.00 =!= -29393.00
[    0,    20] 23664.00 =!= 4532.00
[    0,    21] 8512.00 =!= -26268.00
[    0,    22] 17880.00 =!= 8456.00
[    0,    23] -25624.00 =!= 14258.00
[    0,    24] -11824.00 =!= 5472.00
[    0,    25] -28596.00 =!= 17409.00
[    0,    26] -12182.00 =!= 7118.00
[    0,    27] 21672.00 =!= 5097.00
[    0,    28] -10088.00 =!= -24876.00
[    0,    29] -5080.00 =!= -8179.00
[    0,    30] -32670.00 =!= 25712.00
[    0,    31] 17864.00 =!= -30004.00
...and 65504 further errors.
Maximum relative error: 100%

Reference:
    6144    -11750     21034    -11809     20792   ...     8594    -23624    -26675     -4592      7108  
    6144        26     -7126    -24609     -3784   ...    32146     18360    -12595     10768     11460  
    6144     11802     30250     28127    -28360   ...    -9838     -5192      1485     26128     15812  
    6144     23578      2090     15327     12600   ...    13714    -28744     15565    -24048     20164  
    6144    -30182    -26070      2527    -11976   ...   -28270     13240     29645     -8688     24516  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
    6144     -5094     30762    -13345     12600   ...    21906     28600    -31539    -15856    -14652  
    6144      6682      2602    -26145    -11976   ...   -20078      5048    -17459      -496    -10300  
    6144     18458    -25558     26591     28984   ...     3474    -18504     -3379     14864     -5948  
    6144     30234     11818     13791      4408   ...    27026     23480     10701     30224     -1596  
    6144    -23526    -16342       991    -20168   ...   -14958       -72     24781    -19952      2756  

Output:
   -3712     -9589    -32046     -7168     12976   ...   -19947     27828     31756    -15234     28377  
   -3712     20363    -13614    -10752     23216   ...   -32747     -2892    -25076     22654      3545  
   -3712    -15221      4818    -14336    -32080   ...    19989     31924    -16372     -4994    -21287  
   -3712     14731     23250    -17920    -21840   ...     7189      1204     -7668    -32642     19417  
   -3712    -20853    -23854    -21504    -11600   ...    -5611    -29516      1036      5246     -5415  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2073.00us.
Avg NPU gflops: 16.19

Min NPU matmul time: 2073.00us.
Max NPU gflops: 16.19

Max NPU matmul time: 2073.00us.
Min NPU gflops: 16.19

Error count: 65536


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 256 -N 512 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x256x512_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x256x512_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x256x512_64x64x64_4c.txt ../build/aie_256x256x512_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x512_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x512_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x512_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x256x512_64x64x64_4c.xclbin -i build/insts_256x256x512_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 256 -N 512 --b_col_maj 0
Final M=256
Final K=256
Final N=576
Matrix has been padded
[    0,     0] 11008.00 =!= 26624.00
[    0,     1] -6533.00 =!= 31272.00
[    0,     2] 25226.00 =!= -27614.00
[    0,     3] -3218.00 =!= -538.00
[    0,     4] 2676.00 =!= -32384.00
[    0,     5] -31091.00 =!= -16816.00
[    0,     6] -32442.00 =!= 22716.00
[    0,     7] 8430.00 =!= -22377.00
[    0,     8] -9144.00 =!= -15528.00
[    0,     9] 9749.00 =!= -19339.00
[    0,    10] 12758.00 =!= 21458.00
[    0,    11] -19255.00 =!= -8524.00
[    0,    12] -4384.00 =!= -2380.00
[    0,    13] -24476.00 =!= 13274.00
[    0,    14] -28162.00 =!= -9978.00
[    0,    15] 14305.00 =!= -31284.00
[    0,    16] 10848.00 =!= -16976.00
[    0,    17] -25315.00 =!= 27419.00
[    0,    18] 24532.00 =!= -14044.00
[    0,    19] -10832.00 =!= 7946.00
[    0,    20] -26396.00 =!= 11700.00
[    0,    21] -6406.00 =!= -31526.00
[    0,    22] 17054.00 =!= 8018.00
[    0,    23] 20813.00 =!= -871.00
[    0,    24] 4792.00 =!= 3368.00
[    0,    25] 15983.00 =!= -31312.00
[    0,    26] 10716.00 =!= 10258.00
[    0,    27] 8372.00 =!= -26510.00
[    0,    28] 9332.00 =!= 26872.00
[    0,    29] 2018.00 =!= -23048.00
[    0,    30] -22466.00 =!= 15356.00
[    0,    31] -16594.00 =!= 28728.00
...and 131037 further errors.
Maximum relative error: 100%

Reference:
   26624     31272    -27614      -538    -32384   ...   -27300     26048    -29978       758    -29811  
   26624      1832     20514     -8218      8576   ...     -164    -20032    -30490      5366     28557  
   26624    -27608      3106    -15898    -16000   ...    26972      -576    -31002      9974     21389  
   26624      8488    -14302    -23578     24960   ...   -11428     18880    -31514     14582     14221  
   26624    -20952    -31710    -31258       384   ...    15708    -27200    -32026     19190      7053  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   26624    -18136     -6110    -27674     24960   ...   -31908     -5696    -27418    -22282      6029  
   26624     17960    -23518     30182       384   ...    -4772     13760    -27930    -17674     -1139  
   26624    -11480     24610     22502    -24192   ...    22364    -32320    -28442    -13066     -8307  
   26624     24616      7202     14822     16768   ...   -16036    -12864    -28954     -8458    -15475  
   26624     -4824    -10206      7142     -7808   ...    11100      6592    -29466     -3850    -22643  

Output:
   11008     -6533     25226     -3218      2676   ...    31768      6412     21160    -22044     31389  
   -5376     20603     10378     17262     19060   ...    16408      -756    -29272    -18460    -15459  
  -21760    -17797     -4470    -27794    -30092   ...     1048     -7924    -14168    -14876      3229  
   27392      9339    -19318     -7314    -13708   ...   -14312    -15092       936    -11292     21917  
   11008    -29061     31370     13166      2676   ...   -29672    -22260     16040     -7708    -24931  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 3646.00us.
Avg NPU gflops: 18.41

Min NPU matmul time: 3646.00us.
Max NPU gflops: 18.41

Max NPU matmul time: 3646.00us.
Min NPU gflops: 18.41

Error count: 131069


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 256 -N 768 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x256x768_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x256x768_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x256x768_64x64x64_4c.txt ../build/aie_256x256x768_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x768_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x768_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x768_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x256x768_64x64x64_4c.xclbin -i build/insts_256x256x768_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 256 -N 768 --b_col_maj 0
Final M=256
Final K=256
Final N=768
Matrix has been padded

Avg NPU matmul time: 2090us.
Avg NPU gflops: 48.1643

Min NPU matmul time: 2090us.
Max NPU gflops: 48.1643

Max NPU matmul time: 2090us.
Min NPU gflops: 48.1643

PASS!

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 256 -N 1024 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x256x1024_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x256x1024_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x256x1024_64x64x64_4c.txt ../build/aie_256x256x1024_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x1024_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x1024_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x1024_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x256x1024_64x64x64_4c.xclbin -i build/insts_256x256x1024_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 256 -N 1024 --b_col_maj 0
Final M=256
Final K=256
Final N=1152
Matrix has been padded
[    0,     0] 25088.00 =!= 31744.00
[    0,     1] 27587.00 =!= 25966.00
[    0,     2] 9450.00 =!= 26016.00
[    0,     3] 22358.00 =!= 5819.00
[    0,     4] -25880.00 =!= -22620.00
[    0,     5] 21549.00 =!= -16306.00
[    0,     6] -11414.00 =!= 14888.00
[    0,     7] 6360.00 =!= -28104.00
[    0,     8] -7320.00 =!= -26648.00
[    0,     9] -21189.00 =!= -10253.00
[    0,    10] 1308.00 =!= -4458.00
[    0,    11] 23109.00 =!= 5392.00
[    0,    12] 6624.00 =!= -14664.00
[    0,    13] -30578.00 =!= -1585.00
[    0,    14] 3490.00 =!= -874.00
[    0,    15] -21426.00 =!= 2151.00
[    0,    16] -2496.00 =!= -5600.00
[    0,    17] 9617.00 =!= 9091.00
[    0,    18] -19770.00 =!= 28372.00
[    0,    19] 28185.00 =!= 12247.00
[    0,    20] -29104.00 =!= -152.00
[    0,    21] 10582.00 =!= 3407.00
[    0,    22] -4600.00 =!= 14420.00
[    0,    23] -2092.00 =!= 4030.00
[    0,    24] 23424.00 =!= -17248.00
[    0,    25] 24152.00 =!= 31785.00
[    0,    26] -30730.00 =!= -12050.00
[    0,    27] -5736.00 =!= -23991.00
[    0,    28] 19080.00 =!= 16368.00
[    0,    29] 3433.00 =!= -21710.00
[    0,    30] -8104.00 =!= 2868.00
[    0,    31] -24700.00 =!= -4226.00
...and 262108 further errors.
Maximum relative error: 200%

Reference:
   31744     25966     26016      5819    -22620   ...   -15501     12352    -32368     -2260    -25599  
   31744      8558       -96    -25157     16292   ...   -20365    -24512     23952     18732     22529  
   31744     -8850    -26208      9403    -10332   ...   -25229      4160     14736    -25812      5121  
   31744    -26258     13216    -21573     28580   ...   -30093    -32704      5520     -4820    -12287  
   31744     21870    -12896     12987      1956   ...    30579     -4032     -3696     16172    -29695  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   31744    -18066     25504     29627    -20572   ...     8819        64     13712     23852     -4095  
   31744     30062      -608     -1349     18340   ...     3955     28736      4496    -20692    -21503  
   31744     12654    -26720    -32325     -8284   ...     -909     -8128     -4720       300     26625  
   31744     -4754     12704      2235     30628   ...    -5773     20544    -13936     21292      9217  
   31744    -22162    -13408    -28741      4004   ...   -10637    -16320    -23152    -23252     -8191  

Output:
   25088     27587      9450     22358    -25880   ...    27150     18624    -22570     25860     23605  
   -7680     10947    -10006     23382     23272   ...   -29426    -29504     27862    -31996     -9675  
   25088     -5693    -29462     24406      6888   ...   -20466    -12096     12758    -24316     22581  
   -7680    -22333     16618     25430     -9496   ...   -11506      5312     -2346    -16636    -10699  
   25088     26563     -2838     26454    -25880   ...    -2546     22720    -17450     -8956     21557  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  
       0         0         0         0         0   ...        0         0         0         0         0  

Avg NPU matmul time: 2243.00us.
Avg NPU gflops: 59.84

Min NPU matmul time: 2243.00us.
Max NPU gflops: 59.84

Max NPU matmul time: 2243.00us.
Min NPU gflops: 59.84

Error count: 262140


Failed.

rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 256 -N 1280 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x256x1280_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x256x1280_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x256x1280_64x64x64_4c.txt ../build/aie_256x256x1280_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x1280_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x1280_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x1280_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
[100%] Linking CXX executable matrixMultiplicationPadded
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[100%] Built target matrixMultiplicationPadded
gmake[2]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[1]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
cp _build/matrixMultiplicationPadded matrixMultiplicationPadded.exe 
export XRT_HACK_UNSECURE_LOADING_XCLBIN=1 && \
 ./matrixMultiplicationPadded.exe -x build/final_256x256x1280_64x64x64_4c.xclbin -i build/insts_256x256x1280_64x64x64_4c.txt -k MLIR_AIE -M 256 -K 256 -N 1280 --b_col_maj 0
Final M=256
Final K=256
Final N=1344
Matrix has been padded
[    0,     0] 4992.00 =!= 12544.00
[    0,     1] 951.00 =!= 22602.00
[    0,     2] 25534.00 =!= 23312.00
[    0,     3] -1612.00 =!= 12112.00
[    0,     4] -13224.00 =!= 26732.00
[    0,     5] -14644.00 =!= -27646.00
[    0,     6] 13168.00 =!= -2612.00
[    0,     7] -28665.00 =!= -18526.00
[    0,     8] 32176.00 =!= 15624.00
[    0,     9] -22649.00 =!= -26553.00
[    0,    10] 30778.00 =!= -9818.00
[    0,    11] 30504.00 =!= 21062.00
[    0,    12] 28716.00 =!= 13932.00
[    0,    13] -6349.00 =!= -28010.00
[    0,    14] 7234.00 =!= 18680.00
[    0,    15] -7606.00 =!= 31800.00
[    0,    16] 10704.00 =!= 23968.00
[    0,    17] -858.00 =!= -23502.00
[    0,    18] 30992.00 =!= 31096.00
[    0,    19] -8711.00 =!= -22960.00
[    0,    20] -9128.00 =!= 3160.00
[    0,    21] -1603.00 =!= -1382.00
[    0,    22] 3124.00 =!= 27450.00
[    0,    23] -11055.00 =!= 1380.00
[    0,    24] -21656.00 =!= 16000.00
[    0,    25] 3510.00 =!= 19672.00
[    0,    26] 18508.00 =!= 114.00
[    0,    27] -6766.00 =!= -10504.00
[    0,    28] -19376.00 =!= -19072.00
[    0,    29] 20141.00 =!= 20618.00
[    0,    30] -8154.00 =!= 30064.00
[    0,    31] 9589.00 =!= 31721.00
...and 327639 further errors.
Maximum relative error: 200%

Reference:
   12544     22602     23312     12112     26732   ...   -31281      7288     30820    -20060     18386  
   12544      6474     10000    -18096      2156   ...   -23345     18552    -20892     26532      9682  
   12544     -9654     -3312     17232    -22420   ...   -15409     29816     -7068      7588       978  
   12544    -25782    -16624    -12976     18540   ...    -7473    -24456      6756    -11356     -7726  
   12544     23626    -29936     22352     -6036   ...      463    -13192     20580    -30300    -16430  
    ...       ...       ...       ...       ...    ...     ...       ...       ...       ...       ...   
   12544    -27830     24336     32080     18540   ...    -5425     16504     27236      9124     -3630  
   12544     21578     11024      1872     -6036   ...     2511     27768    -24476     -9820    -12334  
   12544      5450     -2288    -28336    -30612   ...    10447    -26504    -10652    -28764    -21038  
   12544    -10678    -15600      6992     10348   ...    18383    -15240      3172     17828    -29742  
   12544    -26806    -28912    -23216    -14228   ...    26319     -3976     16996     -1116     27090  

Output:
rm -rf tmpTrace parse*.json trace*json trace.txt
rm -rf build _build matrixMultiplicationPadded.exe
mkdir -p build
python3 /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/aie2.py -m 64 -k 64 -n 64 --n-aie-cols 4 --b-col-maj 0 -M 256 -K 256 -N 1536 --dtype_in i16 --dtype_out i16 --trace_size 0 > build/aie_256x256x1536_64x64x64_4c.mlir
mkdir -p build
cd build && /home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++ -O2 -v -std=c++20 --target=aie2-none-unknown-elf -Wno-parentheses -Wno-attributes -Wno-macro-redefined -DNDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include  -DBIT_WIDTH=8 -Di16_i16_ONLY -DDIM_M=64 -DDIM_K=64 -DDIM_N=64 -c /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc -o mm_b_row_maj_64x64x64.o
clang version 19.0.0 (https://github.com/Xilinx/llvm-aie 6b76c280f824438759ed8282bcae6c89cd04e839)
Target: aie2-none-unknown-elf
Thread model: posix
InstalledDir: /home/mliraie/mlir-aie/my_install/llvm-aie/bin
Build config: +assertions
Found HIP installation: /usr, version 5.7.31921
 (in-process)
 "/home/mliraie/mlir-aie/my_install/llvm-aie/bin/clang++" -cc1 -triple aie2-none-unknown-elf -emit-obj -disable-free -clear-ast-before-backend -main-file-name mm.cc -mrelocation-model static -mframe-pointer=none -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -fno-use-init-array -mllvm -vectorize-loops=false -mllvm -vectorize-slp=false -mllvm --two-entry-phi-node-folding-threshold=10 -fno-threadsafe-statics -mllvm -mandatory-inlining-before-opt=false -mllvm -basic-aa-full-phi-analysis=true -mllvm -basic-aa-max-lookup-search-depth=10 -debugger-tuning=gdb -fdebug-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -v -fcoverage-compilation-dir=/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build -resource-dir /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19 -D NDEBUG -I /home/mliraie/mlir-aie/my_install/mlir_aie/include -D BIT_WIDTH=8 -D i16_i16_ONLY -D DIM_M=64 -D DIM_K=64 -D DIM_N=64 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1 -internal-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1 -include aiev2intrin.h -D__AIENGINE__ -D__AIEARCH__=20 -nostdsysteminc -internal-externc-isystem /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf -O2 -Wno-parentheses -Wno-attributes -Wno-macro-redefined -std=c++20 -fdeprecated-macro -ferror-limit 19 -fgnuc-version=4.2.1 -fno-implicit-modules -fskip-odr-check-in-gmf -fcxx-exceptions -fexceptions -vectorize-loops -vectorize-slp -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o mm_b_row_maj_64x64x64.o -x c++ /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../../../../aie_kernels/aie2/mm.cc
clang -cc1 version 19.0.0 based upon LLVM 19.0.0 default target x86_64-unknown-linux-gnu
#include "..." search starts here:
#include <...> search starts here:
 /home/mliraie/mlir-aie/my_install/mlir_aie/include
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/c++/v1
 /home/mliraie/mlir-aie/my_install/llvm-aie/bin/../include/aie2-none-unknown-elf
 /home/mliraie/mlir-aie/my_install/llvm-aie/lib/clang/19/include
End of search list.
mkdir -p build
ar rvs build/mm_64x64x64.o build/mm_b_row_maj_64x64x64.o
ar: creating build/mm_64x64x64.o
a - build/mm_b_row_maj_64x64x64.o
mkdir -p build
cd build && aiecc.py --aie-generate-cdo --no-compile-host --xclbin-name=final_256x256x1536_64x64x64_4c.xclbin \
			 --no-xchesscc --no-xbridge --peano /home/mliraie/mlir-aie/my_install/llvm-aie \
			--aie-generate-npu --npu-insts-name=insts_256x256x1536_64x64x64_4c.txt ../build/aie_256x256x1536_64x64x64_4c.mlir


****** Bootgen v2024.1
  **** Build date : Nov 13 2024-04:13:33
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2024 Advanced Micro Devices, Inc. All Rights Reserved.


[INFO]   : Bootimage generated successfully

Info: Embedded Metadata section is missing project.platform.device.core element, adding it.
Found xchesscc at /opt/vitis_aie_essentials
 AIE Compilation: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00 0:00:00 17/17 4 Workers
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x1536_64x64x64_4c.mlir.prj/aie_cdo_elfs.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x1536_64x64x64_4c.mlir.prj/aie_cdo_init.bin
Generating: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/build/aie_256x256x1536_64x64x64_4c.mlir.prj/aie_cdo_enable.bin
rm -rf _build
mkdir -p _build
cd _build &&  cmake -E env CXXFLAGS="-std=c++23 -ggdb -DDTYPE_IN=int16_t -DDTYPE_OUT=int16_t -DDTYPE_ACC=int16_t" \
	cmake /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/.. -D CMAKE_C_COMPILER=gcc-13 -D CMAKE_CXX_COMPILER=g++-13 -DTARGET_NAME=matrixMultiplicationPadded -Dsubdir=whole_array_pad
CMake Deprecation Warning at CMakeLists.txt:14 (cmake_minimum_required):
  Compatibility with CMake < 3.10 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- The C compiler identification is GNU 13.2.0
-- The CXX compiler identification is GNU 13.2.0
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /usr/bin/gcc-13 - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/g++-13 - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
CMake Warning (dev) at CMakeLists.txt:47 (find_package):
  Policy CMP0167 is not set: The FindBoost module is removed.  Run "cmake
  --help-policy CMP0167" for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

This warning is for project developers.  Use -Wno-dev to suppress it.

-- Found Boost: /usr/lib/x86_64-linux-gnu/cmake/Boost-1.83.0/BoostConfig.cmake (found version "1.83.0")
-- Configuring done (0.2s)
-- Generating done (0.0s)
-- Build files have been written to: /notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build
cd _build &&  cmake --build . --config Release
gmake[1]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[2]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Leaving directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
gmake[3]: Entering directory '/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/_build'
[ 33%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/notebooks/ajay/mlir-aie/runtime_lib/test_lib/test_utils.cpp.o
[ 66%] Building CXX object CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o
gmake[3]: *** [CMakeFiles/matrixMultiplicationPadded.dir/build.make:93: CMakeFiles/matrixMultiplicationPadded.dir/whole_array_pad/test.cpp.o] Interrupt
make: *** [/notebooks/ajay/mlir-aie/programming_examples/basic/matrix_multiplication/whole_array_pad/../makefile-common-padding:125: matrixMultiplicationPadded.exe] Interrupt
gmake[2]: *** [CMakeFiles/Makefile2:87: CMakeFiles/matrixMultiplicationPadded.dir/all] Interrupt
gmake[1]: *** [Makefile:91: all] Interrupt
